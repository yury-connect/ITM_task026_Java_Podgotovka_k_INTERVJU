#### –ú–µ–∂–°–µ—Ä–≤–∏—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
### **mTLS –≤ Keycloak**: –ø—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ

#### **üîê –ß—Ç–æ —ç—Ç–æ?**
**mTLS (Mutual TLS)**¬†‚Äî —ç—Ç–æ –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏:
- **–°–µ—Ä–≤–µ—Ä**¬†(Keycloak) –∏¬†**–∫–ª–∏–µ–Ω—Ç**¬†(–≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è¬†**SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏**.  
- –ë–µ–∑ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω.

---
### **üõ°Ô∏è –ó–∞—á–µ–º –Ω—É–∂–Ω–æ?**
1. **–ó–∞–º–µ–Ω–∞¬†`client_secret`**    
    - –í–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª—è (`client_secret`) ‚Äî –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –Ω–∞–¥—ë–∂–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.    
2. **–ó–∞—â–∏—Ç–∞ –æ—Ç –∫—Ä–∞–∂–∏ —Ç–æ–∫–µ–Ω–æ–≤**    
    - –¢–æ–∫–µ–Ω –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É ‚Üí 
	      –¥–∞–∂–µ –µ—Å–ª–∏ —É–∫—Ä–∞–¥—É—Ç, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è.    
3. **–î–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**    
    - –¢–æ–ª—å–∫–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É.

---
### **üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
1. **–ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Keycloak**    
    - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å (*–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞ —Ç–æ–∫–µ–Ω–æ–º*).
    
2. **Keycloak —Ç—Ä–µ–±—É–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**    
    - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –æ–Ω:        
        - –í—ã–ø—É—â–µ–Ω¬†**–¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º —Ü–µ–Ω—Ç—Ä–æ–º**¬†(CA).            
        - –ï—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö.
    
3. **–ï—Å–ª–∏ –≤—Å—ë –æ–∫ ‚Äî –≤—ã–¥–∞—ë—Ç —Ç–æ–∫–µ–Ω**    
    - –¢–æ–∫–µ–Ω¬†**–ø—Ä–∏–≤—è–∑–∞–Ω**¬†–∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É ‚Üí –±–µ–∑ –Ω–µ–≥–æ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω.

---
### **üìå –ù–∞—Å—Ç—Ä–æ–π–∫–∞** (*–∫—Ä–∞—Ç–∫–æ*)

1. **–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã**    
    - CA (*–≤–∞—à —Ü–µ–Ω—Ç—Ä —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏*) + —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤.
    
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Keycloak**
```xml
<https-listener verify-client="REQUIRED"/>  <!-- –¢—Ä–µ–±—É–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç -->
```
- –î–æ–±–∞–≤—å—Ç–µ CA –≤¬†`truststore.jks`¬†(*—á—Ç–æ–±—ã `Keycloak` –µ–º—É –¥–æ–≤–µ—Ä—è–ª*).
    
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞**    
    - –í–∫–ª—é—á–∏—Ç–µ¬†**X509 Certificate**¬†–≤ –∞–¥–º–∏–Ω–∫–µ `Keycloak`.

---
### **üöÄ –ü—Ä–∏–º–µ—Ä –¥–ª—è `Spring Boot`**
```yaml
# application.yml  
server:  
  ssl:  
    client-auth: need  # –¢—Ä–µ–±—É–µ—Ç mTLS  
    key-store: "classpath:client.p12"  # –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∫–ª–∏–µ–Ω—Ç–∞  
    trust-store: "classpath:truststore.jks"  # –î–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ CA  
```

---
### **üí° –ò—Ç–æ–≥**
- **–ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ –ø–∞—Ä–æ–ª–µ–π**¬†‚Üí —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –¥–æ—Å—Ç—É–ø.    
- **–õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è**¬†‚Üí –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–∏—Å—Ç–µ–º.    

> **–î–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è**:  
> _"–ú—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ mTLS –≤ Keycloak, —á—Ç–æ–±—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∏—Å—å –ø–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º –≤–º–µ—Å—Ç–æ client_secret. Keycloak –ø—Ä–æ–≤–µ—Ä—è–ª —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–ª –∫ –Ω–µ–º—É —Ç–æ–∫–µ–Ω ‚Äî —ç—Ç–æ –∑–∞—â–∏—â–∞–ª–æ –æ—Ç –∞—Ç–∞–∫."_

–ö–æ—Ä–æ—Ç–∫–æ, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω–æ, –±–µ–∑ –ª–∏—à–Ω–µ–π –≤–æ–¥—ã. üîí
