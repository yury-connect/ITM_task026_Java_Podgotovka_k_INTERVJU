## –ù–∞–ø–∏—Å–∞–Ω–∏–µ Dockerfile

---
**–ö—Ä–∞—Ç–∫–æ üöÄ**

1. **Dockerfile** ‚Äì —ç—Ç–æ ¬´—Ä–µ—Ü–µ–ø—Ç¬ª –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.    
2. –°–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫–æ–º–∞–Ω–¥ (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π) ‚Äì FROM, WORKDIR, COPY, EXPOSE, ENTRYPOINT –∏ —Ç.–¥.    
3. Docker —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, —Å–æ–∑–¥–∞–µ—Ç —Å–ª–æ–∏ –∏ –∫–µ—à–∏—Ä—É–µ—Ç –∏—Ö.    
4. –ò—Ç–æ–≥: –∫–æ–º–∞–Ω–¥–∞ `docker build` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç Dockerfile –≤ –≥–æ—Ç–æ–≤—ã–π –∫ –∑–∞–ø—É—Å–∫—É –æ–±—Ä–∞–∑.    

---
## –ü–æ–¥—Ä–æ–±–Ω–æ –∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ üìö
### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Dockerfile
```dockerfile

```


–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`FROM <–±–∞–∑–æ–≤—ã–π-–æ–±—Ä–∞–∑>          # 1Ô∏è‚É£ –û—Ç –∫–∞–∫–æ–≥–æ –æ–±—Ä–∞–∑–∞ –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–µ–º—Å—è WORKDIR /app                  # 2Ô∏è‚É£ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é COPY src/target/app.jar app.jar  # 3Ô∏è‚É£ –ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã –≤–Ω—É—Ç—Ä—å EXPOSE 8080                   # 4Ô∏è‚É£ –û–±—ä—è–≤–ª—è–µ–º –ø–æ—Ä—Ç –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ ENTRYPOINT ["java", "-jar", "app.jar"]  # 5Ô∏è‚É£ –ö–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞`

> **–õ–∞–π—Ñ—Ö–∞–∫ üéØ**: –¥–æ–±–∞–≤–ª—è–π –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª `.dockerignore`, —á—Ç–æ–±—ã –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã (node_modules, –ª–æ–≥–∏ –∏ —Ç.–¥.) ‚Äì —Å–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –∏ —á–∏—â–µ.

---

### 2. –†–∞–∑–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π üßê

1. **FROM**
    
    - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑, –Ω–∞–ø—Ä–∏–º–µ—Ä `eclipse-temurin:17-jdk-jammy`.
        
    - –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å **–º–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç—É—é —Å–±–æ—Ä–∫—É**:
        
        dockerfile
        
        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        
        `FROM maven:3.8-jdk-17 AS builder WORKDIR /build COPY pom.xml . RUN mvn dependency:go-offline COPY src ./src RUN mvn package -DskipTests  FROM eclipse-temurin:17-jdk-jammy WORKDIR /app COPY --from=builder /build/target/app.jar app.jar ENTRYPOINT ["java", "-jar", "app.jar"]`
        
    - **–ó–∞—á–µ–º?** –ü–µ—Ä–≤—ã–π —ç—Ç–∞–ø —Å–æ–±–∏—Ä–∞–µ—Ç JAR, –≤—Ç–æ—Ä–æ–π ‚Äì –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ –±–µ–∑ Maven.
        
2. **WORKDIR**
    
    - –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç ¬´—Ç–æ—á–∫—É —Å–±–æ—Ä–∫–∏¬ª –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
        
    - –ï—Å–ª–∏ –ø–∞–ø–∫–∏ –Ω–µ—Ç ‚Äì —Å–æ–∑–¥–∞—Å—Ç –µ—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
        
3. **COPY / ADD**
    
    - `COPY <–∏—Å—Ç–æ—á–Ω–∏–∫> <–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ>` ‚Äì –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã/–ø–∞–ø–∫–∏.
        
    - `ADD` —É–º–µ–µ—Ç —Ç–∞–∫–∂–µ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –∞—Ä—Ö–∏–≤—ã –∏ —Ç—è–Ω—É—Ç—å –ø–æ URL (–Ω–æ —á–∞—â–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è `COPY` ‚Äì —è–≤–Ω–µ–µ).
        
4. **RUN**
    
    - –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏ _—Å–±–æ—Ä–∫–µ_ –æ–±—Ä–∞–∑–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:
        
        dockerfile
        
        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        
        `RUN apt-get update && apt-get install -y curl`
        
    - –°–æ–≤–º–µ—â–∞–π –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ `&&` ‚Äì –º–µ–Ω—å—à–µ —Å–ª–æ—ë–≤, –º–µ–Ω—å—à–µ –≤–µ—Å–∞.
        
5. **EXPOSE**
    
    - –û–±—ä—è–≤–ª—è–µ—Ç –ø–æ—Ä—Ç, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª—É—à–∞–µ—Ç.
        
    - –ù–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Äì –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
        
        bash
        
        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        
        `docker run -p 8080:8080 my-image`
        
6. **ENTRYPOINT –∏ CMD**
    
    - `ENTRYPOINT` ‚Äì –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞, –∫–æ—Ç–æ—Ä—É—é –Ω–µ–ª—å–∑—è –ª–µ–≥–∫–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å.
        
    - `CMD` ‚Äì –∫–æ–º–∞–Ω–¥—É –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:
        
        dockerfile
        
        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        
        `CMD ["--spring.profiles.active=prod"]`
        
    - –ß–∞—Å—Ç–æ –≤–º–µ—Å—Ç–µ:
        
        dockerfile
        
        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        
        `ENTRYPOINT ["java", "-jar", "app.jar"] CMD ["--spring.profiles.active=prod"]`
        

---

### 3. –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ üåê

1. **–ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–±–æ—Ä–∫–∏**
    
    - –ü—Ä–∏ `docker build .` Docker –±–µ—Ä–µ—Ç –≤—Å—ë –∏–∑ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏ (–∫–æ–Ω—Ç–µ–∫—Å—Ç), –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞ –¥–µ–º–æ–Ω–∞.
        
    - –ü–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–æ `.dockerignore` ‚Äì –∏–Ω–∞—á–µ –æ—Ç–ø—Ä–∞–≤—è—Ç—Å—è –±–æ–ª—å—à–∏–µ/–ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã.
        
2. **–°–ª–æ–∏ –∏ –∫–µ—à**
    
    - –ö–∞–∂–¥–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å–ª–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.
        
    - –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π —Å–±–æ—Ä–∫–µ Docker –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–µ—à: –µ—Å–ª–∏ —Å–ª–æ–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, –æ–Ω –∏—Ö –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç ‚Üí —Å–±–æ—Ä–∫–∞ –±—ã—Å—Ç—Ä–∞—è.
        
    - **–°–æ–≤–µ—Ç**: —Å–Ω–∞—á–∞–ª–∞ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã (`pom.xml`, `package.json`), –∑–∞–ø—É—Å–∫–∞—Ç—å `RUN mvn dependency:go-offline` –∏–ª–∏ `npm install`, –∞ –ø–æ—Ç–æ–º –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω–∏–∫–∏.
        
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞**
    
    - –ú—É–ª—å—Ç–∏-—Å—Ç—ç–π–¥–∂ —Å–±–æ—Ä–∫–∞
        
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã—Ö –±–∞–∑–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤: `alpine`, `distroless`
        
    - –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –∏ –∫–µ—à–µ–π: `apt-get clean && rm -rf /var/lib/apt/lists/*`
        

---

### 4. –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è Java + Spring Boot üåø

dockerfile

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`# 1) –°–±–æ—Ä–∫–∞ FROM maven:3.8-jdk-17 AS build WORKDIR /app COPY pom.xml . RUN mvn dependency:go-offline -B COPY src ./src RUN mvn package -DskipTests -B  # 2) –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑ FROM eclipse-temurin:17-jdk-jammy WORKDIR /app COPY --from=build /app/target/myapp.jar app.jar EXPOSE 8080 ENTRYPOINT ["java","-jar","app.jar"]`

---

### –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ñ–∏—à–∏–Ω–≥ üëç

- **–ê—Å—Å–æ—Ü–∏–∞—Ü–∏–∏**: –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π, —á—Ç–æ –∫–∞–∂–¥—ã–π —Å–ª–æ–π ‚Äì –∫–∞–∫ ¬´—Å–ª–æ–π —Ç–æ—Ä—Ç–∞¬ª, –∏ —Ç—ã –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –Ω–∞—Å–ª–∞–∏–≤–∞–µ—à—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã.
    
- **–ß–∞–Ω–∫–∏–Ω–≥**: —Ä–∞–∑–±–∏–≤–∞–π Dockerfile –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏ (–±–∞–∑–∞, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ–¥, –∑–∞–ø—É—Å–∫), —á—Ç–æ–±—ã –º–æ–∑–≥ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–ª—Å—è.
    

---

‚ùó **–ó–∞–ø—É—Å–∫**

bash

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

`docker build -t user-service .   docker run -d -p 8080:8080 user-service`

---

‚ú® **–ú—É–¥—Ä–∞—è –º—ã—Å–ª—å:**

> ¬´–ö–∞–∫ –∏ –≤ –∂–∏–∑–Ω–∏, –≤ –¥–æ–∫–µ—Ä–µ –≤–∞–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Å –ø—Ä–æ—á–Ω–æ–≥–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –ª–∏—à—å —Ç–æ, –±–µ–∑ —á–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –æ–±–æ–π—Ç–∏—Å—å.¬ª