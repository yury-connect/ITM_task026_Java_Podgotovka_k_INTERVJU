
---

## üß™ –ß—Ç–æ —Ç–∞–∫–æ–µ **Testcontainers**?

**Testcontainers** ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è **–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç **–∑–∞–ø—É—Å–∫–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö –ø—Ä—è–º–æ –≤–æ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–æ–≤**.
üì¶ –ü–æ–¥ "–≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏" –ø–æ–Ω–∏–º–∞—é—Ç—Å—è:
- –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (PostgreSQL, MySQL, MongoDB),    
- –±—Ä–æ–∫–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π (Kafka, RabbitMQ),    
- –±—Ä–∞—É–∑–µ—Ä—ã (Selenium),    
- –¥–∞–∂–µ —Ü–µ–ª—ã–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã.    

---
## üß† –ó–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?
–û–±—ã—á–Ω—ã–µ **—é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã** –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ–¥ "–≤ –≤–∞–∫—É—É–º–µ", –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Ä–µ–∞–ª—å–Ω—ã–º –±–∞–∑–∞–º –∏–ª–∏ –¥—Ä—É–≥–∏–º —Å–∏—Å—Ç–µ–º–∞–º.
**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** –ø—Ä–æ–≤–µ—Ä—è—é—Ç, –∫–∞–∫ –≤–∞—à –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –±–∞–∑–æ–π PostgreSQL), –∏ –∏–º–µ–Ω–Ω–æ —Ç—É—Ç –ø–æ–º–æ–≥–∞–µ—Ç **Testcontainers**:
### üîÑ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Testcontainers:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω—É–∂–Ω—ã–π Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä;    
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏;    
- –î–∞—ë—Ç –≤–∞–º –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –∏–ª–∏ Kafka –∫–∞–∫ –∫ –Ω–∞—Å—Ç–æ—è—â–µ–π, –Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π;    
- –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤ ‚Äî –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è.    

---
## üõ†Ô∏è –ü—Ä–∏–º–µ—Ä: PostgreSQL + Spring Boot
### 1. **–î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å (Maven)**
```xml
<dependency>
  <groupId>org.testcontainers</groupId>
  <artifactId>postgresql</artifactId>
  <version>1.19.1</version>
  <scope>test</scope>
</dependency>

```
### 2. **–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞**
```java
@Testcontainers
@SpringBootTest
public class ContractServiceTest {

    @Container
    static PostgreSQLContainer<?> postgres = new PostgreSQLContainer<>("postgres:15")
        .withDatabaseName("testdb")
        .withUsername("test")
        .withPassword("test");

    @DynamicPropertySource
    static void overrideProperties(DynamicPropertyRegistry registry) {
        registry.add("spring.datasource.url", postgres::getJdbcUrl);
        registry.add("spring.datasource.username", postgres::getUsername);
        registry.add("spring.datasource.password", postgres::getPassword);
    }

    @Autowired
    private ContractRepository contractRepository;

    @Test
    void testCreateContract() {
        Contract c = new Contract("123", LocalDate.now(), LocalDate.now().plusMonths(6));
        contractRepository.save(c);
        assertEquals("123", contractRepository.findById(c.getId()).get().getNumber());
    }
}
```
### –ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
- `@Container` ‚Äî –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –Ω–∞–¥–æ –ø–æ–¥–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å PostgreSQL.    
- `DynamicPropertySource` ‚Äî Spring –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–∑ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.    
- –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –±—É–¥—Ç–æ —Å –Ω–∞—Å—Ç–æ—è—â–µ–π –ë–î ‚Äî –Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –≤—Ä–µ–º–µ–Ω–Ω–æ.    

---
## üìà –ö–∞–∫ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Testcontainers?
- –° Kafka: –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è Kafka –∏ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è –ø—Ä–æ–¥—é—Å–µ—Ä—ã/–∫–æ–Ω—Å—å—é–º–µ—Ä—ã.    
- –° Redis: –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ.    
- –° Elasticsearch: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫.    
- –° S3 (MinIO): –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤.    

---
## ‚ö†Ô∏è –ù–∞ —á—Ç–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ
- **–ù—É–∂–µ–Ω Docker** (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –≤ CI).    
- –õ—É—á—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞—Ö ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è **–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ** —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.    
- –ù–∞ CI/CD (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ GitLab) –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—É—Å–∫ Docker –≤–Ω—É—Ç—Ä–∏ runner'–∞.    

---
## üß† –í —Å–≤—è–∑–∫–µ —Å –≤–∞—à–∏–º —Ä–µ–∑—é–º–µ
–¢—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª Testcontainers –¥–ª—è:
- –∑–∞–ø—É—Å–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö PostgreSQL-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ —Ç–µ—Å—Ç–∞—Ö;    
- –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Å —Ä–µ–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö;    
- —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ Kafka;    
- –Ω–∞–ø–∏—Å–∞–Ω–∏—è –Ω–∞–¥—ë–∂–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ **—Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ**, –Ω–æ **–Ω–µ –ª–æ–º–∞—é—Ç –ø—Ä–æ–¥**.

---

