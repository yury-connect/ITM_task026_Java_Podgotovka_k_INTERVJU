---
tags:
  - TECHNOLOGIES/VCS/Git
---
### –ß–∏—Å—Ç–∫–∞ GIT - —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
–ï—Å–ª–∏ –≤–∞—à–∞ .git` –ø–∞–ø–∫–∞ —Ä–∞–∑—Ä–æ—Å–ª–∞—Å—å –¥–æ 500 –ú–ë, –≤–æ—Ç –∫–∞–∫ –º–æ–∂–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –µ—ë –ø–æ—á–∏—Å—Ç–∏—Ç—å:

### 1. **–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏**
#### üî• –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
```bash
# –£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 50 –∫–æ–º–º–∏—Ç–æ–≤
git clone --depth 50 https://github.com/–≤–∞—à/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.git

# –ò–õ–ò –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
git checkout --orphan latest_branch
git add -A
git commit -am "–ß–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç"
git branch -D main  # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –≤–µ—Ç–∫—É
git branch -m main  # –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –≤ main
git push -f origin main
```

### 2. **–û—á–∏—Å—Ç–∫–∞ –º—É—Å–æ—Ä–∞**
```bash
# –£–¥–∞–ª—è–µ—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
git gc --aggressive --prune=now

# –û—á–∏—â–∞–µ—Ç reflog
git reflog expire --expire=now --all
```

### 3. **–£–¥–∞–ª–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ (BFG Repo Cleaner)**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ BFG
java -jar bfg.jar --strip-blobs-bigger-than 10M --no-blob-protection .git
git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

### 4. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –Ω–µ–ø–æ–ª–Ω—ã–π –∫–ª–æ–Ω (–µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º)**
```bash
git clone --depth 1 https://github.com/–≤–∞—à/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.git
```

### –í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:
1. **–°–¥–µ–ª–∞–π—Ç–µ backup** –ø–µ—Ä–µ–¥ —ç—Ç–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏    
2. **–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ** - –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –∫–æ–ª–ª–µ–≥, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –∏—Å—Ç–æ—Ä–∏—é    
3. –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –≤—Å–µ–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
```bash
git fetch --all
git reset --hard origin/main
```

### –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –≤ –±—É–¥—É—â–µ–º:
```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ .gitignore –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
# –†–µ–≥—É–ª—è—Ä–Ω–æ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ:
git gc
```
