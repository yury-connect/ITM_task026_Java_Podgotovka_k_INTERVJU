# **Terraform**: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ –∫–æ–¥ (*IaC*)

---
## **üîπ –ß—Ç–æ —ç—Ç–æ?**
### `Terraform` ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è¬†**–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π**¬†—á–µ—Ä–µ–∑ –∫–æ–¥.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç¬†**–æ–±–ª–∞–∫–∞ (AWS, Azure, GCP)**¬†–∏¬†**on-premise**.    
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É¬†**¬´–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è ‚Üí –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è¬ª**.    

---
## **üîπ –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏**
1. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`*.tf`¬†—Ñ–∞–π–ª—ã)**    
    - –û–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã (—Å–µ—Ä–≤–µ—Ä—ã, —Å–µ—Ç–∏, –ë–î) –Ω–∞¬†**HCL**¬†(Hashicorp Configuration Language).        
    - –ü—Ä–∏–º–µ—Ä:
```hcl
resource "aws_instance" "web" {
  ami           = "ami-123456"
  instance_type = "t3.micro"
}
```
2. **–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Providers)**    
    - –ü–ª–∞–≥–∏–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±–ª–∞—á–Ω—ã–º–∏ API (AWS, Kubernetes, PostgreSQL –∏ –¥—Ä.).        
3. **–°–æ—Å—Ç–æ—è–Ω–∏–µ (State)**    
    - –•—Ä–∞–Ω–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ S3).        
    - –ù—É–∂–µ–Ω –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.        
4. **–ú–æ–¥—É–ª–∏ (Modules)**    
    - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —à–∞–±–ª–æ–Ω VPC).        

---
## **üîπ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**¬†(–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤):
```bash
terraform init
```
2. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**¬†(–ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π):
```bash
terraform plan
```
3. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**¬†(—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ):
```bash
terraform apply
```
4. **–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ**¬†(—É–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤):
```bash
terraform destroy
``` 

---
## **üîπ –ü–ª—é—Å—ã**  
‚úî¬†**–ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å**¬†‚Äî –æ–¥–∏–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö –æ–±–ª–∞–∫–æ–≤.   
‚úî¬†**–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**¬†‚Äî –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –Ω–µ –ª–æ–º–∞–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.   
‚úî¬†**–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥**¬†‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ ¬´—á—Ç–æ –Ω—É–∂–Ω–æ¬ª, –∞ –Ω–µ ¬´–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å¬ª.   
‚úî¬†**–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞**¬†‚Äî —Ç—ã—Å—è—á–∏ –º–æ–¥—É–ª–µ–π.   

---
## **üîπ –ú–∏–Ω—É—Å—ã**  
‚ùå¬†**–°–ª–æ–∂–Ω–æ—Å—Ç—å State-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞**¬†‚Äî –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–±–æ—Ç–µ.   
‚ùå¬†**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞**¬†‚Äî —Å–ª–æ–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Ç—Ä–µ–±—É—é—Ç workaround.   
‚ùå¬†**–ù–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**¬†‚Äî –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç [Helm](Helm/Helm_info.md).   

---
## **üîπ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**  
- **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ–±–ª–∞—á–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**¬†(VPC, VM, Kubernetes).    
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ hybrid-—Å—Ä–µ–¥–∞–º–∏**¬†(cloud + on-premise).    
- **GitOps**¬†‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –≤ Git + CI/CD.    

---
## **üîπ –û—Ç–ª–∏—á–∏–µ –æ—Ç Ansible/Kubernetes**

|**–ö—Ä–∏—Ç–µ—Ä–∏–π**|**Terraform**|**Ansible**|**Kubernetes**|
|---|---|---|---|
|**–ü–æ–¥—Ö–æ–¥**|–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π|–ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π|–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π|
|**–û–±–ª–∞—Å—Ç—å**|–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (VM, —Å–µ—Ç–∏)|–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ü–û, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)|–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤|
|**State**|–ï—Å—Ç—å (—Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è)|–ù–µ—Ç|–ï—Å—Ç—å (etcd)|

---
## **üîπ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kubernetes**
- **–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞**¬†(EKS, AKS) —á–µ—Ä–µ–∑ Terraform.    
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏**¬†–≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞ (–µ—Å–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω):
```hcl
resource "kubernetes_deployment" "nginx" {
  metadata { name = "nginx" }
  spec { ... }
}
```

---
**–ò—Ç–æ–≥:**  
Terraform ‚Äî —ç—Ç–æ¬†**¬´–∫–ª—é—á–µ–≤–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç DevOps¬ª**¬†–¥–ª—è:
- –ë—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.    
- –ö–æ–Ω—Ç—Ä–æ–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ –∫–æ–¥.    
- –†–∞–±–æ—Ç—ã —Å¬†**–ª—é–±—ã–º–∏ –æ–±–ª–∞–∫–∞–º–∏**.    

**–ü—Ä–∏–º–µ—Ä:**
```hcl
module "vpc" {
  source = "terraform-aws-modules/vpc/aws"
  cidr   = "10.0.0.0/16"
}
```

‚Üí¬†**`terraform apply`**¬†—Å–æ–∑–¥–∞—Å—Ç VPC –≤ AWS.

---
