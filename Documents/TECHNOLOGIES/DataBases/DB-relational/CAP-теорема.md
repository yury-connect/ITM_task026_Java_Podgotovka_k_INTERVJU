# –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ **CAP-—Ç–µ–æ—Ä–µ–º–µ**
**–ö—Ä–∞—Ç–∫–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ ‚Äî –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è**

---
## **üîπ –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ CAP-—Ç–µ–æ—Ä–µ–º—ã**

#### **–õ—é–±–∞—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –∏–∑ 3 —Å–≤–æ–π—Å—Ç–≤:**
1. **Consistency** (*–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å*)    
    - –í—Å–µ —É–∑–ª—ã –≤–∏–¥—è—Ç¬†**–æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ**¬†–≤ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.    
2. **Availability** (*–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å*)    
    - –°–∏—Å—Ç–µ–º–∞¬†**–≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–µ—Ç**¬†(–¥–∞–∂–µ –ø—Ä–∏ —Å–±–æ—è—Ö —á–∞—Å—Ç–∏ —É–∑–ª–æ–≤).    
3. **Partition Tolerance**  (*–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é*)   
    - –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏¬†**—Ä–∞–∑—Ä—ã–≤–∞—Ö —Å–≤—è–∑–∏**¬†–º–µ–∂–¥—É —É–∑–ª–∞–º–∏ (*network partition*).        
#### **–í–∞–∂–Ω–æ:**
- **`Partition Tolerance` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞**¬†–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö (*—Å–µ—Ç–∏ –Ω–µ–Ω–∞–¥—ë–∂–Ω—ã*).    
- –í—ã–±–æ—Ä –∏–¥—ë—Ç –º–µ–∂–¥—É¬†**C**¬†–∏¬†**A**¬†–ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞.    

---
## **üîπ –í–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏**

|**–¢–∏–ø —Å–∏—Å—Ç–µ–º—ã**|**Consistency**|**Availability**|**Partition Tolerance**|**–ü—Ä–∏–º–µ—Ä—ã**|
|---|---|---|---|---|
|**CA**|‚úÖ –î–∞|‚úÖ –î–∞|‚ùå –ù–µ—Ç|–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ SQL-–ë–î (PostgreSQL –≤ –æ–¥–Ω–æ–º –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä–µ)|
|**CP**|‚úÖ –î–∞|‚ùå –ù–µ—Ç|‚úÖ –î–∞|MongoDB (–≤ —Ä–µ–∂–∏–º–µ strong consistency), Redis, ZooKeeper|
|**AP**|‚ùå –ù–µ—Ç|‚úÖ –î–∞|‚úÖ –î–∞|Cassandra, DynamoDB, Kafka|

---
## **üîπ –ö–∞–∫ –≤—ã–±–∏—Ä–∞—é—Ç –º–µ–∂–¥—É `C` –∏ `A`?**
### **1. CP-—Å–∏—Å—Ç–µ–º—ã (`Consistency` + `Partition Tolerance`)**
- **–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ:**¬†–ë–∞–Ω–∫–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ¬†**—Ç–æ—á–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏**.    
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–≤—è–∑–∏:**    
    - –û—Ç–∫–∞–∑—ã–≤–∞—é—Ç –≤ –∑–∞–ø–∏—Å–∏/—á—Ç–µ–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫—É –∏–ª–∏ –∂–¥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è).        
- **–ü—Ä–∏–º–µ—Ä:**    
    > ¬´–ü—Ä–∏ —Å–µ—Ç–µ–≤–æ–º —Ä–∞–∑–¥–µ–ª–µ ***ZooKeeper*** –Ω–µ –¥–∞—Å—Ç –∑–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤¬ª.    
### **2. AP-—Å–∏—Å—Ç–µ–º—ã (`Availability` + `Partition Tolerance`)**
- **–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ:**¬†–°–æ—Ü—Å–µ—Ç–∏, –∫—ç—à–∏, —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ¬†**–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ —Ç–æ—á–Ω–æ—Å—Ç–∏**.    
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–≤—è–∑–∏:**    
    - –†–∞–∑—Ä–µ—à–∞—é—Ç —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å, –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã¬†**–∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã**¬†(–ø–æ–∑–∂–µ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è —á–µ—Ä–µ–∑¬†**eventual consistency**).    
- **–ü—Ä–∏–º–µ—Ä:**    
    > ¬´***Cassandra*** –ø–æ–∑–≤–æ–ª–∏—Ç –∑–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ª—é–±–æ–π —É–∑–µ–ª, –¥–∞–∂–µ –µ—Å–ª–∏ —á–∞—Å—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞¬ª.    

---
## **üîπ –í–∞–∂–Ω—ã–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è**
1. **CAP ‚Äî –Ω–µ –ø—Ä–æ –æ–±—ã—á–Ω—É—é —Ä–∞–±–æ—Ç—É**, –∞ —Ç–æ–ª—å–∫–æ –ø—Ä–æ¬†**—Ä–µ–∂–∏–º —Å–µ—Ç–µ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞**.    
2. **BASE ‚â† AP**¬†(BASE ‚Äî —ç—Ç–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è, AP ‚Äî —Å–≤–æ–π—Å—Ç–≤–æ –≤ CAP).    
3. **–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:**    
    - –°–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç¬†**–º–µ–Ω—è—Ç—å —Ä–µ–∂–∏–º**¬†(–Ω–∞–ø—Ä–∏–º–µ—Ä, MongoDB: strong consistency ‚Üí eventual consistency).        
    - –ï—Å—Ç—å¬†**–≥–∏–±—Ä–∏–¥–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã**¬†(–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å –∫–≤–æ—Ä—É–º–æ–º¬ª:¬†`R + W > N`).        

---
## **üîπ –ö–∞–∫ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ?**
**–ö–æ—Ä–æ—Ç–∫–æ:**
> ¬´CAP-—Ç–µ–æ—Ä–µ–º–∞ –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–µ—Ç–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∂–µ—Ä—Ç–≤—É–µ—Ç <u>–ª–∏–±–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é</u> (AP), <u>–ª–∏–±–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é</u> (CP). –ù–∞–ø—Ä–∏–º–µ—Ä, –±–∞–Ω–∫–∏ –≤—ã–±–∏—Ä–∞—é—Ç CP, –∞ —Å–æ—Ü—Å–µ—Ç–∏ ‚Äî AP¬ª.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏:**
> ¬´–í DynamoDB –ø—Ä–∏ —Å–µ—Ç–µ–≤–æ–º —Ä–∞–∑–¥–µ–ª–µ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å:> 
> - **Strong consistency**¬†(CP, –∂–¥—ë–º –æ—Ç–≤–µ—Ç–∞ –æ—Ç –≤—Å–µ—Ö —É–∑–ª–æ–≤),>     
> - **Eventual consistency**¬†(AP, —á–∏—Ç–∞–µ–º –∏–∑ –±–ª–∏–∂–∞–π—à–µ–≥–æ —É–∑–ª–∞)¬ª.>     

---
## **üîπ –ß—Ç–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å?**
1. **`Partition Tolerance` –Ω–µ–∏–∑–±–µ–∂–Ω–∞**¬†–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.    
2. **CP**¬†‚Äî –¥–∞–Ω–Ω—ã–µ **—Ç–æ—á–Ω—ã**, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç ¬´**–ª–µ—á—å**¬ª.    
3. **AP**¬†‚Äî —Å–∏—Å—Ç–µ–º–∞ **—Ä–∞–±–æ—Ç–∞–µ—Ç**, –Ω–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å **–Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã**.    
4. **CA**¬†‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è **–Ω–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö** —Å–∏—Å—Ç–µ–º (*–æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä/–¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä*).    
#### **–ò—Ç–æ–≥:**  
CAP –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å¬†**–∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã**¬†–ø—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º. –ì–ª–∞–≤–Ω–æ–µ ‚Äî —á—ë—Ç–∫–æ –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ –≤—ã–±–æ—Ä –º–µ–∂–¥—É C –∏ A –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç¬†**—Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–µ—Ç–µ–≤–æ–º —Ä–∞–∑–¥–µ–ª–µ**.

---
#### **–ü—Ä–∏–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞ –Ω–∞ —Å–æ–±–µ—Å–µ:**  
_¬´–ö–∞–∫ –±—ã –≤—ã —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–ª–∏ —Å–∏—Å—Ç–µ–º—É –ø–ª–∞—Ç–µ–∂–µ–π —Å —É—á—ë—Ç–æ–º CAP?¬ª_  

**–û—Ç–≤–µ—Ç:**
> ¬´–í—ã–±—Ä–∞–ª –±—ã CP: —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞, –¥–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–Ω–∏–∑–∏—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –±—ã –∫–≤–æ—Ä—É–º–Ω—É—é –∑–∞–ø–∏—Å—å (W > N/2)¬ª.

---
