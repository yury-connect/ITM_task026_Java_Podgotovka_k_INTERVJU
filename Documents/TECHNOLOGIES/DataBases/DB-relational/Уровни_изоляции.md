### **Уровни изоляции транзакций в СУБД**

Краткий гид по выбору уровня изоляции для баланса между **производительностью** и **консистентностью данных**.

---
## 1. **Read Uncommitted**   (*Чтение незафиксированных данных*)
#### **Характеристики:**
- Самый низкий уровень изоляции.    
- Позволяет читать **"грязные" данные** 
	  (*незафиксированные изменения других транзакций*).    
#### **Когда применять:**
- Только для аналитики или дебага, где некритична консистентность.    
#### **Плюсы:**  
✔ Максимальная производительность (*нет блокировок*).
#### **Минусы:**  
❌ Риск чтения **неверных** данных 
	(*аномалии: **грязное чтение**, **потерянные обновления***).

---
## 2. **Read Committed**   (*Чтение зафиксированных данных*)
#### **Характеристики:**
- Стандартный уровень в **PostgreSQL, Oracle, SQL Server**.    
- Гарантирует, что читаются **только зафиксированные данные**.    
#### **Когда применять:**
- Для большинства веб-приложений (баланс скорости и надежности).   
#### **Плюсы:**  
✔ Нет грязного чтения.  
✔ Хорошая производительность.
#### **Минусы:**  
❌ Возможны **неповторяемое чтение** и **фантомы**.

---
## 3. **Repeatable Read**   (*Повторяемое чтение*)
#### **Характеристики:**
- Стандарт в **MySQL/MariaDB (*InnoDB*)**.    
- Гарантирует, что **прочитанные данные не изменятся** до конца транзакции.   
#### **Когда применять:**
- Финансовые операции, где важна **стабильность данных** (*например, баланс счета*).   
#### **Плюсы:**  
✔ Нет грязного и неповторяемого чтения.  
✔ В **MySQL** также блокирует фантомы (нестандартное поведение).
#### **Минусы:**  
❌ В других СУБД (например, PostgreSQL) возможны **фантомы**.  
❌ Риск **дедлоков** из-за блокировок.

---
## 4. **Serializable**   (*Сериализуемый*)
#### **Характеристики:**
- Самый строгий уровень.    
- Эмулирует **последовательное выполнение транзакций**.    
#### **Когда применять:**
- Критичные системы: банкинг, бронирования, аудит.   
#### **Плюсы:**  
✔ Полная изоляция (нет грязного чтения, неповторяемого чтения, фантомов).
#### **Минусы:**  
❌ Низкая производительность (блокировки, конфликты).  
❌ Высокий риск **дедлоков**.

---
## **Сравнение уровней изоляции**

| **Уровень**        | **Грязное чтение** | **Неповторяемое чтение** | **Фантомы** | **Производительность** |
| ------------------ | ------------------ | ------------------------ | ----------- | ---------------------- |
| `Read Uncommitted` | ❌ Да               | ❌ Да                     | ❌ Да        | ⚡⚡⚡ Максимальная       |
| `Read Committed`   | ✅ Нет              | ❌ Да                     | ❌ Да        | ⚡⚡ Высокая             |
| `Repeatable Read`  | ✅ Нет              | ✅ Нет                    | ❌ Да*       | ⚡⚡ Средняя             |
| `Serializable`     | ✅ Нет              | ✅ Нет                    | ✅ Нет       | ⚡ Низкая               |
> *В MySQL `REPEATABLE READ` блокирует фантомы, в других СУБД — нет.

### **Какой уровень выбрать?**
- **Для 95% веб-приложений** → `Read Committed`.    
- **Для финансовых систем** → `Repeatable Read` (MySQL) или `Serializable`.    
- **Для аналитики** → `Read Uncommitted` (если допустимы неточности).    

**Важно:**
- В PostgreSQL и Oracle `Read Uncommitted` работает как `Read Committed`.    
- В MySQL `Repeatable Read` сильнее, чем в стандарте SQL.    

**Итог:**  
Чем выше уровень изоляции, тем **строже контроль данных**, но **ниже скорость**. Выбирайте по требованиям вашего проекта!

---
