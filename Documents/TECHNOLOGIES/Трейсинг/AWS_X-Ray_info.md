### **‚òÅÔ∏è AWS X-Ray ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç—Ä–µ–π—Å–∏–Ω–≥ –¥–ª—è –æ–±–ª–∞—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π AWS**
_(–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è–º–∏)_

---
## **üõ†Ô∏è –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä**
**AWS X-Ray**¬†‚Äî —ç—Ç–æ¬†**–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Ç—Ä–µ–π—Å–∏–Ω–≥–∞**¬†–æ—Ç Amazon, –≥–ª—É–±–æ–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π AWS.

**üîç –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**  
‚úÖ¬†**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç—Ä–µ–π—Å–∏–Ω–≥**¬†–¥–ª—è AWS-—Å–µ—Ä–≤–∏—Å–æ–≤ (Lambda, API Gateway, ECS)  
‚úÖ¬†**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å–µ—Ä–≤–∏—Å–æ–≤**¬†(Service Map)  
‚úÖ¬†**–ê–Ω–∞–ª–∏–∑ –∑–∞–¥–µ—Ä–∂–µ–∫**¬†—Å breakdown –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º  
‚úÖ¬†**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenTelemetry**¬†(—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)

**üëâ –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:**  
–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ AWS ‚Äî X-Ray¬†**–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ**¬†–∏–∑ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

---
## **üîç –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä AWS X-Ray**

### **1. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**

|–§—É–Ω–∫—Ü–∏—è|–û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|
|**–ê–≤—Ç–æ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ü–∏—è**|–†–∞–±–æ—Ç–∞–µ—Ç —Å Lambda, API Gateway, EC2, ECS, SQS –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –∫–æ–¥–∞|
|**Service Map**|–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏|
|**–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫**|–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç—Ä–µ–π—Å–æ–≤ —Å 4xx/5xx –æ—à–∏–±–∫–∞–º–∏|
|**–°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è**|–†–∞–∑–±–∏–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ: AWS-—Å–µ—Ä–≤–∏—Å–∞–º, –ë–î, –≤–Ω–µ—à–Ω–∏–º HTTP-–≤—ã–∑–æ–≤–∞–º|

### **2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
```mermaid
graph LR
A[–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ] -->|X-Ray SDK| B[X-Ray Daemon]
B --> C[X-Ray Service]
C --> D[Service Map]
C --> E[–¢—Ä–µ–π—Å—ã]
C --> F[–ê–Ω–∞–ª–∏—Ç–∏–∫–∞]
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **X-Ray SDK**¬†(–¥–ª—è Python, Node.js, Java, .NET, Go)    
- **X-Ray Daemon**¬†(—Å–±–æ—Ä—â–∏–∫ –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ sidecar)    
- **X-Ray Service**¬†(—É–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Å–µ—Ä–≤–∏—Å AWS)    

### **3. –ü–ª—é—Å—ã ‚úÖ**
- **üöÄ –ù—É–ª–µ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**¬†–¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ AWS (Lambda –∏ –¥—Ä.)    
- **üìä –õ—É—á—à–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**¬†—Å—Ä–µ–¥–∏ –æ–±–ª–∞—á–Ω—ã—Ö —Ç—Ä–µ–π—Å–µ—Ä–æ–≤ (vs GCP Trace)    
- **üîó –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–π—Å–∏–Ω–≥**¬†–¥–ª—è:    
    - API Gateway ‚Üí Lambda ‚Üí DynamoDB        
    - ECS ‚Üí SQS ‚Üí Lambda        
- **üíµ –≠–∫–æ–Ω–æ–º–∏—è**¬†(–ø–µ—Ä–≤—ã–µ 100,000 —Ç—Ä–µ–π—Å–æ–≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ)    

### **4. –ú–∏–Ω—É—Å—ã ‚ùå**
- **üîí Vendor lock-in**¬†‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è AWS    
- **üìâ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è**¬†(vs Jaeger/OTel)    
- **‚ö° –ù–µ—Ç sampling-–ø—Ä–∞–≤–∏–ª**¬†(–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Jaeger)    
- **üõ†Ô∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å**¬†–¥–ª—è –≥–∏–±—Ä–∏–¥–Ω—ã—Ö —Å–∏—Å—Ç–µ–º (–≤–Ω–µ AWS)    

### **5. –ö–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
1. **–°–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Lambda + API Gateway)**    
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–π—Å–∏–Ω–≥ –±–µ–∑ –∫–æ–¥–∞        
2. **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –Ω–∞ ECS/EKS**    
    - –°–∫–≤–æ–∑–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ X-Ray SDK        
3. **–ê–Ω–∞–ª–∏–∑ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**    
    - –ü–æ–∏—Å–∫ —É–∑–∫–∏—Ö –º–µ—Å—Ç –≤ —Ü–µ–ø–æ—á–∫–∞—Ö –≤—ã–∑–æ–≤–æ–≤        

### **6. –ü—Ä–∏–º–µ—Ä —Ç—Ä–µ–π—Å–∞ –≤ X-Ray**
```json
{
  "trace_id": "1-5f3b1a2b-3c4d5e6f7g8h",
  "segments": [
    {
      "name": "API Gateway",
      "latency": 120,
      "annotations": {
        "status_code": 200
      }
    },
    {
      "name": "Lambda",
      "latency": 98,
      "subsegments": [
        {
          "name": "DynamoDB:Query",
          "latency": 45
        }
      ]
    }
  ]
}
```

---

## **üÜö –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–Ω–∞–ª–æ–≥–∞–º–∏**

|–ö—Ä–∏—Ç–µ—Ä–∏–π|AWS X-Ray|Jaeger|Zipkin|
|---|---|---|---|
|**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**|–¢–æ–ª—å–∫–æ AWS|–õ—é–±–∞—è —Å—Ä–µ–¥–∞|–õ—é–±–∞—è —Å—Ä–µ–¥–∞|
|**–ù–∞—Å—Ç—Ä–æ–π–∫–∞**|–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è|–°–ª–æ–∂–Ω–∞—è|–°—Ä–µ–¥–Ω—è—è|
|**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**|–õ—É—á—à–∞—è (Service Map)|–•–æ—Ä–æ—à–∞—è|–ë–∞–∑–æ–≤–∞—è|
|**–¶–µ–Ω–∞**|–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ª–∏–º–∏—Ç|Self-hosted|Self-hosted|

---
## **üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã**
1. **–î–ª—è —á–∏—Å—Ç–æ–≥–æ AWS-—Å—Ç–µ–∫–∞**¬†‚Äî X-Ray –æ–ø—Ç–∏–º–∞–ª–µ–Ω, –æ—Å–æ–±–µ–Ω–Ω–æ —Å Lambda.    
2. **–ì–∏–±—Ä–∏–¥–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã**¬†‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ OpenTelemetry + X-Ray exporter.    
3. **–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑**¬†‚Äî –∫–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ —Å CloudWatch Logs –∏ Metrics.    
4. **–û—Å—Ç–æ—Ä–æ–∂–Ω–æ —Å –∫–≤–æ—Ç–∞–º–∏**¬†‚Äî –ø—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞—Å—Ö–æ–¥—ã.    

**üöÄ –°—Ç–∞—Ä—Ç —Ä–∞–±–æ—Ç—ã:**
```python
# –ü—Ä–∏–º–µ—Ä –¥–ª—è AWS Lambda (Python)
from aws_xray_sdk.core import xray_recorder
from aws_xray_sdk.core import patch_all

patch_all()  # –ê–≤—Ç–æ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è boto3/requests

def lambda_handler(event, context):
    # –í–∞—à –∫–æ–¥
    return {"statusCode": 200}
```

---
## **üìå –ò—Ç–æ–≥: –∫–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å AWS X-Ray?**
- **–ï—Å–ª–∏ 100% –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ AWS**    
- **–î–ª—è serverless-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä (Lambda, API Gateway)**    
- **–ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —Ç—Ä–µ–π—Å–∏–Ω–≥ "–∏–∑ –∫–æ—Ä–æ–±–∫–∏" –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫**    

**‚ö†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
- –ì–∏–±—Ä–∏–¥–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã ‚Üí¬†**OpenTelemetry + Jaeger**    
- GCP ‚Üí¬†**Google Cloud Trace**    
- –ì–ª—É–±–æ–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ ‚Üí¬†**Datadog APM**    

**AWS X-Ray ‚Äî —ç—Ç–æ "–≤–æ–ª—à–µ–±–Ω–∞—è —Ç–∞–±–ª–µ—Ç–∫–∞" –¥–ª—è —Ç—Ä–µ–π—Å–∏–Ω–≥–∞ –≤–Ω—É—Ç—Ä–∏ AWS, –Ω–æ –Ω–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.**

---
