# –ö—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É ‚Äî –∫–∞–∫ –æ—Ç–≤–µ—á–∞—Ç—å (*—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ*) ‚úÖ

---
## 1) –û–±—â–∞—è –∏–¥–µ—è (*–æ–¥–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ*)

–ü–∞—Ä–æ–ª–∏ **–Ω–∏–∫–æ–≥–¥–∞** –Ω–µ –ª–µ–∂–∞–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –≤ `Git`; –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º —Å–µ–∫—Ä–µ—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–µ –∏–ª–∏ –≤ `CI/CD` –∫–∞–∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–ª—é—á–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è ‚Äî –≤ `KMS`/`HSM`; –¥–æ—Å—Ç—É–ø –∏ —Ä–æ—Ç–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª–∏—Å—å —á–µ—Ä–µ–∑ `RBAC` –∏ `audit`-–ª–æ–≥–∏. üîê

---
## 2) –ì–¥–µ –∏–º–µ–Ω–Ω–æ —Ö—Ä–∞–Ω–∏–ª–∏ —Å–µ–∫—Ä–µ—Ç—ã (*–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ*)

- **HashiCorp Vault** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è staging/prod: `kv` –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤, DB secrets engine –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —É—á—ë—Ç–æ–∫, –ø–æ–ª–∏—Ç–∏–∫–∏ (ACL) –∏ audit.
    
- **Kubernetes Secrets** ‚Äî —Ç–æ–ª—å–∫–æ –∫–∞–∫ runtime-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ K8s; –≤ –ø—Ä–æ–¥–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–µ–Ω–∞ _envelope encryption_ (KMS) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ **sealed-secrets / External Secrets Operator** (–ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç –∏–∑ Vault).
    
- **GitLab CI/CD Variables (protected + masked)** ‚Äî –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –≤ –ø–∞–π–ø–ª–∞–π–Ω–µ (–Ω–æ –Ω–µ –≤ —Ä–µ–ø–æ).
    
- **SOPS / encrypted yaml** (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ –≤ Git) ‚Äî —Ñ–∞–π–ª—ã —à–∏—Ñ—Ä–æ–≤–∞–ª–∏—Å—å KMS –∏ –≤ —Ä–µ–ø–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç.    

---
## 3) –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

- **Master key** —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–±–ª–∞—á–Ω–æ–º KMS (AWS KMS / GCP KMS) –∏–ª–∏ HSM.
    
- **Vault** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç auto-unseal —á–µ—Ä–µ–∑ KMS/HSM (–∏–ª–∏ —Ö—Ä–∞–Ω–∏—Ç unseal keys –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ) ‚Äî —Ç–æ –µ—Å—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –Ω–µ –≤ —Ä–µ–ø–æ.
    
- –î–æ—Å—Ç—É–ø –∫ KMS —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ IAM/policies; —Ç–æ–ª—å–∫–æ —É –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –∏ —É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –µ—Å—Ç—å –ø—Ä–∞–≤–æ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—Ç—å. üîë    

---
## 4) –ö—Ç–æ —à–∏—Ñ—Ä—É–µ—Ç / –∫—Ç–æ –∫–ª–∞–¥—ë—Ç —Å–µ–∫—Ä–µ—Ç—ã —Ç—É–¥–∞

- **–ü—Ä–æ—Ü–µ—Å—Å:** –æ–±—ã—á–Ω–æ —Å–µ–∫—Ä–µ—Ç —Å–æ–∑–¥–∞—ë—Ç/–∑–∞–ª–∏–≤–∞–µ—Ç SRE / Platform team —á–µ—Ä–µ–∑ Vault UI/API/terraform, –ª–∏–±–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ SRE –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç.
    
- **–ü—Ä–∞–∫—Ç–∏–∫–∞ –≤ –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ:** Dev –ø—Ä–æ—Å–∏–ª SRE –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç –≤ Vault –∏–ª–∏ –≤ CI. –ò–Ω–æ–≥–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å –ø—Ä–∞–≤–∞–º–∏ (–ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ SRE) –º–æ–≥ –ø–æ–ª–æ–∂–∏—Ç—å —Å–µ–∫—Ä–µ—Ç —Å–∞–º —á–µ—Ä–µ–∑ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî –Ω–æ —ç—Ç–æ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–ª–æ—Å—å.
    
- –í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç: **—Ä–µ–∞–ª—å–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∏ –ø–æ–ª–∏—Ç–∏–∫–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è ‚Äî –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**, –Ω–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.    

---
## 5) –ö–∞–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è/—Å–µ–∫—Ä–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (runtime)

- –ü–∞–π–ø–ª–∞–π–Ω (GitLab CI) –ø–æ–ª—É—á–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç –∏–∑ Vault/CI variables –∏ –ª–∏–±–æ:    
    - –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ Kubernetes Secret (—á–µ—Ä–µ–∑ CI) –∏ –¥–µ–ø–ª–æ–∏—Ç Pod; –∏–ª–∏        
    - –ø–µ—Ä–µ–¥–∞—ë—Ç –∫–∞–∫ env var –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–ª—è transient use).
    
- –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ‚Äî secrets —á–∏—Ç–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ env vars –∏–ª–∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (preferred –¥–ª—è –±–æ–ª—å—à–∏—Ö/–±–∏–Ω–∞—Ä–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤).
    
- TLS/SSL keystores —Ç–∞–∫–∂–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Vault/KMS –∏ –º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ —Ñ–∞–π–ª—ã.    

---
## 6) –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî —á—Ç–æ –≤–∞–º –¥–∞–≤–∞–ª–∏, –∫–æ–≥–¥–∞ –ø—Ä–æ—Å–∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Kafka

–ö–æ–≥–¥–∞ –≥–æ–≤–æ—Ä—è—Ç ¬´–Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Ç–∞–∫–æ–π-—Ç–æ Kafka¬ª, –æ–±—ã—á–Ω–æ –¥–∞—é—Ç:

1. `bootstrap.servers` (—Å–ø–∏—Å–æ–∫ –±—Ä–æ–∫–µ—Ä–æ–≤)    
2. security protocol (SASL_SSL / SSL) –∏ –º–µ—Ö–∞–Ω–∏–∑–º (SCRAM-SHA-256/SCRAM-SHA-512)    
3. username/service account (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è)    
4. –ø–∞—Ä–æ–ª—å/credential (–Ω–µ –≤ Git ‚Äî —á–µ—Ä–µ–∑ Vault/CI) –∏–ª–∏ path –∫ keystore/truststore    
5. topic/partition/consumer group —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)    
6. tls certs/keystore –µ—Å–ª–∏ mutual TLS.    

---
## 7) –ü—Ä–∏–º–µ—Ä: –¢–∏–º–õ–∏–¥ —Å–∫–∏–Ω—É–ª –ø–∞—Ä–æ–ª—å `12345` ‚Äî –∫—É–¥–∞ –≤—Å—Ç–∞–≤–ª—è–ª?

–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–∫–∞–∫ –±—ã —è —Å–¥–µ–ª–∞–ª):

1. **–ù–µ** –≤ Git.
    
2. –ó–∞–≥—Ä—É–∂–∞–ª –±—ã –≤ **Vault**:    
    `vault kv put secret/projectX/prod/kafka password=12345`    
    –∏–ª–∏ —á–µ—Ä–µ–∑ UI/automation/terraform –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π –∏ audit.
    
3. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ CI/CD –¥–æ–±–∞–≤–ª—è–ª —Å—Å—ã–ª–∫—É/–ø–æ–ª–∏—Ç–∏–∫—É, —á—Ç–æ–±—ã –ø—Ä–∏ –¥–µ–ø–ª–æ–µ pipeline –ø–æ–¥—Ç—è–Ω—É–ª –∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Å–æ–∑–¥–∞–ª Kubernetes Secret –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–ª –∫–∞–∫ masked env var.
    
4. –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å –±—ã–ª –ø—Ä–∏—Å–ª–∞–Ω –≤ —á–∞—Ç–µ/–ø–æ –ø–æ—á—Ç–µ ‚Äî –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å **—Å—Ä–∞–∑—É** –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ Vault –∏ –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä–æ—Ç–∞—Ü–∏—é/–∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ –ø–µ—Ä–µ–¥–∞—á–∏; —É–¥–∞–ª—è—Ç—å/–æ—á–∏—â–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–µ—Ä–µ—Å—ã–ª–∫—É.    

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ **SealedSecrets/SOPS**, —Ç–æ –º–æ–≥ –ø–æ–ª—É—á–∏—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –µ–≥–æ (–≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ ‚Äî –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π) ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è —É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞/–≤ KMS.

---
## 8) –ë—ã–ª–∞ –ª–∏ –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–æ–ª—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ –∏–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º?

- **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:** –ø–∞—Ä–æ–ª—å –ø–µ—Ä–µ–¥–∞—é—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É/–∏–Ω–∂–µ–Ω–µ—Ä—É —á–µ—Ä–µ–∑ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –∫–∞–Ω–∞–ª (1Password/LastPass/Bitwarden/secure ticket) –∏–ª–∏ –∫–ª–∞–¥—É—Ç —Å—Ä–∞–∑—É –≤ Vault.
    
- –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –∏–Ω–æ–≥–¥–∞ –¥–∞—é—Ç –ø–∞—Ä–æ–ª—å –≤ —á–∞—Ç–µ ‚Äî –Ω–æ —ç—Ç–æ –±–∞–≥/–Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏; –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ ‚Äî —Å—Ä–∞–∑—É –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ Vault –∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é.
    
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è **SOPS/SealedSecrets**, —Ç–æ –≤ —Ä–µ–ø–æ ‚Äî —Ç–æ–ª—å–∫–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª, –∫–ª—é—á ‚Äî –≤ KMS/–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ.    

---
## 9) –î–æ–ø. –º–µ—Ä—ã –∑–∞—â–∏—Ç—ã –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã (–≤–∞–∂–Ω–æ —É–ø–æ–º—è–Ω—É—Ç—å –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é)

- **RBAC/least privilege** (—Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã/–ª—é–¥–∏).    
- **Audit –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö access/changes –≤–Ω—É—Ç—Ä–∏ Vault / KMS / CI.    
- **–†–æ—Ç–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤** –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é + –ø—Ä–∏ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏.    
- **Pre-commit / git-secrets** –≤ —Ä–µ–ø–æ, —á—Ç–æ–±—ã –ª–æ–≤–∏—Ç—å —É—Ç–µ—á–∫–∏.    
- **Emergency playbook**: –ø—Ä–∏ —É—Ç–µ—á–∫–µ ‚Äî —É–¥–∞–ª—è–µ–º –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ (BFG), –ø–µ—Ä–µ–≤—ã–ø—É—Å–∫–∞–µ–º –∫–ª—é—á–∏, –¥–µ–ª–∞–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—é –¥–æ—Å—Ç—É–ø–∞.    
- **–ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ CI (masked variables) –∏ –∑–∞–ø—Ä–µ—Ç –ø–æ–∫–∞–∑–∞ –∑–Ω–∞—á–µ–Ω–∏–π –≤ –ª–æ–≥–∞—Ö.    

---
## 10) –ö–æ—Ä–æ—Ç–∫–∏–π ¬´–≥–æ—Ç–æ–≤—ã–π —Ç–µ–∫—Å—Ç¬ª –¥–ª—è –∏–Ω—Ç–µ—Ä–≤—å—é (—Å–∫–∞–∂–∏ —Ç–∞–∫)

> ¬´–ú—ã –Ω–µ —Ö—Ä–∞–Ω–∏–ª–∏ –ø–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –≤ Git. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ HashiCorp Vault (KV + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫—Ä–µ–¥—ã –¥–ª—è –ë–î), –∫–ª—é—á–∏ master-key —Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ KMS/HSM —Å auto-unseal. –ü–∞–π–ø–ª–∞–π–Ω –ø—Ä–∏ –¥–µ–ø–ª–æ–µ –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ Vault –∏ —Å–æ–∑–¥–∞—ë—Ç Kubernetes Secrets/–ø–µ—Ä–µ–¥–∞—ë—Ç –∫–∞–∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ env vars. –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –¥–∞—ë—Ç –ø–∞—Ä–æ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∏–º–ª–∏–¥), –æ–Ω —Å—Ä–∞–∑—É –ø–æ–ø–∞–¥–∞–µ—Ç –≤ Vault —á–µ—Ä–µ–∑ —É—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å; —Ä–æ—Ç–∞—Ü–∏—è –∏ audit ‚Äî –∑–∞–¥–∞—áa –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å –ø—Ä–∞–≤–∞–º–∏ –º–æ–≥–ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã, –Ω–æ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–ª–∏—Å—å –∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∏ —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω.¬ª

---
---
---
## –†–∞–±–æ—á–∏–π –Ω–∞–±–æ—Ä ‚Äî **–∫–æ–º–∞–Ω–¥—ã + GitLab CI snippet + K8s + Spring** ‚Äî —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ –∏/–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–µ–∞–ª–µ. –ö—Ä–∞—Ç–∫–æ, –Ω–æ –≤—Å—è —Ü–µ–ø–æ—á–∫–∞ –ø–æ–∫—Ä—ã—Ç–∞. üîê

---
## 1) –ö–∞–∫ –ø–æ–ª–æ–∂–∏—Ç—å —Å–µ–∫—Ä–µ—Ç –≤ Vault (–ø—Ä–∏–º–µ—Ä)
```bash
# KV v2
vault kv put secret/projectX/prod/kafka username=svc-kafka password=12345
```
> –ü–æ—è—Å–Ω–µ–Ω–∏–µ: `secret/projectX/prod/kafka` ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–∞–ø–∫–∞; audit-–ª–æ–≥–∏ –∏ –ø–æ–ª–∏—Ç–∏–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç –¥–æ—Å—Ç—É–ø.

---
## 2) GitLab CI: –ø–æ–¥—Ç—è–Ω—É—Ç—å —Å–µ–∫—Ä–µ—Ç –∏–∑ Vault –∏ —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å K8s Secret

> –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: runner –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å `vault` –∏ `kubectl` (–ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—Ä–∞–∑, –≥–¥–µ –æ–Ω–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã). VAULT_ADDR –∏ VAULT_TOKEN ‚Äî **protected & masked CI variables**.
```yaml
stages:
  - deploy

deploy_to_prod:
  stage: deploy
  image: registry.example.com/tools/vault-kubectl:latest  # –∏–ª–∏ –ª—é–±–æ–π –æ–±—Ä–∞–∑ —Å vault+kubectl
  script:
    - echo "–ü–æ–¥—Ç—è–≥–∏–≤–∞–µ–º —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ Vault"
    - export VAULT_ADDR="${VAULT_ADDR}"    # –∑–∞–¥–∞–Ω–æ –≤ CI vars
    - export VAULT_TOKEN="${VAULT_TOKEN}"  # –∑–∞–¥–∞–Ω–æ –≤ CI vars (short-lived token preferable)
    - USERNAME=$(vault kv get -field=username secret/projectX/prod/kafka)
    - PASSWORD=$(vault kv get -field=password secret/projectX/prod/kafka)
    - echo "–°–æ–∑–¥–∞—ë–º/–æ–±–Ω–æ–≤–ª—è–µ–º Kubernetes Secret (namespace=prod)"
    - kubectl create secret generic kafka-credentials \
        --from-literal=username="${USERNAME}" \
        --from-literal=password="${PASSWORD}" \
        --namespace=prod \
        --dry-run=client -o yaml | kubectl apply -f -
    - echo "–î–µ–ø–ª–æ–π–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ kubectl apply/helm upgrade)"
    - kubectl rollout restart deployment/my-service -n prod
  only:
    - main

```
**–ü–æ—á–µ–º—É —Ç–∞–∫:** `--dry-run=client -o yaml | kubectl apply -f -` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ —Å–æ–∑–¥–∞—ë—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç Secret –±–µ–∑ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞—Ö.

---
## 3) –ö–∞–∫ –º–æ–Ω—Ç–∏—Ä—É–µ–º —Å–µ–∫—Ä–µ—Ç –≤ `Pod` <br>(*K8s Deployment, –ø—Ä–∏–º–µ—Ä*)
```yaml
env:
  - name: KAFKA_USERNAME
    valueFrom:
      secretKeyRef:
        name: kafka-credentials
        key: username
  - name: KAFKA_PASSWORD
    valueFrom:
      secretKeyRef:
        name: kafka-credentials
        key: password

```

---
## 4) Spring Boot: –∫–∞–∫ —á–∏—Ç–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ <BR>(–ø—Ä–∏–º–µ—Ä `application.yml`)

```yaml
spring:
  kafka:
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS}
    properties:
      sasl.mechanism: SCRAM-SHA-512
      security.protocol: SASL_SSL
      sasl.jaas.config: org.apache.kafka.common.security.scram.ScramLoginModule required username="${KAFKA_USERNAME}" password="${KAFKA_PASSWORD}";
```
> –í–∞–∂–Ω–æ: –≤ –∫–æ–¥–µ ‚Äî **–Ω–∏–≥–¥–µ** –Ω–µ—Ç —è–≤–Ω—ã—Ö —Å—Ç—Ä–æ–∫ —Å –ø–∞—Ä–æ–ª—è–º–∏; –≤—Å—ë —á–µ—Ä–µ–∑ env vars/secretKeyRef.

---
## 5) –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å –ø—Ä–∏—Å–ª–∞–ª–∏ –≤ —á–∞—Ç (*–ø—Ä–æ—Ü–µ—Å—Å*)

1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ Vault (`vault kv put ...`).    
2. –ü–æ–ø—Ä–æ—Å–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é/–∑–∞–º–µ–Ω—É –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è –∏ –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ –∫–∞–Ω–∞–ª –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–µ–∑–∞—â–∏—â—ë–Ω.    
3. –£–¥–∞–ª–∏—Ç—å/—Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞/–ø–∞—Ä–æ–ª—è –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ü–∏–¥–µ–Ω—Ç (–µ—Å–ª–∏ –ø–æ–ª–∏—Ç–∏–∫–∞ —Ç—Ä–µ–±—É–µ—Ç).    

---
## 6) –ö–æ—Ä–æ—Ç–∫–∏–µ best-practices, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–ø–æ–º—è–Ω—É—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏

- VAULT_ADDR/VAULT_TOKEN ‚Äî **–≤ CI vars**, masked & protected.    
- Master keys ‚Äî –≤ KMS/HSM; Vault auto-unseal —á–µ—Ä–µ–∑ KMS.    
- –î–æ—Å—Ç—É–ø –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É least-privilege (RBAC); –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è (audit).    
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ plain Git; –µ—Å–ª–∏ —Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –≤ Git ‚Äî —Ç–æ–ª—å–∫–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π (SOPS/SealedSecrets).    
- –†–æ—Ç–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏ playbook –Ω–∞ —Å–ª—É—á–∞–π —É—Ç–µ—á–∫–∏.

---
