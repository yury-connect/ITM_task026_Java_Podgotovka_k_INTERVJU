# Map / `HashMap` ‚Äî —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å—Ç–æ, –∑–∞—Ç–µ–º –¥–µ—Ç–∞–ª—å–Ω–æ üî•

---
## –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ (*1‚Äì2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è*)

`HashMap` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `Map`, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç –ø–∞—Ä—ã –∫–ª—é—á‚Üí–∑–Ω–∞—á–µ–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤–µ ¬´–±–∞–∫–µ—Ç–æ–≤¬ª. –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫–ª—é—á —Ö—ç—à–∏—Ä—É–µ—Ç—Å—è; –æ–±—ã—á–Ω–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ `get`/`put` ‚Äî **O(1)** –≤ —Å—Ä–µ–¥–Ω–µ–º. –ü—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –±–∞–∫–µ—Ç–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –∏–ª–∏ (—Å Java 8) –≤ –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–º –¥–µ—Ä–µ–≤–µ ‚Äî —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **O(log n)** –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ. ‚úÖ

---
# –î–µ—Ç–∞–ª—å–Ω–æ ‚Äî –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è (–∏–¥–µ—è)
- `transient Node<K,V>[] table;` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤ (–∫–∞–∂–¥—ã–π –±–∞–∫–µ—Ç ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ `Node`/`TreeNode`).    
- `transient int size;` ‚Äî —á–∏—Å–ª–æ –∑–∞–ø–∏—Å–µ–π.    
- `int threshold;` ‚Äî –ø–æ—Ä–æ–≥ –¥–ª—è —Ä–µ—Å–∞–π–∑–∞ = `capacity * loadFactor`.    
- `final float loadFactor;` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **0.75f**).    
- `transient int modCount;` ‚Äî —Å—á—ë—Ç—á–∏–∫ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π (fail-fast –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã).    

---
## Node / —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è

–£–ø—Ä–æ—â—ë–Ω–Ω–æ:
```java
static class Node<K,V> implements Map.Entry<K,V> {
  final int hash;
  final K key;
  V value;
  Node<K,V> next; // —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –≤ –±–∞–∫–µ—Ç–µ (–≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞)
}
```

–í Java 8 –ø—Ä–∏ ¬´–ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏¬ª —Å–ø–∏—Å–∫–∞ –Ω–∞ –±–∞–∫–µ—Ç–µ –æ–Ω –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ `TreeNode` (RB-–¥–µ—Ä–µ–≤–æ).

---
## –ö–∞–∫ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å (hash & index)

1. `int h = key == null ? 0 : spread(key.hashCode());`
    
2. `index = (n - 1) & h` ‚Äî –≥–¥–µ `n` ‚Äî —Ç–µ–∫—É—â–∞—è —ë–º–∫–æ—Å—Ç—å (`table.length`).  
    `spread` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç –±–∏—Ç—ã:    

```java
static final int spread(int h) { return h ^ (h >>> 16); }
```

–ü–æ—á–µ–º—É: —á—Ç–æ–±—ã –≤—ã—Å–æ–∫–∏–µ –±–∏—Ç—ã `hashCode()` —Ç–æ–∂–µ –≤–ª–∏—è–ª–∏ –Ω–∞ –∏–Ω–¥–µ–∫—Å –ø—Ä–∏ –º–∞–ª—ã—Ö `n`.

---
## Capacity, loadFactor, threshold

- `capacity` = –¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞ `table` (–≤—Å–µ–≥–¥–∞ —Å—Ç–µ–ø–µ–Ω—å –¥–≤–æ–π–∫–∏).
    
- `loadFactor` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.75) –±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç –º–µ–∂–¥—É –ø–∞–º—è—Ç—å—é –∏ —á–∏—Å–ª–æ–º —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π (resize).
    
- `threshold = capacity * loadFactor` ‚Äî –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –µ–≥–æ —Ç–∞–±–ª–∏—Ü–∞ **—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –≤ 2 —Ä–∞–∑–∞** (resize), –∏ –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Ä–µ-—Ö—ç—à–∏—Ä—É—é—Ç—Å—è.    

---
## put(K,V) ‚Äî —à–∞–≥–∏ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)

1. –ï—Å–ª–∏ `table == null` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å (DEFAULT_CAPACITY = 16).
    
2. –í—ã—á–∏—Å–ª–∏—Ç—å `hash` –∏ `index`.
    
3. –ï—Å–ª–∏ –≤ `table[index]` –ø—É—Å—Ç–æ ‚Üí –ø–æ–º–µ—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π `Node`.
    
4. –ò–Ω–∞—á–µ ‚Äî –ø—Ä–æ–π—Ç–∏ –ø–æ —Ü–µ–ø–æ—á–∫–µ:
    
    - –µ—Å–ª–∏ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏ `key.equals` ‚Üí –∑–∞–º–µ–Ω–∏—Ç—å `value`.
        
    - –∏–Ω–∞—á–µ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞.
        
5. –ï—Å–ª–∏ –¥–ª–∏–Ω–∞ —Å–ø–∏—Å–∫–∞ > `TREEIFY_THRESHOLD` (8) ‚Üí –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –≤ –¥–µ—Ä–µ–≤–æ (`treeifyBin`) **–µ—Å–ª–∏** `capacity >= MIN_TREEIFY_CAPACITY` (64), –∏–Ω–∞—á–µ —Å–Ω–∞—á–∞–ª–∞ –¥–µ–ª–∞–µ–º `resize`.
    
6. `size++`, –≤–æ–∑–º–æ–∂–Ω–æ `resize()` –µ—Å–ª–∏ `size > threshold`.    

---
## get(K) ‚Äî —à–∞–≥–∏

1. –ï—Å–ª–∏ `table == null` ‚Üí null.
    
2. –í—ã—á–∏—Å–ª–∏—Ç—å `hash` –∏ `index`.
    
3. –ü—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ `Node`/`TreeNode` –≤ —ç—Ç–æ–º –±–∞–∫–µ—Ç–µ: —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å `hash` –∏ `equals(key)`.
    
4. –í–µ—Ä–Ω—É—Ç—å –Ω–∞–π–¥–µ–Ω–Ω–æ–µ `value` –∏–ª–∏ `null`.    

–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è ‚Äî O(1) (–º–∞–ª–µ–Ω—å–∫–æ–µ —á–∏—Å–ª–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∫–µ—Ç–µ). Worst-case: O(n) (–æ–¥–∏–Ω –±–∞–∫–µ—Ç) ‚Üí –Ω–æ –¥–µ—Ä–µ–≤—å—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç O(log n).

---
## –ö–æ–ª–ª–∏–∑–∏–∏ –∏ treeify (Java 8+)

- `TREEIFY_THRESHOLD = 8` ‚Äî –ø—Ä–∏ ‚â•8 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∫–µ—Ç–µ –ø—ã—Ç–∞—é—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å RB-–¥–µ—Ä–µ–≤–æ.
    
- `MIN_TREEIFY_CAPACITY = 64` ‚Äî –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è capacity < 64, –≤–º–µ—Å—Ç–æ treeify —Å–Ω–∞—á–∞–ª–∞ **resize** (—á—Ç–æ–±—ã —Å–Ω–∏–∑–∏—Ç—å –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑–±–∏—Ç—å —Ü–µ–ø–æ—á–∫–∏).
    
- –ü–æ—Å–ª–µ treeify –¥–∞–ª—å–Ω–µ–π—à–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —ç—Ç–æ–º –±–∞–∫–µ—Ç–µ ‚Äî –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏–µ.    

---
## –†–µ—Å–∞–π–∑ (rehash)

- –ü—Ä–∏ `resize()` capacity —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è, —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤, –≤—Å–µ —É–∑–ª—ã –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è (–Ω–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å = `hash & (newCap-1)`).
    
- –†–µ—Å–∞–π–∑ –¥–æ—Ä–æ–≥ –ø–æ CPU –∏ –∞–ª–ª–æ–∫–∞—Ü–∏—è–º ‚Äî –ø–æ—ç—Ç–æ–º—É –ª—É—á—à–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å `initialCapacity` –µ—Å–ª–∏ –æ–∂–∏–¥–∞–µ–º –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.    

---
## –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏

- `modCount` –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ structural modifications (put/remove/resize).
    
- –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã ‚Äî **fail-fast**: –µ—Å–ª–∏ `modCount` –∏–∑–º–µ–Ω–∏–ª—Å—è –≤–æ –≤—Ä–µ–º—è –∏—Ç–µ—Ä–∞—Ü–∏–∏, `ConcurrentModificationException` –±—Ä–æ—Å–∞–µ—Ç—Å—è.    

---
## Null key / null values

- `HashMap` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç **–æ–¥–∏–Ω** `null`-–∫–ª—é—á (—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `table[0]` —Å `hash = 0`) –∏ –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ `null`-–∑–Ω–∞—á–µ–Ω–∏–π.

---
## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

- –í —Å—Ä–µ–¥–Ω–µ–º `get/put/remove` ‚Äî O(1).
    
- –í —Ö—É–¥—à–µ–º ‚Äî O(n), –Ω–æ Java 8+ —Å–Ω–∏–∂–∞–µ—Ç —ç—Ç–æ –¥–æ O(log n) –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –∫–æ–ª–ª–∏–∑–∏—è—Ö.
    
- –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —á–∞—Å—Ç—ã—Ö —Ä–µ—Å–∞–π–∑–æ–≤: `initialCapacity = expectedSize / loadFactor + 1`.
    
- –î–ª—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `LinkedHashMap` (—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ –≤—Å—Ç–∞–≤–∫–µ/–ø–æ –¥–æ—Å—Ç—É–ø—É).

---
## –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- `HashMap` **–Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞**: concurrent –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ (–≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö ‚Äî –¥–∞–∂–µ –∫ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º—É —Ü–∏–∫–ª—É).
    
- –î–ª—è concurrent use: `ConcurrentHashMap` ‚Äî –¥—Ä—É–≥–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º (–±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã), –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω–µ—Ç `null` –∫–ª—é—á–µ–π/–∑–Ω–∞—á–µ–Ω–∏–π –∏ –¥—Ä—É–≥–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞.

–ö—Ä–∞—Ç–∫–æ –ø—Ä–æ `ConcurrentHashMap` (**`Java 8+`**):
- –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CAS –∏ synchronized —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –±–∏–Ω–¥–∞—Ö; –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç lock-free reads; –¥–ª—è heavy writes –∏—Å–ø–æ–ª—å–∑—É–µ—Ç bin-locking / tree bins; –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—É—é –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É.

---
## –í–∞–∂–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω—é–∞–Ω—Å—ã / –æ—à–∏–±–∫–∏

- **Mutable key**: –µ—Å–ª–∏ –∫–ª—é—á –º–µ–Ω—è–µ—Ç `hashCode()`/`equals()` –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ ‚Äî —ç–ª–µ–º–µ–Ω—Ç ¬´–ø–æ—Ç–µ—Ä—è–Ω¬ª (get –Ω–µ –Ω–∞–π–¥—ë—Ç).
    
- **–ù–µ –∑–∞–¥–∞–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π loadFactor** ‚Äî –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏. –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π ‚Äî –±–æ–ª—å—à–µ –∫–æ–ª–ª–∏–∑–∏–π ‚Üí –º–µ–¥–ª–µ–Ω–Ω–µ–µ.
    
- **–ù–µ –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –ø–æ—Ä—è–¥–æ–∫** ‚Äî `HashMap` –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫.
    
- **ConcurrentModificationException** ‚Äî —Å–ª–µ–¥–∏ –∑–∞ –∏—Ç–µ—Ä–∞—Ü–∏–µ–π –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏.
    
- **–ë–æ–ª—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è** ‚Üí –∑–∞–¥–∞–≤–∞–π initialCapacity, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ä–µ—Å–∞–π–∑–∞ –≤ —Ä–∞–±–æ—á–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏.    

---
## –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–≤–∞–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å)

- `DEFAULT_INITIAL_CAPACITY = 16`
    
- `MAXIMUM_CAPACITY = 1 << 30`
    
- `DEFAULT_LOAD_FACTOR = 0.75f`
    
- `TREEIFY_THRESHOLD = 8`
    
- `UNTREEIFY_THRESHOLD = 6`
    
- `MIN_TREEIFY_CAPACITY = 64`    

---
## –ö—Ä–∞—Ç–∫–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Å–µ–≤–¥–æ-–∫–æ–¥–∞ `put`

```java
int hash = spread(key.hashCode());
int i = (table.length - 1) & hash;
if (table[i] == null)
    table[i] = new Node(hash, key, value, null);
else {
    Node<K,V> e = table[i];
    while (true) {
        if (e.hash == hash && Objects.equals(e.key, key)) { e.value = value; break; }
        if (e.next == null) { e.next = new Node(hash, key, value, null); break; }
        e = e.next;
    }
    if (bucketSize >= TREEIFY_THRESHOLD) treeify(i);
}
if (++size > threshold) resize();
```

---
## –ß—Ç–æ —Å–∫–∞–∑–∞—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ (*–∫–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç*)

- `HashMap` ‚Äî –º–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤ + —Å–≤—è–∑–Ω—ã–µ —Å–ø–∏—Å–∫–∏ (–∏–ª–∏ RB-–¥–µ—Ä–µ–≤—å—è). –ò–Ω–¥–µ–∫—Å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ `hash ^ (hash>>>16)` –∑–∞—Ç–µ–º `& (capacity-1)`. Default capacity 16, loadFactor 0.75, resize √ó2. –ö–æ–ª–ª–∏–∑–∏–∏ ‚Üí —Å–ø–∏—Å–æ–∫ ‚Üí –ø—Ä–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Ü–µ–ø–æ—á–∫–∞—Ö (‚â•8) ‚Üí –¥–µ—Ä–µ–≤–æ. –ù–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞; –¥–ª—è concurrency ‚Äî `ConcurrentHashMap`.

---
# –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ (array ‚Üí buckets ‚Üí chains/trees)
```rust
table (Node[] array)
index: 0    1    2    3    4    5    6 ...
       ‚Üì    ‚Üì    ‚Üì    ‚Üì    ‚Üì    ‚Üì    ‚Üì
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
0  ->  ‚îÇ null   ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

1  ->  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ NodeA ‚îÄ‚ñ∫ next -> NodeB ‚îÄ‚ñ∫ next -> NodeC        (ÈìæË°® / linked list)
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

2  ->  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ TreeBin(root)  ‚îÄ‚îÄ (TreeNode key/hashes –≤ RB-–¥–µ—Ä–µ–≤–µ)  (treeified bin)
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

3  ->  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ NodeD  ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

4  ->  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ ForwardingNode ‚îÇ   (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ resize ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É)
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
- `table` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –º–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤.    
- –í –±–∞–∫–µ—Ç–µ –ª–∏–±–æ `null`, –ª–∏–±–æ `Node` (–≥–æ–ª–æ–≤–∞ —Ü–µ–ø–æ—á–∫–∏), –ª–∏–±–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π `TreeBin`/`TreeNode`, –ª–∏–±–æ `ForwardingNode` –≤–æ –≤—Ä–µ–º—è —Ä–µ—Å–∞–π–∑–∞.    
- –ü—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö —ç–ª–µ–º–µ–Ω—Ç—ã –∏–¥—É—Ç –≤ —Ü–µ–ø–æ—á–∫—É (`next`) ‚Üí –ø—Ä–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (threshold) —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ RB-–¥–µ—Ä–µ–≤–æ (`TreeBin`/`TreeNode`) –¥–ª—è O(log n).

---
# ConcurrentHashMap internals ‚Äî –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, –Ω–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- `volatile Node<K,V>[] table` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞.
    
- `static class Node<K,V> { final int hash; final K key; volatile V val; volatile Node<K,V> next; }` ‚Äî –±–∞–∑–æ–≤–∞—è —è—á–µ–π–∫–∞ (immutable hash/key, volatile value/next).
    
- `TreeNode` / `TreeBin` ‚Äî –∫–ª–∞—Å—Å—ã –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è ¬´–¥–µ—Ä–µ–≤–∞ –≤ –±–∞–∫–µ—Ç–µ¬ª (–∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ).
    
- `ForwardingNode` ‚Äî –º–∞—Ä–∫–µ—Ä/—É–∫–∞–∑–∞—Ç–µ–ª—å –≤–æ –≤—Ä–µ–º—è `resize`: —Å—Ç–∞—Ä—ã–π —Å–ª–æ—Ç —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É.
    
- `baseCount` + `CounterCells[]` ‚Äî —Å—á—ë—Ç—á–∏–∫–∏ —Ä–∞–∑–º–µ—Ä–∞, —Å–¥–µ–ª–∞–Ω–Ω—ã–µ –ø–æ –∏–¥–µ–µ LongAdder (CAS + cells) –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è contention.    

## CAS (compare-and-swap)
- –û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ö–∞–Ω–∏–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ ‚Äî **CAS** (Unsafe.compareAndSwapObject/Long) –Ω–∞:    
    - —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞ `table[i]` (–≤—Å—Ç–∞–≤–∫–∞ –≤ –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç),        
    - –ø–æ–ª–µ `next` –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è—Ö,        
    - `baseCount` –∏ —ç–ª–µ–º–µ–Ω—Ç—ã `CounterCells`.        
- CAS –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–æ–≤—ã–π `Node` –µ—Å–ª–∏ —Å–ª–æ—Ç –ø—É—Å—Ç. –≠—Ç–æ –¥–∞—ë—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—É—é lock-free fast-path –¥–ª—è –º–Ω–æ–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.    

## –û–ø–µ—Ä–∞—Ü–∏–∏: put / get / compute

### get(K)
- –ß–∏—Ç–∞–µ—Ç—Å—è `table` (volatile), –±–µ—Ä—ë—Ç—Å—è `Node` –ø–æ –∏–Ω–¥–µ–∫—Å—É –∏ –ø—Ä–æ–≥–æ–Ω—è–µ—Ç—Å—è —Ü–µ–ø–æ—á–∫–∞/–¥–µ—Ä–µ–≤–æ, —Å—Ä–∞–≤–Ω–∏–≤–∞—è `hash` –∏ `equals`.    
- **–ë–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** (lock-free read). –ï—Å–ª–∏ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏ `ForwardingNode` ‚Äî —Å–ª–µ–¥—É–µ–º –≤ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ resize). –û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å –¥–ª—è —á—Ç–µ–Ω–∏—è.    

### put(K,V)
1. –í—ã—á–∏—Å–ª—è–µ–º –∏–Ω–¥–µ–∫—Å.    
2. –ï—Å–ª–∏ `table[i] == null` ‚Äî –ø—ã—Ç–∞–µ–º—Å—è –≤—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—ã–º Node —á–µ—Ä–µ–∑ **CAS**: `casTabAt(tab,i,null,newNode)` ‚Üí —É—Å–ø–µ—Ö ‚Üí done.    
3. –ï—Å–ª–∏ —Å–ª–æ—Ç –∑–∞–Ω—è—Ç:    
    - –µ—Å–ª–∏ —ç—Ç–æ `TreeBin` ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –¥–µ—Ä–µ–≤–æ (TreeBin –∑–∞—â–∏—â—ë–Ω –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º lock/synchronized).        
    - –µ—Å–ª–∏ —ç—Ç–æ —Ü–µ–ø–æ—á–∫–∞ ‚Üí –ø—Ä–∏ –Ω–µ–±–æ–ª—å—à–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ –º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (synchronized –Ω–∞ –≥–æ–ª–æ–≤—É –±–∞–∫–µ—Ç–∞) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º CAS-—Ü–µ–ø–æ—á–∫—É / —Å–ø–∏–Ω ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞: —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–∞ –∏ append; –µ—Å–ª–∏ –¥–ª–∏–Ω–∞ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç threshold ‚Üí `treeifyBin` (–¥–µ—Ä–µ–≤–æ) –∏–ª–∏ —Å–Ω–∞—á–∞–ª–∞ `resize` –µ—Å–ª–∏ capacity –º–∞–ª–µ–Ω—å–∫–∏–π.        
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–æ–≤ —Ä–∞–∑–º–µ—Ä–∞ ‚Äî CAS –Ω–∞ `baseCount`, –ø—Ä–∏ contention ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º `CounterCells` (sharded counters).

### resize()
- –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ `threshold` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã (—É–º–Ω–æ–∂–µ–Ω–∏–µ capacity √ó2). Resize –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ: –ª—é–±–æ–π –ø–æ—Ç–æ–∫, –æ–±–Ω–∞—Ä—É–∂–∏–≤—à–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å, –º–æ–∂–µ—Ç –ø–æ–º–æ–≥–∞—Ç—å –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—ã –±–∞–∫–µ—Ç–æ–≤ –≤ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É.    
- –í —Å—Ç–∞—Ä–æ–π —Ç–∞–±–ª–∏—Ü–µ –Ω–∞ —É–∂–µ –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã —Å—Ç–∞–≤–∏—Ç—Å—è `ForwardingNode`, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –≤ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É. –≠—Ç–æ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –∏–∑–±–µ–≥–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.    

## TreeBin / treeify
- –ü—Ä–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Ü–µ–ø–æ—á–∫–∞—Ö (–æ–±—ã—á–Ω–æ ‚â•8) –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `treeifyBin` ‚Äî –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤ –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ (`TreeNode`) **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏** —Ç–∞–±–ª–∏—Ü–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∞—è (`MIN_TREEIFY_CAPACITY`, –∏–Ω–∞—á–µ —Å–Ω–∞—á–∞–ª–∞ resize).    
- –î–µ—Ä–µ–≤–æ –¥–∞—ë—Ç O(log n) –ø–æ–∏—Å–∫/–≤—Å—Ç–∞–≤–∫—É –≤ –±–∞–∫–µ—Ç–µ. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–µ—Ä–µ–≤–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–¥ –ª–æ–∫–æ–º (synchronized –≤–Ω—É—Ç—Ä–∏ TreeBin) ‚Äî —ç—Ç–æ –ª–æ–∫–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –±–∞–∫–µ—Ç–µ.    

## –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- –ß—Ç–µ–Ω–∏—è ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç.    
- –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:    
    - fast-path: CAS –≤—Å—Ç–∞–≤–∫–∞ –≤ –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç ‚Äî lock-free.        
    - –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö –∏ –¥–ª—è –¥–µ—Ä–µ–≤–∞ ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ synchronized (–Ω–∞ TreeBin –∏–ª–∏ head node) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è. –≠—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –æ–±–ª–∞—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ –æ–¥–Ω–æ–≥–æ –±–∞–∫–µ—Ç–∞ (–∞ –Ω–µ –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã).        
- Resize —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —á–µ—Ä–µ–∑ ForwardingNode + CAS + –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —á–∞–Ω–∫–æ–≤, –±–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.    

## Size / count
- –ü—Ä—è–º–æ–π `size` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `baseCount` –∏ `CounterCells[]` (–∞–Ω–∞–ª–æ–≥ LongAdder): –ø—Ä–∏ –±–æ–ª—å—à–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ –ø–æ—Ç–æ–∫–∏ –ø–∏—à—É—Ç –≤ —Ä–∞–∑–Ω—ã–µ —è—á–µ–π–∫–∏ —Å—á—ë—Ç—á–∏–∫–æ–≤, —á—Ç–æ–±—ã –Ω–µ –∫–æ–Ω—Ç–µ–Ω–¥–∏—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–π CAS. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ ‚Äî —Å—É–º–º–∏—Ä—É—é—Ç—Å—è base+cells.    

## –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É–∑–ª—ã
- `ReservationNode` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Ç–∏–ø–∞ `computeIfAbsent` –∫–∞–∫ –º–µ—Ç–∫–∞ ¬´–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è¬ª, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏ –∂–¥–∞–ª–∏/–æ–±—Ö–æ–¥–∏–ª–∏.    

---
# –ü–æ—á–µ–º—É ConcurrentHashMap –±—ã—Å—Ç—Ä—ã–π/–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π

- –ß—Ç–µ–Ω–∏—è: –ø–æ—á—Ç–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é lock-free (volatile + plain traversals).
    
- –ó–∞–ø–∏—Å–∏: –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç CAS –≤ –ø—É—Å—Ç–æ–π –±–∞–∫–µ—Ç (–æ–±—ã—á–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –ø—Ä–∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –∫–ª—é—á–µ–π).
    
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –±–∞–∫–µ—Ç/–¥–µ—Ä–µ–≤–æ, –∞ –Ω–µ –≤—Å—è —Ç–∞–±–ª–∏—Ü–∞.
    
- –®–∞—Ä–¥–∏–Ω–≥ —Å—á—ë—Ç—á–∏–∫–∞ (`CounterCells`) —É–º–µ–Ω—å—à–∞–µ—Ç contention –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö insert/delete.
    
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π resize: –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –ø–æ–º–æ–≥–∞—é—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å, –Ω–µ—Ç –¥–æ–ª–≥–æ–π –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.    

---
# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∫–æ–¥–µ

- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `null` –∫–ª—é—á–∏/–∑–Ω–∞—á–µ–Ω–∏—è ‚Äî `ConcurrentHashMap` –∏—Ö –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç.
    
- –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—ã—Å–æ–∫–æ–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö read-mostly —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤; –¥–ª—è –æ—á–µ–Ω—å –≥–æ—Ä—è—á–∏—Ö write-heavy –Ω–∞–≥—Ä—É–∑–æ–∫ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ contention –∏ –∫–æ–ª–ª–∏–∑–∏—è–º–∏ (—Ö–æ—Ä–æ—à–∏–π —Ö—ç—à!).
    
- –ü—Ä–∏ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤/—Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ —á–∞—Å—Ç—ã—Ö —Ä–µ—Å–∞–π–∑–æ–≤ ‚Äî –∑–∞–¥–∞–≤–∞–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π `initialCapacity` –∏ `loadFactor` –∑–∞—Ä–∞–Ω–µ–µ.    

---
