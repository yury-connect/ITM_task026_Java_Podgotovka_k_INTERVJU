# –ö–∞–∫–∏–µ –µ—Å—Ç—å –≤–∏–¥—ã —Å–≤—è–∑–µ–π?

---

![–°–≤—è–∑–∏](_Attachments_14_–≤–∏–¥—ã_—Å–≤—è–∑–µ–π/–°–≤—è–∑–∏.png)
## üîó [–í–∏–¥—ã —Å–≤—è–∑–µ–π](https://javarush.com/groups/posts/2259-jpa--znakomstvo-s-tekhnologiey#Mapping) (_Relationships_) –≤ _JPA_

|**–¢–∏–ø —Å–≤—è–∑–∏**|**–û–ø–∏—Å–∞–Ω–∏–µ**|
|---|---|
|`@OneToOne`|**–û–¥–∏–Ω** –æ–±—ä–µ–∫—Ç —Å–≤—è–∑–∞–Ω —Å **–æ–¥–Ω–∏–º** –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–æ–º|
|`@OneToMany`|**–û–¥–∏–Ω** –æ–±—ä–µ–∫—Ç —Å–≤—è–∑–∞–Ω —Å **–º–Ω–æ–∂–µ—Å—Ç–≤–æ–º** –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤|
|`@ManyToOne`|**–ú–Ω–æ–≥–æ** –æ–±—ä–µ–∫—Ç–æ–≤ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ **–æ–¥–∏–Ω** –æ–±—ä–µ–∫—Ç (–æ–±—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ `OneToMany`)|
|`@ManyToMany`|–û–±—ä–µ–∫—Ç—ã —Å—Å—ã–ª–∞—é—Ç—Å—è **–¥—Ä—É–≥** –Ω–∞ **–¥—Ä—É–≥–∞** –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ|
### üîÑ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å —Å–≤—è–∑–µ–π:

|**–í–∏–¥**|**–û–ø–∏—Å–∞–Ω–∏–µ**|
|---|---|
|**UniDirectional**|–°–≤—è–∑—å **–æ–¥–Ω–æ**—Å—Ç–æ—Ä–æ–Ω–Ω—è—è: —Ç–æ–ª—å–∫–æ **–æ–¥–Ω–∞** —Å—É—â–Ω–æ—Å—Ç—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –¥—Ä—É–≥—É—é|
|**BiDirectional**|–°–≤—è–∑—å **–¥–≤—É**—Å—Ç–æ—Ä–æ–Ω–Ω—è—è: **–æ–±–µ** —Å—É—â–Ω–æ—Å—Ç–∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `mappedBy`|
> üîß **mappedBy** ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ _–Ω–µ-–≤–ª–∞–¥–µ—é—â–µ–π_ —Å—Ç–æ—Ä–æ–Ω–µ  
> 	–∏ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –∏–º—è –ø–æ–ª—è –≤ _–≤–ª–∞–¥–µ—é—â–µ–π_ —Å—Ç–æ—Ä–æ–Ω–µ —Å–≤—è–∑–∏.

- **–í–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞** —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–Ω–µ—à–Ω–∏–º –∫–ª—é—á–æ–º –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–≤—è–∑–∏.
- –¢–æ–ª—å–∫–æ **–≤–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞** –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `persist()`, `merge()` –∏ `remove()`.

---

```
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–°—É—â–µ—Å—Ç–≤—É—é—Ç 4 —Ç–∏–ø–∞ —Å–≤—è–∑–µ–π:
1. OneToOne - –∫–æ–≥–¥–∞ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä Entity –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω 
    –Ω–µ –±–æ–ª—å—à–µ —á–µ–º —Å –æ–¥–Ω–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –¥—Ä—É–≥–æ–≥–æ Entity.
2. OneToMany - –∫–æ–≥–¥–∞ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä Entity –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω 
    —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –¥—Ä—É–≥–∏—Ö Entity.
3. ManyToOne - –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è OneToMany. –ù–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ Entity 
    –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å –æ–¥–Ω–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –¥—Ä—É–≥–æ–≥–æ Entity.
4. ManyToMany - —ç–∫–∑–µ–º–ø–ª—è—Ä—ã Entity –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞.

–ö–∞–∂–¥—É—é –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –µ—â—ë –Ω–∞ –¥–≤–∞ –≤–∏–¥–∞:
1. Bidirectional –í–ª–∞–¥–µ–µ–º–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –≤ –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –¥–æ–ª–∂–Ω–∞ —Å—Å—ã–ª–∞—Ç—å—Å—è 
    –Ω–∞ –≤–ª–∞–¥–µ—é—â—É—é —Å—Ç–æ—Ä–æ–Ω—É –∏—Å–ø–æ–ª—å–∑—É—è —ç–ª–µ–º–µ–Ω—Ç mappedBy –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π 
    @OneToOne, @OneToMany, –∏–ª–∏ @ManyToMany. 
    –≠–ª–µ–º–µ–Ω—Ç mappedBy –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª–µ –≤ –æ–±—ä–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –æ—Ç–Ω–æ—à–µ–Ω–∏—è.
2. Undirectional –í –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å –∏–º–µ–µ—Ç –ø–æ–ª–µ, 
    –∫–æ—Ç–æ—Ä–æ–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –≤—Ç–æ—Ä—É—é —Å—É—â–Ω–æ—Å—Ç—å. –í—Ç–æ—Ä–∞—è —Å—É—â–Ω–æ—Å—Ç—å (—Å—Ç–æ—Ä–æ–Ω–∞) 
    –Ω–µ –∏–º–µ–µ—Ç –ø–æ–ª—è –ø–µ—Ä–≤–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –Ω–µ –∑–Ω–∞–µ—Ç –æ–± –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. 
    –≠–ª–µ–º–µ–Ω—Ç mappedBy –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª–µ –≤ –æ–±—ä–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –æ—Ç–Ω–æ—à–µ–Ω–∏—è.

Bidirectional (–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è) ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–≤—è–∑—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —É –≤—Å–µ—Ö Entity, 
    —Ç–æ –µ—Å—Ç—å –≤ —Å–ª—É—á–∞–µ OneToOne A-B –≤ Entity A –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ Entity B, 
    –≤ Entity B –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ Entity A. 
    Entity A —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —ç—Ç–æ–π —Å–≤—è–∑–∏ (—ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è —Å–ª—É—á–∞–µ–≤ 
    –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Ç–æ–≥–¥–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ A —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ B, –Ω–æ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç).
Undirectional- —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–≤—è–∑—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, 
    —Ç–æ –µ—Å—Ç—å –≤ —Å–ª—É—á–∞–µ OneToOne A-B —Ç–æ–ª—å–∫–æ —É Entity A –±—É–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ Entity B, 
    —É Entity B —Å—Å—ã–ª–∫–∏ –Ω–∞ A –Ω–µ –±—É–¥–µ—Ç.
```

---
