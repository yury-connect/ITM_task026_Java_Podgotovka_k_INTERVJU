# –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@JoinColumn` –∏ `@JoinTable`? –ì–¥–µ –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?

---
## üîó –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ JPA: `@JoinColumn`, `@JoinColumns`, `@JoinTable`

### üìå –û–±—â–∞—è –∏–¥–µ—è
–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@JoinColumn`, `@JoinColumns` –∏ `@JoinTable` –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ JPA/Hibernate –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ **—Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏** –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏–µ–º **–≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π** –∏ **—Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

---
## üî∏ `@JoinColumn`
> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞ (**_FK_**), —Å–≤—è–∑—ã–≤–∞—é—â–µ–≥–æ —Ç–µ–∫—É—â—É—é —Å—É—â–Ω–æ—Å—Ç—å —Å –¥—Ä—É–≥–æ–π.

### üí° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
```java
@JoinColumn(name = "author_id")
private Author author;
```

### üìã –ü–æ–≤–µ–¥–µ–Ω–∏–µ:
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ **–≤–ª–∞–¥–µ—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω–µ —Å–≤—è–∑–∏**.
- –°–æ–∑–¥–∞—ë—Ç **–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á** –≤ —Ç–∞–±–ª–∏—Ü–µ —ç—Ç–æ–π —Å—É—â–Ω–æ—Å—Ç–∏.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏: `@OneToOne`, `@ManyToOne`, `@OneToMany` (_–∏–Ω–æ–≥–¥–∞_).

### üß© –ì–¥–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å—Ç–æ–ª–±–µ—Ü?
- **–í —Ç–∞–±–ª–∏—Ü–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞**, –¥–∞–∂–µ –µ—Å–ª–∏ `@JoinColumn` —É–∫–∞–∑–∞–Ω–∞ –Ω–∞ –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω–∞—Ö.

---
## üî∏ `@JoinColumns`
> **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π, –∫–æ–≥–¥–∞ –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–ª–æ–Ω–æ–∫.**

### üí° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
```java
@JoinColumns({
  @JoinColumn(name = "dept_id", referencedColumnName = "id"),
  @JoinColumn(name = "dept_code", referencedColumnName = "code")
})
private Department department;
```

### üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ **PK** –∏–ª–∏ **FK** —Å–æ—Å—Ç–∞–≤–Ω–æ–π (_–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–ª–±—Ü–æ–≤_).
- –ö–∞–∂–¥–∞—è `@JoinColumn` —É–∫–∞–∑—ã–≤–∞–µ—Ç `name` (_—Å—Ç–æ–ª–±–µ—Ü –≤ —Ç–µ–∫—É—â–µ–π —Ç–∞–±–ª–∏—Ü–µ_) –∏ `referencedColumnName` (_—Å—Ç–æ–ª–±–µ—Ü –≤–æ –≤–Ω–µ—à–Ω–µ–π —Ç–∞–±–ª–∏—Ü–µ_).

---

## üî∏ `@JoinTable

> **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–π (_—Å–≤–æ–¥–Ω–æ–π_) —Ç–∞–±–ª–∏—Ü—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ `@ManyToMany`.**

### üí° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
```java
@JoinTable(
name = "catalog",
joinColumns = @JoinColumn(name = "id_book"),
inverseJoinColumns = @JoinColumn(name = "id_student")
)
private Student student;
```

### üìã –ü–æ–≤–µ–¥–µ–Ω–∏–µ:
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º—è —Å–≤–æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–∞—Ä—ã `joinColumns` / `inverseJoinColumns`.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–≤—è–∑—è—Ö:
    - `@ManyToMany` (_–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ_)
    - –ò–Ω–æ–≥–¥–∞ –≤ `@OneToMany`, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

---
## üìò –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º

|**–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è**|**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**|**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**|**–ì–¥–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è FK/—Ç–∞–±–ª–∏—Ü–∞**|
|---|---|---|---|
|`@JoinColumn`|–û–¥–∏–Ω –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á|`@OneToOne`, `@ManyToOne`|–í —Ç–∞–±–ª–∏—Ü–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞|
|`@JoinColumns`|–ù–µ—Å–∫–æ–ª—å–∫–æ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π  <br>(_—Å–æ—Å—Ç–∞–≤–Ω–æ–π **FK**_)|–°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á|–í —Ç–∞–±–ª–∏—Ü–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞|
|`@JoinTable`|–¢–∞–±–ª–∏—Ü–∞-—Å–≤—è–∑–∫–∞|`@ManyToMany`, –∏–Ω–æ–≥–¥–∞ `@OneToMany`|–û—Ç–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞|

---
## ‚úÖ –†–µ–∑—é–º–µ
üîπ `@JoinColumn` ‚Äî –æ–¥–∏–Ω –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á.
üîπ `@JoinColumns` ‚Äî —Å–æ—Å—Ç–∞–≤–Ω–æ–π –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á.
üîπ `@JoinTable` ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É-—Å–≤—è–∑–∫—É.
> üß† –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –∏–ª–∏ —Ç–∞–±–ª–∏—Ü—É-—Å–≤—è–∑–∫—É. –í–∞–∂–Ω–æ –≥—Ä–∞–º–æ—Ç–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `mappedBy`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

---

```
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @JoinColumn –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Å—Ç–æ–ª–±—Ü–∞ FOREIGN KEY, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∏–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏. –ú—ã –ø–æ–º–Ω–∏–º, —á—Ç–æ —Ç–æ–ª—å–∫–æ —Å—É—â–Ω–æ—Å—Ç—å-–≤–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –æ—Ç –¥—Ä—É–≥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ (–≤–ª–∞–¥–µ–µ–º–æ–π). –û–¥–Ω–∞–∫–æ, –º—ã –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å @JoinColumn –∫–∞–∫ –≤–æ –≤–ª–∞–¥–µ—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ, —Ç–∞–∫ –∏ –≤–æ –≤–ª–∞–¥–µ–µ–º–æ–π, –Ω–æ —Å—Ç–æ–ª–±–µ—Ü —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –≤–æ –≤–ª–∞–¥–µ—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ. 
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

‚ùñ        @OneToOne: –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç–æ–ª–±–µ—Ü –≤ —Ç–∞–±–ª–∏—Ü–µ —Å—É—â–Ω–æ—Å—Ç–∏-–≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–≤—è–∑–∏, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞—é—â–∏–π—Å—è –Ω–∞ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –≤–ª–∞–¥–µ–µ–º–æ–π —Å—É—â–Ω–æ—Å—Ç–∏.

‚ùñ        @OneToMany/@ManyToOne: –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å –Ω–∞ –≤–ª–∞–¥–µ–µ–º–æ–π —Å—Ç–æ—Ä–æ–Ω–µ —Å–≤—è–∑–∏ –∞—Ç—Ä–∏–±—É—Ç mappedBy, —Å–æ–∑–¥–∞–µ—Ç—Å—è joinTable —Å –∫–ª—é—á–∞–º–∏ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü. –ù–æ –ø—Ä–∏ —ç—Ç–æ–º –∂–µ —É –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Ç–æ–ª–±–µ—Ü —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏.

 @JoinColumns –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π @JoinColumn, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∏–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ—Å—Ç–∞–≤–Ω–æ–π –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞.
–í –∫–∞–∂–¥–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @JoinColumn –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã name –∏ referencedColumnName.

 @JoinTable –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Å–≤—è–∑—ã–≤–∞—é—â–µ–π (—Å–≤–æ–¥–Ω–æ–π, —Ç—Ä–µ—Ç—å–µ–π) —Ç–∞–±–ª–∏—Ü—ã –º–µ–∂–¥—É –¥–≤—É–º—è –¥—Ä—É–≥–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏.                                @JoinTable(name = "CATALOG", joinColumns = @JoinColumn(name = "ID_BOOK"), inverseJoinColumns = @JoinColumn(name = "ID_STUDENT"))
 private Student student;
```

---
