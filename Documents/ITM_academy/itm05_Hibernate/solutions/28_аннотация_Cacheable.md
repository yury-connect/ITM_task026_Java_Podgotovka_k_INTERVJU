# –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Cacheable?

---
## üß† –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è¬†`@Cacheable`¬†–≤¬†_JPA_?
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è¬†`@Cacheable`¬†‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–∫–∞–∑–∞—Ç—å JPA (_–∏ Hibernate_), –Ω—É–∂–Ω–æ –ª–∏¬†**—Ö—Ä–∞–Ω–∏—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –≤ –∫—ç—à–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è**¬†(2nd level cache).

> üìç¬†**–ö—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è**¬†‚Äî –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ (`EntityManager`).
> 
> üìç¬†**–ö—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è**¬†‚Äî¬†**–æ–±—â–∏–π**¬†–¥–ª—è –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π (`SessionFactory`), –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å–∫–æ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∏ —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

---
## üè∑Ô∏è –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è?
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è¬†`@Cacheable`¬†—Å—Ç–∞–≤–∏—Ç—Å—è¬†**–Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º —Å—É—â–Ω–æ—Å—Ç–∏**:
```java
@Entity
@Cacheable(true)
public class Product {
    ...
}
```

---

```
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @Cacheable - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è JPA, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ç–æ–≥–æ, –¥–æ–ª–∂–Ω–∞ –ª–∏ —Å—É—â–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –∫—ç—à–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è. JPA –≥–æ–≤–æ—Ä–∏—Ç –æ –ø—è—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è—Ö shared-cache-mode –∏–∑ persistence.xml, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è second-level cache:

‚ùñ ENABLE_SELECTIVE: (–¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ):—Ç–æ–ª—å–∫–æ —Å—É—â–Ω–æ—Å—Ç–∏ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Cacheable (—Ä–∞–≤–Ω–æ—Å–∏–ª—å–Ω–æ –∑–Ω–∞—á–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é @Cacheable(value=true)) –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –∫—ç—à–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.
‚ùñ DISABLE_SELECTIVE: –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –∫—ç—à–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å—É—â–Ω–æ—Å—Ç–µ–π, –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö @Cacheable(value=false) –∫–∞–∫ –Ω–µ–∫—ç—à–∏—Ä—É–µ–º—ã–µ.
‚ùñ ALL: —Å—É—â–Ω–æ—Å—Ç–∏ –≤—Å–µ–≥–¥–∞ –∫—ç—à–∏—Ä—É—é—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –Ω–µ–∫—ç—à–∏—Ä—É–µ–º—ã–µ.
‚ùñ NONE: –Ω–∏ –æ–¥–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ –∫—ç—à–∏—Ä—É–µ–º–∞—è. –ü—Ä–∏ –¥–∞–Ω–Ω–æ–π –æ–ø—Ü–∏–∏ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –≤–æ–æ–±—â–µ –æ—Ç–∫–ª—é—á–∏—Ç—å –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.
‚ùñ UNSPECIFIED: –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫—ç—à–∞ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ Hibernate. –≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ —Ç–æ–º—É, —á—Ç–æ –≤–æ–æ–±—â–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è shared-cache-mode, —Ç–∞–∫ –∫–∞–∫ Hibernate –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∂–∏–º UNSPECIFIED.

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @Cacheable —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º —Å—É—â–Ω–æ—Å—Ç–∏. –ï—ë –¥–µ–π—Å—Ç–≤–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ —ç—Ç—É —Å—É—â–Ω–æ—Å—Ç—å –∏ –µ—ë –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –¥—Ä—É–≥–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

–ö–∞–∫ –∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å–Ω–∞—â–µ–Ω–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º ORM, Hibernate –∏–º–µ–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –∫—ç—à–∞ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è. –≠—Ç–æ –∫—ç—à —Å –æ–±–ª–∞—Å—Ç—å—é –¥–µ–π—Å—Ç–≤–∏—è —Å–µ–∞–Ω—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Å—É—â–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –∏–º–µ–µ—Ç –æ–±–ª–∞—Å—Ç—å SessionFactory -, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–∏–º –¥–ª—è –≤—Å–µ—Ö —Å–µ–∞–Ω—Å–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Ñ–∞–±—Ä–∏–∫–∏ —Å–µ–∞–Ω—Å–æ–≤. 
```

---
