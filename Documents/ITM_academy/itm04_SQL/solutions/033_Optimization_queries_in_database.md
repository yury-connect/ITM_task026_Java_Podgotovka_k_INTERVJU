# üéØ –ú–µ—Ö–∞–Ω–∏–∑–º—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —É–¥–æ–±–Ω–æ –¥–µ–ª–∏—Ç—å –Ω–∞ **3 —É—Ä–æ–≤–Ω—è**:  
1Ô∏è‚É£ SQL-–∑–∞–ø—Ä–æ—Å  
2Ô∏è‚É£ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î  
3Ô∏è‚É£ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

---
# 1Ô∏è‚É£ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ SQL

## üîπ 1. –ò–Ω–¥–µ–∫—Å—ã
üìå –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞.
### –í–∏–¥—ã:
- **–û–±—ã—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å** ‚Üí –¥–ª—è `WHERE`, `JOIN`, `ORDER BY`    
- **–ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π** ‚Üí `(col1, col2)` ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ    
- **–ü–æ–∫—Ä—ã–≤–∞—é—â–∏–π** ‚Üí —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è ‚Üí –Ω–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Ç–∞–±–ª–∏—Ü–µ    
### ‚ö† –ú–∏–Ω—É—Å—ã:
- –ó–∞–º–µ–¥–ª—è–µ—Ç `INSERT/ UPDATE/ DELETE`    
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –ë–î    

üß† **–ó–∞–ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç–æ**: –ß—Ç–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–µ–µ ‚Äî –∑–∞–ø–∏—Å—å –¥–æ—Ä–æ–∂–µ.

---
## üîπ 2. –ê–Ω–∞–ª–∏–∑ –ø–ª–∞–Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî EXPLAIN
–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–Ω—è—Ç—å, **–∫–∞–∫ –ë–î —Ä–µ–∞–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å**.
#### –°–º–æ—Ç—Ä–∏–º:
- `type` ‚Üí –∏–∑–±–µ–≥–∞—Ç—å `ALL` (full scan)    
- `rows` ‚Üí —Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è    
- `key` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –∏–Ω–¥–µ–∫—Å    
- `extra` ‚Üí `Using temporary`, `Using filesort` ‚Äî —Ç—Ä–µ–≤–æ–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã    

üéØ **–¶–µ–ª—å**: –¥–æ–±–∏—Ç—å—Å—è index scan –≤–º–µ—Å—Ç–æ full scan.

---
## üîπ 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∫–∏

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `LIMIT`    
- –ò–∑–±–µ–≥–∞—Ç—å –±–æ–ª—å—à–∏—Ö `OFFSET`    
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç—å *keyset pagination*:    

‚ùå `LIMIT 10 OFFSET 100_000`  
‚úÖ `WHERE id > last_id LIMIT 10`

---
## üîπ 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è **JOIN**
#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:
‚úî –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ –ø–æ–ª—è—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è   
‚úî –í—ã–±–∏—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è *(–Ω–µ `SELECT *`)*   
‚úî –ò–∑–±–µ–≥–∞—Ç—å –ª–∏—à–Ω–∏—Ö `JOIN`   
‚úî –í —Ä—è–¥–µ —Å–ª—É—á–∞–µ–≤ `EXISTS` –±—ã—Å—Ç—Ä–µ–µ `IN`  

‚ö† **–ú–Ω–æ–≥–æ-–∫–æ-–º–Ω–æ–≥–∏–º** —Å–≤—è–∑–∏ ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–æ–Ω–∞ —Ä–∏—Å–∫–∞.

---
## üîπ 5. –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

- –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø–æ–¥–∑–∞–ø—Ä–æ—Å–æ–≤    
- –£–ø—Ä–æ—â–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π    
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ –≤–º–µ—Å—Ç–æ –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏    
- Avoid N+1 problem (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ ORM)    

---
## üîπ 6. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

#### –£—Ä–æ–≤–Ω–∏:
- –ë–î ‚Üí Materialized Views (PostgreSQL)    
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí Redis, Memcached    
- ORM ‚Üí 2nd level cache    

üéØ **–õ–æ–≥–∏–∫–∞**: –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è —á–∞—Å—Ç–æ –∏ –º–µ–Ω—è—é—Ç—Å—è —Ä–µ–¥–∫–æ ‚Äî –∫–µ—à–∏—Ä—É–µ–º.

---
# 2Ô∏è‚É£ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î

## üîπ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è / –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å    
- –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –±—ã—Å—Ç—Ä–µ–µ —á—Ç–µ–Ω–∏–µ    

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫—É.

---
## üîπ –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (Partitioning)

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü –ø–æ:
- –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç    
- hash    
- —Å–ø–∏—Å–∫—É –∑–Ω–∞—á–µ–Ω–∏–π    

üìå –£–º–µ–Ω—å—à–∞–µ—Ç –æ–±—ä—ë–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

---
## üîπ –í—ã–±–æ—Ä —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

- `INT` –≤–º–µ—Å—Ç–æ `BIGINT` (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)    
- `VARCHAR` —Ä–∞–∑—É–º–Ω–æ–π –¥–ª–∏–Ω—ã    
- `NOT NULL` –≥–¥–µ –¥–æ–ø—É—Å—Ç–∏–º–æ    

–ú–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö ‚Üí –º–µ–Ω—å—à–µ IO ‚Üí –±—ã—Å—Ç—Ä–µ–µ –∑–∞–ø—Ä–æ—Å.

---
## üîπ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏    
- –ü–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤    
- Vacuum / Analyze (PostgreSQL)    

---
# 3Ô∏è‚É£ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## üîπ –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- SSD    
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π RAM (–∫–µ—à —Å—Ç—Ä–∞–Ω–∏—Ü)    
- CPU    

---
## üîπ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î

- –†–∞–∑–º–µ—Ä buffer/cache    
- –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π    
- –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º    

---
## üîπ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è (read replicas)    
- –®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ    
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏    

---
# üìå –ö–∞–∫ –∫—Ä–∞—Ç–∫–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏

> –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Ç—Ä—ë—Ö —É—Ä–æ–≤–Ω—è—Ö:
> 
> 1. SQL ‚Äî –∏–Ω–¥–µ–∫—Å—ã, EXPLAIN, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JOIN, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
> 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î ‚Äî –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è, –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
> 3. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞, –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

---
# üß† –ë—ã—Å—Ç—Ä–∞—è —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

**–ò–Ω–¥–µ–∫—Å ‚Üí –ü–ª–∞–Ω ‚Üí JOIN ‚Üí –û–±—ä—ë–º ‚Üí –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Üí –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

---

```
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å –ø–æ –Ω—É–∂–Ω–æ–π –∫–æ–ª–æ–Ω–∫–µ.
```

---
