
# Hibernate 

---

<details>
        <summary>1. –ß—Ç–æ —Ç–∞–∫–æ–µ ORM? –ß—Ç–æ —Ç–∞–∫–æ–µ JPA? –ß—Ç–æ —Ç–∞–∫–æ–µ Hibernate?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ ORM? –ß—Ç–æ —Ç–∞–∫–æ–µ JPA? –ß—Ç–æ —Ç–∞–∫–æ–µ Hibernate?

### üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `ORM`, `JPA` –∏ `Hibernate`?
üìå **ORM** (_Object Relational Mapping_) ‚Äì –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö 
–º–µ–∂–¥—É **–æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º** (_Java_) –∏ **—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –ë–î**.

üìå **JPA** (_Java Persistence API_) ‚Äì —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è ORM –≤ _Java_, 
–æ–ø—Ä–µ–¥–µ–ª—è—é—â–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î, –Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—â–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.   
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è JPA –≤–æ–∑–º–æ–∂–Ω–∞ —á–µ—Ä–µ–∑ **–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã**, —Ç–∞–∫–∏–µ –∫–∞–∫ `Hibernate`, `EclipseLink`.

üìå **Hibernate** ‚Äì –ø–æ–ø—É–ª—è—Ä–Ω–∞—è ORM-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞, —Ä–µ–∞–ª–∏–∑—É—é—â–∞—è JPA –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è —É–¥–æ–±–Ω—ã–µ API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î.

![ORM](/ITM/ITM05_Hibernate/imgs/2025-04-04_15-15-35.png)

---
### üîπ JDBC (_Java DataBase Connectivity_)
üîó **JDBC** ‚Äì –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ –ë–î, 
–≤—Ö–æ–¥—è—â–∏–π –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É Java (_java.sql_).   
–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å _SQL_-–∑–∞–ø—Ä–æ—Å—ã –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ.

![JDBC](/ITM/ITM05_Hibernate/imgs/2025-04-04_15-41-41.png)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ JDBC
#### üîó –ù–∞—à –∫–æ–¥ ‚Üí JDBC ‚Üí –î—Ä–∞–π–≤–µ—Ä –ë–î ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Üí –û—Ç–≤–µ—Ç –æ—Ç –ë–î
#### –¢—Ä–∏ –∫–ª—é—á–µ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–∞ JDBC:
1. **Connection** ‚Äì –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã.


2. **Statement** ‚Äì –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
* **–í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  * `Statement` ‚Äì –æ–±—ã—á–Ω—ã–π (`UPDATE`, `QUERY`).
  * `PreparedStatement` ‚Äì —à–∞–±–ª–æ–Ω –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
  * `CallableStatement` ‚Äì –≤—ã–∑–æ–≤ —Ö—Ä–∞–Ω–∏–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä.


3. **ResultSet** ‚Äì —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã.

---
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ hibernate _(—Å–∂–∞—Ç–æ)_

![hibernate architecture`](/ITM/ITM05_Hibernate/imgs/2025-04-08_10-37-54.png)

### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Hibernate   
‚úî **SessionFactory** ‚Äì –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ `Session`, —Å–æ–∑–¥–∞–µ—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** –ø—Ä–∏ **–∑–∞–ø—É—Å–∫–µ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.   
‚úî **Session** ‚Äì –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î, –≤—ã–ø–æ–ª–Ω—è–µ—Ç **DML**-–æ–ø–µ—Ä–∞—Ü–∏–∏, 
–ù–ï –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞, –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞. [_docs.jboss.org_](https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/Session.html?utm_source=chatgpt.com)   
‚úî **TransactionFactory** ‚Äì –°–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã `Transaction`, –æ–ø—Ä–µ–¥–µ–ª—è—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.     
‚úî **Transaction** ‚Äì —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏, **–∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç JDBC –∏–ª–∏ JTA-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.   
‚úî **Query** ‚Äì –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `HQL`/`SQL`-–∑–∞–ø—Ä–æ—Å–æ–≤.   
‚úî **ConnectionProvider** ‚Äì –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è JDBC-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, 
–ø–æ–∑–≤–æ–ª—è—é—â–∞—è Hibernate –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.   

![–û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Hibernate](/ITM/ITM05_Hibernate/imgs/2025-04-04_15-44-50_(2).png) [src](https://www.decodejava.com/hibernate-architecture.htm)

---
### üîπ –í—ã–≤–æ–¥:   
`Hibernate` —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –ë–î, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —É–¥–æ–±–Ω—ã–π **ORM-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç**, –∞   
`JPA` **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä—É–µ—Ç** —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å.   
`JDBC` –∂–µ —è–≤–ª—è–µ—Ç—Å—è **–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º API**, —Ç—Ä–µ–±—É—é—â–∏–º –Ω–∞–ø–∏—Å–∞–Ω–∏—è SQL-–∫–æ–¥–∞ –≤—Ä—É—á–Ω—É—é.

![ORM —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç SQL –∑–∞–ø—Ä–æ—Å—ã.](/ITM/ITM05_Hibernate/imgs/2025-04-04_15-38-59.png)

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
ORM(Object Relational Mapping) - —ç—Ç–æ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö 
–∏–∑ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –ë–î –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

JPA(Java Persistence API) - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–ª—è Java —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è, 
–æ–ø–∏—Å—ã–≤–∞—é—â–∞—è –ø—Ä–∏–Ω—Ü–∏–ø—ã ORM. JPA –Ω–µ —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–∞–º–∏, 
–∞ —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∫–∞–∫ –¥–æ–ª–∂–µ–Ω –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä 
(Hibernate, EclipseLink), —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç JPA (Plain Old Java Object - POJO)
 
Hibernate - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, —è–≤–ª—è—é—â–∞—è—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π —ç—Ç–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, 
–≤ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã JPA.


–í–∞–∂–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Hibernate:
Session - –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ –ë–î. 
–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è - –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å DML-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å—É—â–Ω–æ—Å—Ç–µ–π.

SessionFactory - —ç—Ç–æ —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ Session. 
–û–±—ã—á–Ω–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è 
–¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. 
–Ø–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

Transaction - –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π –∫–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–π –æ–±—ä–µ–∫—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. 
–≠—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö JDBC —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. 
Session –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Transaction 
–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö, —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º API.

Query - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î. 
–ó–∞–ø—Ä–æ—Å—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ HQL –∏–ª–∏ –Ω–∞ SQL.       

JDBC - Java DataBase Connectivity ‚Äî API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ (–∑–∞–≤–∏—Å–∏–º—ã–º–∏) –ë–î. 
–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è Java –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π 
—Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –°–£–ë–î, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤ –≤–∏–¥–µ –ø–∞–∫–µ—Ç–∞ java.sql, –≤—Ö–æ–¥—è—â–µ–≥–æ –≤ —Å–æ—Å—Ç–∞–≤ Java SE. 
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. 
–ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –±–∞–∑—ã. 
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ—É, —Å–æ–¥–µ—Ä–∂–∏—Ç: 
–Ω–∞–±–æ—Ä –∫–ª–∞—Å—Å–æ–≤ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î (–¥–ª—è –Ω–∞—Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ api) 
+ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.                     
```
---
</details>



<details>
        <summary>2. –ß—Ç–æ —Ç–∞–∫–æ–µ EntityManager?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ `EntityManager`?

üìå `EntityManager` ‚Äì —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å JPA, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç **–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º** 
–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –ë–î.

> –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
> * **—Å–æ–∑–¥–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏ —á—Ç–µ–Ω–∏–µ** —Å—É—â–Ω–æ—Å—Ç–µ–π;
> * —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**;
> * –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ **–∑–∞–ø—Ä–æ—Å–æ–≤**;
> * –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å **–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∏ –≥—Ä–∞—Ñ–∞–º–∏** —Å—É—â–Ω–æ—Å—Ç–µ–π.

---
### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ `EntityManager`:
#### üß© –†–∞–±–æ—Ç–∞ —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏:
| –ú–µ—Ç–æ–¥       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                          |
|-------------|-----------------------------------------------------|
| `persist()` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—É—â–Ω–æ—Å—Ç–∏                           |
| `merge()`   | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—É—â–Ω–æ—Å—Ç–∏                    |
| `remove()`  | –£–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏                                   |
| `refresh()` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î                             |
| `detach()`  | –û—Ç–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞                   |
| `lock()`    | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—É—â–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏) |

#### üß† –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –ú–µ—Ç–æ–¥                      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                            |
|----------------------------|---------------------------------------|
| `getTransaction()`         | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π                |
| `getEntityManagerFactory()`| –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ EM                  |
| `getCriteriaBuilder()`     | –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (Criteria API) |
| `getMetamodel()`           | –î–æ—Å—Ç—É–ø –∫ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏               |

#### üï∏ –†–∞–±–æ—Ç–∞ —Å –≥—Ä–∞—Ñ–∞–º–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π

| –ú–µ—Ç–æ–¥                 | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                       |
|-----------------------|----------------------------------|
| `createEntityGraph()` | –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π         |
| `getEntityGraph()`    | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞ |

#### ‚öô –û–±—â–∏–µ –º–µ—Ç–æ–¥—ã

| –ú–µ—Ç–æ–¥             | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ              |
|-------------------|-------------------------|
| `close()`         | –ó–∞–∫—Ä—ã—Ç—å `EntityManager` |
| `clear()`         | –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞       |
| `isOpen()`        | –ü—Ä–æ–≤–µ—Ä–∫–∞, –æ—Ç–∫—Ä—ã—Ç –ª–∏ EM  |
| `getProperties()` | –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ EM    |
| `setProperty()`   | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞     |

---
### üß† –ß—Ç–æ —Ç–∞–∫–æ–µ _–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç_?   
üîπ –≠—Ç–æ **–∫—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è**, –Ω–∞–±–æ—Ä —Å—É—â–Ω–æ—Å—Ç–µ–π, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.   
üîπ –û–Ω **—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** `EntityManager` –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.   
üîπ **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏:   
  * –∫–æ–º–º–∏—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏;
  * –≤—ã–∑–æ–≤–µ `flush()`.   

**‚ùó –í–∞–∂–Ω–æ**: `EntityManager` **–Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω** ‚Äì –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Å–≤–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä**.   

---
### üîπ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ JPA, JDBC –∏ Hibernate
| JPA                    | JDBC (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ) | Hibernate        |
|------------------------|-------------------|------------------|
| `EntityManagerFactory` | `DataSource`      | `SessionFactory` |
| `EntityManager`        | `Connection`      | `Session`        |
| `JPQL`                 | ‚Äî                 | `HQL`            |

###### _–£ JPQL –Ω–µ—Ç –ø—Ä—è–º–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∞ –≤ JDBC, —Ç–∞–∫ –∫–∞–∫ JDBC —Ä–∞–±–æ—Ç–∞–µ—Ç —Å SQL, <br>–∞ –Ω–µ —Å –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî –ø–æ—ç—Ç–æ–º—É –≤ —è—á–µ–π–∫–µ —Å—Ç–æ–∏—Ç ¬´‚Äî¬ª._

EntityManager ‚Äì —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–π API JPA –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç—è–º–∏, 
–æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π —É–¥–æ–±–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –ë–î —á–µ—Ä–µ–∑ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
EntityManager –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å JPA, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º, 
–∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç API –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ Entity, 
–∞ —Ç–∞–∫–∂–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –¥—Ä—É–≥–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π JPA. 

 –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
 1) –û–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ Entity: persist (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ Entity), merge (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ), 
    remove (—É–¥–∞–ª–µ–Ω–∏—è), refresh (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö), detach (—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ JPA), 
    lock (–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ Entity –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –¥—Ä—É–≥–∏—Ö thread),
 2) –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: find (–ø–æ–∏—Å–∫ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ Entity), createQuery, createNamedQuery, 
    createNativeQuery, contains, createNamedStoredProcedureQuery, createStoredProcedureQuery
 3) –ü–æ–ª—É—á–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π JPA: getTransaction, getEntityManagerFactory, 
    getCriteriaBuilder, getMetamodel, getDelegate
 4) –†–∞–±–æ—Ç–∞ —Å EntityGraph: createEntityGraph, getEntityGraph
 5) –û–±—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ EntityManager –∏–ª–∏ –≤—Å–µ–º–∏ Entities: close, clear, isOpen, getProperties, setProperty.
 
 –û–±—ä–µ–∫—Ç—ã EntityManager –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ 
 –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä EntityManager, –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º –∏ –∑–∞–∫—Ä—ã—Ç—å –µ–≥–æ –≤ –∫–æ–Ω—Ü–µ.
 
 –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç - —ç—Ç–æ –Ω–∞–±–æ—Ä —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å—É—â–Ω–æ—Å—Ç–µ–π, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑ –ë–î 
 –∏–ª–∏ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö. 
 –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —è–≤–ª—è–µ—Ç—Å—è —Å–≤–æ–µ–≥–æ —Ä–æ–¥–∞ –∫—ç—à–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–º–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ - —ç—Ç–æ –∏ –µ—Å—Ç—å –∫—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è. 
 –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º. 
 EntityManager –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å–¥–µ–ª–∞–Ω–Ω—ã–µ –≤ –µ–≥–æ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, 
 –≤ –º–æ–º–µ–Ω—Ç –∫–æ–º–º–∏—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ª–∏–±–æ –ø—Ä–∏ —è–≤–Ω–æ–º –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ flush().
```
---
</details>



<details>
        <summary>3. –ö–∞–∫–∏–º —É—Å–ª–æ–≤–∏—è–º –¥–æ–ª–∂–µ–Ω —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å –∫–ª–∞—Å—Å —á—Ç–æ–±—ã —è–≤–ª—è—Ç—å—Å—è Entity?</summary>

## –ö–∞–∫–∏–º —É—Å–ª–æ–≤–∏—è–º –¥–æ–ª–∂–µ–Ω —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å –∫–ª–∞—Å—Å —á—Ç–æ–±—ã —è–≤–ª—è—Ç—å—Å—è `Entity`?

**Entity** ‚Äî —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π —Ö—Ä–∞–Ω–∏–º—ã–π –æ–±—ä–µ–∫—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –ë–î.  
–û–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è JPA (_–Ω–∞–ø—Ä–∏–º–µ—Ä,_ `Hibernate`) –∏ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

---
### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ `Entity`-–∫–ª–∞—Å—Å—É

| ‚Ññ  | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ                                                              |
|----|-------------------------------------------------------------------------|
| 1  | –ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Entity` –∏–ª–∏ –æ–ø–∏—Å–∞–Ω –≤ `XML`-—Ñ–∞–π–ª–µ |
| 2  | –î–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å `public` –∏–ª–∏ `protected` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤        |
| 3  | –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∫–ª–∞—Å—Å–æ–º –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è** (*top-level class*)             |
| 4  | –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å `enum` –∏–ª–∏ `interface`                                    |
| 5  | –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å `final class`                                             |
| 6  | –ù–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `final` –ø–æ–ª—è –∏–ª–∏ –º–µ—Ç–æ–¥—ã, —É—á–∞—Å—Ç–≤—É—é—â–∏–µ –≤ –º–∞–ø–ø–∏–Ω–≥–µ     |
| 7  | –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —É–¥–∞–ª—ë–Ω–Ω–æ ‚Äì –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å `Serializable`   |
| 8  | –ü–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω—ã**, –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã      |
| 9  | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å **–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á** (`@Id`)                 |

---

### üí° –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –ø—É–Ω–∫—Ç—É:

- üîñ **–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Entity`** ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è JPA.
- üß± **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤** ‚Äî –Ω—É–∂–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é.
- üß≠ **–ö–ª–∞—Å—Å –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è** ‚Äî –≤–ª–æ–∂–µ–Ω–Ω—ã–µ (`static`) –∏–ª–∏ –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã –Ω–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è.
- üö´ **–ù–µ—Ç `final`, `enum`, `interface`** ‚Äî Entity –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–∑–º–µ–Ω—è–µ–º–æ–π –∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π.
- üíæ **Serializable** ‚Äî –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —É–¥–∞–ª—ë–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.
- üõ°Ô∏è **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è** ‚Äî –∑–∞—â–∏—Ç–∞ –ø–æ–ª–µ–π: –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª–∞—Å—Å–æ–≤ –∑–∞–ø—Ä–µ—â—ë–Ω.
- üîë **–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á** ‚Äî –±–µ–∑ –Ω–µ–≥–æ Entity –Ω–µ —Å–º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –≤ –ë–î.

---

### üìå –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: –∫–æ—Ä–æ—Ç–∫–æ –æ –≥–ª–∞–≤–Ω–æ–º

**–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (_Persistence_)** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Ö —Å–æ–∑–¥–∞–ª.

**Persistence Context** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º JPA, –∫–æ—Ç–æ—Ä—ã–π:
- —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å—É—â–Ω–æ—Å—Ç–µ–π,
- –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ (dirty checking),
- —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö,
- —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∫—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è.

---

### üí¨ –í—ã–≤–æ–¥:

**Entity** ‚Äî —ç—Ç–æ **POJO**-–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π:

‚úî –ê–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω `@Entity`  
‚úî –°–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á  
‚úî –ò–º–µ–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤  
‚úî –ù–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∏ –Ω–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–π  
‚úî –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –ø–æ–ª—è  
‚úî –ú–æ–∂–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

> –ò–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ —É—Å–ª–æ–≤–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç JPA –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ–±—ä–µ–∫—Ç–æ–º –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. üöÄ

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Entity —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π —Ö—Ä–∞–Ω–∏–º—ã–π –æ–±—ä–µ–∫—Ç –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∏. 
–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —ç—Ç–æ entity-–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ç–∞–∫ –∂–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã 
–∏–ª–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –µntity.

1) Entity –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π Entity –∏–ª–∏ –æ–ø–∏—Å–∞–Ω –≤ XML —Ñ–∞–π–ª–µ
2) Entity –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å public –∏–ª–∏ protected –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ 
    (–æ–Ω —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏) - –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö 
    –∏–∑ –ë–î –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–∑ –Ω–∏—Ö –æ–±—ä–µ–∫—Ç–∞ —Å—É—â–Ω–æ—Å—Ç–∏, 
    Hibernate –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å —ç—Ç–æ—Ç —Å–∞–º—ã–π –æ–±—ä–µ–∫—Ç —Å—É—â–Ω–æ—Å—Ç–∏,
3) Entity –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–ª–∞—Å—Å–æ–º –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è (top-level class),
4) Entity –∫–ª–∞—Å—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å enum –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º,
5) Entity –∫–ª–∞—Å—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–º –∫–ª–∞—Å—Å–æ–º (final class),
6) Entity –∫–ª–∞—Å—Å –Ω–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–ª–∏ –º–µ—Ç–æ–¥—ã, –µ—Å–ª–∏ –æ–Ω–∏ —É—á–∞—Å—Ç–≤—É—é—Ç 
    –≤ –º–∞–ø–ø–∏–Ω–≥–µ (persistent final methods or persistent final instance variables),
7) –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç Entity –∫–ª–∞—Å—Å–∞ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç 
    (detached object), –Ω–∞–ø—Ä–∏–º–µ—Ä —á–µ—Ä–µ–∑ —É–¥–∞–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (through a remote interface), 
    –æ–Ω —Ç–∞–∫ –∂–µ –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å Serializable –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç–∞—é—Ç—Å—è 
    –∏–∑ –±–∞–∑—ã –º–æ–≥–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –∫—ç—à–µ).
8) –ü–æ–ª—è Entity –∫–ª–∞—Å—Å –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞–ø—Ä—è–º—É—é –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–∞–º —Å–∞–º–æ–≥–æ Entity –∫–ª–∞—Å—Å–∞ 
    –∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞–ø—Ä—è–º—É—é –¥–æ—Å—Ç—É–ø–Ω—ã –¥—Ä—É–≥–∏–º –∫–ª–∞—Å—Å–∞–º, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º —ç—Ç–æ—Ç Entity. 
    –¢–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫ –º–µ—Ç–æ–¥–∞–º (getter/setter –º–µ—Ç–æ–¥–∞–º 
    –∏–ª–∏ –¥—Ä—É–≥–∏–º –º–µ—Ç–æ–¥–∞–º –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ Entity –∫–ª–∞—Å—Å–µ),
9) Entity –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —Ç–æ –µ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç –∏–ª–∏ –≥—Ä—É–ø–ø—É –∞—Ç—Ä–∏–±—É—Ç–æ–≤ 
    –∫–æ—Ç–æ—Ä—ã–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∑–∞–ø–∏—Å—å —ç—Ç–æ–≥–æ Entity –∫–ª–∞—Å—Å–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö


–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ–ª—å—à–µ, 
    —á–µ–º –ø—Ä–æ—Ü–µ—Å—Å, —Å–æ–∑–¥–∞–≤—à–∏–π –µ–≥–æ. 

Persistence context ‚Äî —ç—Ç–æ —Å—Ä–µ–¥–∞ –≤ –∫–æ—Ç–æ—Ä–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —Å—É—â–Ω–æ—Å—Ç–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è 
    —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã

Entity (–°—É—â–Ω–æ—Å—Ç—å) ‚Äî POJO-–∫–ª–∞—Å—Å, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –ë–î ( –Ω–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è 
    –ø–æ–º–µ—á–µ–Ω–Ω—ã–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Entity, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, –ø—É—Å—Ç–æ–π public 
        –∏–ª–∏ protected –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∏ –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –¥—Ä—É–≥–∏—Ö 
        –∫–ª–∞—Å—Å–æ–≤ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ getter/setter (–∏–ª–∏ –¥—Ä—É–≥–∏–º –º–µ—Ç–æ–¥–∞–º –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∏) 
```
---
</details>



<details>
        <summary>4. –ú–æ–∂–µ—Ç –ª–∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –±—ã—Ç—å Entity?</summary>

## –ú–æ–∂–µ—Ç –ª–∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –±—ã—Ç—å Entity?

‚úÖ **–î–∞, –º–æ–∂–µ—Ç.**

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω `@Entity` –∏ –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç **–≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ã—á–Ω–æ–≥–æ Entity-–∫–ª–∞—Å—Å–∞**.   
–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ ‚Äî **–Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞** –Ω–∞–ø—Ä—è–º—É—é.

---

### üìå –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- üîí **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ—Å—Ç—å**: –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç –Ω–∞–ø—Ä—è–º—É—é.
- üì¶ **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –¥–ª—è –¥—Ä—É–≥–∏—Ö `@Entity`, 
—á—Ç–æ–±—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –ø–æ–ª—è, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ –ª–æ–≥–∏–∫—É.
- üîÑ **–û–±—â–∏–µ –ø–æ–ª—è**: –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ `id`, `createdAt`, `updatedAt`, –∏ –¥—Ä—É–≥–∏–µ –æ–±—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞.

---

### üõ† –ü—Ä–∏–º–µ—Ä: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@MappedSuperclass`

```java
@MappedSuperclass
public abstract class BaseEntity {
@Id
@GeneratedValue(strategy = GenerationType.IDENTITY)
private Long id;

    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;

    // –ì–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã
}

@Entity
public class User extends BaseEntity {
private String username;
private String email;
}
```

#### üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
* –ö–æ–≥–¥–∞ **–Ω–µ—Å–∫–æ–ª—å–∫–æ Entity-–∫–ª–∞—Å—Å–æ–≤** –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `id`, `createdAt`, `updatedAt`).
* –ß—Ç–æ–±—ã **–∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞** –∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—â—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.
* –î–ª—è **—É–¥–æ–±–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å—É—â–Ω–æ—Å—Ç–µ–π.

---
### ‚úÖ –í—ã–≤–æ–¥
–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π `@Entity` –∏–ª–∏ `@MappedSuperclass` ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π:

‚úîÔ∏è –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ `Entity`
‚úîÔ∏è –ù–µ —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –Ω–∞–ø—Ä—è–º—É—é
‚úîÔ∏è –ü–µ—Ä–µ–¥–∞—ë—Ç –ø–æ–ª—è –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø–æ—Ç–æ–º–∫–∞–º

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ú–æ–∂–µ—Ç, –ø—Ä–∏ —ç—Ç–æ–º –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ Entity, 
–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω—ã—Ö Entity –∫–ª–∞—Å—Å–æ–≤ —Ç–æ–ª—å–∫–æ —Ç–µ–º, 
—á—Ç–æ –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞. 

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ Entity –∫–ª–∞—Å—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏, 
–∫–æ–≥–¥–∞ –∏—Ö –ø–æ—Ç–æ–º–∫–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç –ø–æ–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
```
---
</details>



<details>
        <summary>5. –ú–æ–∂–µ—Ç –ª–∏ Entity –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –Ω–µ Entity –∫–ª–∞—Å—Å–æ–≤ (non-entity classes)?</summary>

## –ú–æ–∂–µ—Ç –ª–∏ `Entity` –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –Ω–µ `Entity` –∫–ª–∞—Å—Å–æ–≤ (_non-entity classes_)?
### ‚úÖ **–î–∞, –º–æ–∂–µ—Ç**, –Ω–æ —Å —É—á–µ—Ç–æ–º —Å–ª–µ–¥—É—é—â–∏—Ö —É—Å–ª–æ–≤–∏–π:

---

### üîπ 1. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å ‚Äî –æ–±—ã—á–Ω—ã–π (_–±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π_)

- **–ù–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω** `@Entity` –∏–ª–∏ `@MappedSuperclass`
- ‚ùå **–ü–æ–ª—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ë–î**

üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–≥–∏–∫–∏, —É—Ç–∏–ª–∏—Ç, –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤.

---

### üîπ 2. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω `@MappedSuperclass`

- ‚úÖ **–ü–æ–ª—è –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è** –∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É –ë–î –¥–æ—á–µ—Ä–Ω–µ–≥–æ `@Entity`
- üëå –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±—â–∏—Ö –ø–æ–ª–µ–π (_–Ω–∞–ø—Ä–∏–º–µ—Ä, `id`, `createdAt` –∏ –¥—Ä._)

---

### üìå –í—ã–≤–æ–¥

| –£—Å–ª–æ–≤–∏–µ                        | –ü–æ–ª—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î?  | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                        |
|--------------------------------|-------------------------|------------------------------------|
| –†–æ–¥–∏—Ç–µ–ª—å –±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π         | ‚ùå –ù–µ—Ç                   | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–≥–∏–∫–∏     |
| –†–æ–¥–∏—Ç–µ–ª—å —Å `@MappedSuperclass` | ‚úÖ –î–∞                    | –ü–æ–ª—è –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É –ø–æ—Ç–æ–º–∫–∞  |
| –†–æ–¥–∏—Ç–µ–ª—å —Å `@Entity`           | ‚ö†Ô∏è –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è     | –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –º–∞–ø–ø–∏–Ω–≥–æ–º |

---

üí° **–°–æ–≤–µ—Ç**:  
–ï—Å–ª–∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–ª—è –ø–æ–ø–∞–ª–∏ –≤ –ë–î ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `@MappedSuperclass`.  
–ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–∏—à–∏ –æ–±—ã—á–Ω—ã–π Java-–∫–ª–∞—Å—Å –±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π.

> ORM –ª—é–±–∏—Ç –ø–æ—Ä—è–¥–æ–∫, –∞ –ø–æ—Ä—è–¥–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è üòé

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ú–æ–∂–µ—Ç
```
---
</details>



<details>
        <summary>6. –ú–æ–∂–µ—Ç –ª–∏ Entity –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö Entity –∫–ª–∞—Å—Å–æ–≤?</summary>

## –ú–æ–∂–µ—Ç –ª–∏ `Entity` –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö `Entity` –∫–ª–∞—Å—Å–æ–≤?

### ‚úÖ –î–∞, –º–æ–∂–µ—Ç.  
–ù–æ —Å —ç—Ç–∏–º —Å–≤—è–∑–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ JPA/Hibernate**, –∏ —Ç—É—Ç –≤–∞–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é.

---

### üß¨ –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ JPA-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (`@Inheritance`)

| –°—Ç—Ä–∞—Ç–µ–≥–∏—è                       | –û–ø–∏—Å–∞–Ω–∏–µ                                                                |
|---------------------------------|-------------------------------------------------------------------------|
| `SINGLE_TABLE` *(–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)* | –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ ‚Äî –≤ **–æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ**, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `@DiscriminatorColumn` |
| `JOINED`                        | –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî –≤ —Å–≤–æ–µ–π —Ç–∞–±–ª–∏—Ü–µ, —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è –ø–æ –≤–Ω–µ—à–Ω–µ–º—É –∫–ª—é—á—É        |
| `TABLE_PER_CLASS`               | –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî —Å–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞, **–±–µ–∑ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è**                     |

---

### üõ†Ô∏è –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏

- `@Inheritance(strategy = ...)` ‚Äî –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º `@Entity` –∫–ª–∞—Å—Å–µ
- `@DiscriminatorColumn` ‚Äî (–¥–ª—è `SINGLE_TABLE`) –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤
- `@DiscriminatorValue` ‚Äî –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
- `@PrimaryKeyJoinColumn` ‚Äî (–¥–ª—è `JOINED`) —Å–≤—è–∑—ã–≤–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è –∏ –ø–æ—Ç–æ–º–∫–∞

---

### üìå –í—ã–≤–æ–¥

| –ú–æ–∂–Ω–æ –ª–∏? | –£—Å–ª–æ–≤–∏–µ                        | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                            |
|-----------|--------------------------------|--------------------------------------------------------|
| ‚úÖ –î–∞      | –û–±–∞ –∫–ª–∞—Å—Å–∞ `@Entity`           | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–π `@Inheritance` –≤ —Ä–æ–¥–∏—Ç–µ–ª–µ         |
| ‚ö† –í–∞–∂–Ω–æ   | –ù–∞—Å—Ç—Ä–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è | –ò–Ω–∞—á–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –º–∞–ø–ø–∏–Ω–≥–µ –∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü |

---

üí° **–°–æ–≤–µ—Ç**:  
–ò—Å–ø–æ–ª—å–∑—É–π `JOINED` –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, `SINGLE_TABLE` ‚Äî –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏ –±—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è.  
–ê –≤–æ—Ç `TABLE_PER_CLASS` ‚Äî —Ä–µ–¥–∫–æ, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç–µ–±–µ **–æ—á–µ–Ω—å** –Ω—É–∂–Ω–æ.

> –£ Entity-–∫–ª–∞—Å—Å–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–æ–¥–æ—Å–ª–æ–≤–Ω–∞—è, –Ω–æ —É –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚Äî —Å–≤–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä üòâ
---

---
## –ü–†–ò–ú–ï–†–´:

---
### ‚òù –í—Å–µ –∫–ª–∞—Å—Å—ã ‚Äî –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞

```java
@Entity
@Inheritance(strategy = InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name = "type")
public abstract class Animal {
    @Id
    private Long id;
    private String name;
}

@Entity
@DiscriminatorValue("Dog")
public class Dog extends Animal {
    private String breed;
}

@Entity
@DiscriminatorValue("Cat")
public class Cat extends Animal {
    private String color;
}
```

üóÉÔ∏è **–¢–∞–±–ª–∏—Ü–∞ `Animal` –≤ –ë–î:**

| id | name  | type | breed | color  |
|----|-------|------|-------|--------|
| 1  | –ë–æ–±–∏–∫ | Dog  | –•–∞—Å–∫–∏ | null   |
| 2  | –ú—É—Ä–∫–∞ | Cat  | null  | –†—ã–∂–∏–π  |

‚úÖ –ü—Ä–æ—Å—Ç–∞ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
‚ùå –ú–Ω–æ–≥–æ `null` –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö, –µ—Å–ª–∏ –º–Ω–æ–≥–æ –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤

---
### üí° `@Inheritance(strategy = InheritanceType.JOINED)` <br> ‚òù –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî —Å–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞, —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–ª—é—á–∞–º–∏

```java
@Entity
@Inheritance(strategy = InheritanceType.JOINED)
public abstract class Animal {
    @Id
    private Long id;
    private String name;
}

@Entity
public class Dog extends Animal {
    private String breed;
}

@Entity
public class Cat extends Animal {
    private String color;
}
```

üóÉÔ∏è **–¢–∞–±–ª–∏—Ü—ã –≤ –ë–î:**
**Animal**
markdown
Copy code
üóÉÔ∏è **–¢–∞–±–ª–∏—Ü—ã –≤ –ë–î:**

**Animal:**

| id | name  |
|----|-------|
| 1  | –ë–æ–±–∏–∫ |
| 2  | –ú—É—Ä–∫–∞ |

**Dog:**

| id | breed |
|----|-------|
| 1  | –•–∞—Å–∫–∏ |

**Cat:**

| id | color  |
|----|--------|
| 2  | –†—ã–∂–∏–π  |

‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
‚ùå –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ `JOIN`-–∑–∞–ø—Ä–æ—Å—ã

---
### üí° @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS) <br>‚òù –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî —Å–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞, –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è

```java
@Entity
@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)
public abstract class Animal {
    @Id
    private Long id;
    private String name;
}

@Entity
public class Dog extends Animal {
    private String breed;
}

@Entity
public class Cat extends Animal {
    private String color;
}
```

üóÉÔ∏è **–¢–∞–±–ª–∏—Ü–∞ `Dog`:**

| id | name  | breed |
|----|-------|-------|
| 1  | –ë–æ–±–∏–∫ | –•–∞—Å–∫–∏ |

üóÉÔ∏è **–¢–∞–±–ª–∏—Ü–∞ `Cat`:**

| id | name  | color |
|----|-------|-------|
| 2  | –ú—É—Ä–∫–∞ | –†—ã–∂–∏–π |

‚úÖ –ù–µ—Ç `null`, –∫–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∫–æ–º–ø–∞–∫—Ç–Ω–∞  
‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JPQL –ø–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –∫–ª–∞—Å—Å—É `Animal`, –Ω—É–∂–µ–Ω `UNION ALL` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –≤—Å–µ—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö

---
üî• **–†–µ–∑—é–º–µ –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º**

| –°—Ç—Ä–∞—Ç–µ–≥–∏—è           | –¢–∞–±–ª–∏—Ü | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ü—Ä–æ—Å—Ç–æ—Ç–∞   | –ü–ª—é—Å—ã                               | –ú–∏–Ω—É—Å—ã                            |
|---------------------|--------|--------------------|------------|-------------------------------------|-----------------------------------|
| **SINGLE_TABLE**    | 1      | üî• –í—ã—Å–æ–∫–∞—è         | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è  | –õ–µ–≥–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å, –º–µ–Ω—å—à–µ `JOIN`'–æ–≤   | –ú–Ω–æ–≥–æ `null`, –Ω–µ—á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å     |
| **JOINED**          | N      | üê¢ –°—Ä–µ–¥–Ω—è—è         | ‚ö† –°–ª–æ–∂–Ω–µ–µ  | –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —á–∏—Å—Ç–∞—è –º–æ–¥–µ–ª—å | `JOIN`-—ã –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö             |
| **TABLE_PER_CLASS** | N      | üê¢üê¢ –ù–∏–∑–∫–∞—è        | ‚ö†‚ö† –°–ª–æ–∂–Ω–∞—è | –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã                 | –ù–µ—É–¥–æ–±–Ω–∞ –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |

---

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ú–æ–∂–µ—Ç
```
---
</details>



<details>
        <summary>7. –ú–æ–∂–µ—Ç –ª–∏ –Ω–µ Entity –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç Entity –∫–ª–∞—Å—Å–∞?</summary>

## –ú–æ–∂–µ—Ç –ª–∏ –Ω–µ Entity –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç Entity –∫–ª–∞—Å—Å–∞?

‚úÖ –û—Ç–≤–µ—Ç:
–î–∞, **–Ω–µ-Entity** –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç **Entity**-–∫–ª–∞—Å—Å–∞.

üìå **–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

| –ê—Å–ø–µ–∫—Ç                          | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                    |
|---------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**                | –†–∞–∑—Ä–µ—à–µ–Ω–æ: –æ–±—ã—á–Ω—ã–π (_–Ω–µ-–∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_ `@Entity`) –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å `@Entity`-–∫–ª–∞—Å—Å.                                   |
| **Persistable (_—Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã–π_)** | –¢–∞–∫–æ–π –ø–æ–¥–∫–ª–∞—Å—Å –Ω–µ –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å—Å—è `Hibernate`, –µ—Å–ª–∏ —Å–∞–º –Ω–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω `@Entity` –∏–ª–∏ `@MappedSuperclass`.                 |
| **–ú–∞–ø–ø–∏–Ω–≥ –≤ –ë–î**                | –¢–æ–ª—å–∫–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π `@Entity` –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂—ë–Ω –≤ –ë–î. –ü–æ–¥–∫–ª–∞—Å—Å –Ω–µ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∏–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω ORM.                            |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**               | –£–º–µ—Å—Ç–Ω–æ, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –æ–±—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (_–º–µ—Ç–æ–¥—ã, –ø–æ–ª—è_), –Ω–æ —Å–∞–º –∫–ª–∞—Å—Å **–Ω–µ –¥–æ–ª–∂–µ–Ω —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å** –≤ ORM.                        |
| **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**                 | `Hibernate` **–Ω–µ –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å –æ –ø–æ–¥–∫–ª–∞—Å—Å–µ**, –µ—Å–ª–∏ –æ–Ω –Ω–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω ‚Äî –Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∞, –Ω–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∞–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.  |

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
`Hibernate` —É–ø—Ä–∞–≤–ª—è–µ—Ç **—Ç–æ–ª—å–∫–æ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏** `@Entity` / `@MappedSuperclass` –∫–ª–∞—Å—Å–∞–º–∏.

**–ù–µ** -`Entity` –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π/**–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π** –∫–ª–∞—Å—Å, –Ω–æ –Ω–µ –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å.

---
### –ö–†–ê–¢–ö–û:   
#### ‚ùì –ú–æ–∂–µ—Ç –ª–∏ –Ω–µ-Entity –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å Entity?   
‚úÖ **–î–∞, –º–æ–∂–µ—Ç**.   
‚ö†Ô∏è **–ù–æ**:   
* –¢–∞–∫–æ–π –∫–ª–∞—Å—Å **–Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** `Hibernate`.
* **–ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** –∏–∑ –ë–î.
* –ù–∞—Å–ª–µ–¥—É–µ—Ç –ø–æ–ª—è/–º–µ—Ç–æ–¥—ã, –Ω–æ **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç—å—é**, –µ—Å–ª–∏ **–Ω–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω** `@Entity` –∏–ª–∏ `@MappedSuperclass`.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ú–æ–∂–µ—Ç
```
---
</details>



<details>
        <summary>8. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π (Embeddable) –∫–ª–∞—Å—Å? –ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è JPA —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º (Embeddable) –∫–ª–∞—Å—Å–∞–º?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π (`Embeddable`) –∫–ª–∞—Å—Å? <br>–ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è JPA —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º (`Embeddable`) –∫–ª–∞—Å—Å–∞–º?

### üß© –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
**Embeddable** ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å, **–Ω–µ —è–≤–ª—è—é—â–∏–π—Å—è** `Entity`, –Ω–æ **–≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π** –≤ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ `Entity`-–∫–ª–∞—Å—Å–æ–≤.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –æ–±—â–∏—Ö –ø–æ–ª–µ–π**, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î.

üìå –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è JPA:

| **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ** 	                                                 | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                   |
|------------------------------------------------------------------|--------------------------------------------------------------------------------|
| `@Embeddable`                                                    | –ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω —ç—Ç–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π (_–∏–ª–∏ –∑–∞–¥–∞–Ω –≤_ `XML`).               |
| –ë–µ–∑ `@Id`                                                        | –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞.                                                  |
| –í `Entity` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `@Embedded`                        | –ü–æ–ª–µ –≤ `Entity` –ø–æ–º–µ—á–∞–µ—Ç—Å—è —ç—Ç–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π.                                    |
| **–ù–µ–ª—å–∑—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å**                                           | `Embeddable` **–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º** –∫–ª–∞—Å—Å–æ–º.                           |
| –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å                                         | –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ `@Embeddable` –∫–ª–∞—Å—Å—ã.                                   |
| –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `Map` –∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö                          | –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –∫–ª—é—á –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ.                                               |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π `@AttributeOverride` –∏ `@AssociationOverrid` | –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ –∏ —Å–≤—è–∑–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏. |

### üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
* –û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä `Embeddable` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è **–≤ —Ä–∞–∑–Ω—ã—Ö Entity**.
* –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ‚Äî **–æ—Ç–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π**.
* –ú–æ–∂–Ω–æ **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫** –∏ **–∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏**, –µ—Å–ª–∏ `Embeddable` —Å–æ–¥–µ—Ä–∂–∏—Ç `Entity`-—Å—Å—ã–ª–∫–∏.

---
## –û—á–µ–Ω—å –∫—Ä–∞—Ç–∫–æ:
`@Embeddable` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å **–±–µ–∑ —Å–≤–æ–µ–π —Ç–∞–±–ª–∏—Ü—ã**, –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `@Entity`.

### üìå –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

| üîß –ü—Ä–∞–≤–∏–ª–æ                 | ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ                                      |
|----------------------------|-------------------------------------------------|
| @Embeddable                | 	–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è (–∏–ª–∏ XML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)  |
| –ë–µ–∑ @Id                    | 	–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –Ω–µ –Ω—É–∂–µ–Ω                        | 
| –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å @Embedded   | 	–í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ @Entity                         |
| ‚ùå –ë–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è         | 	–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Ä–æ–¥–∏—Ç–µ–ª—è               |
| ‚úÖ –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å              | 	–ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ @Embeddable             |
| ‚úÖ –ö–æ–ª–ª–µ–∫—Ü–∏–∏ / Map          | 	–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–ø–∏—Å–∫–∞—Ö –∏ —Å–ª–æ–≤–∞—Ä—è—Ö        |
| üîÑ –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ | 	–ß–µ—Ä–µ–∑ @AttributeOverride, @AssociationOverride |

---

---
## üßæ –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º –¥–ª—è `@Embeddable` (_JPA / Hibernate_)

| –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è               | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                               |
|-------------------------|--------------------------------------------------------------------------|
| `@Embeddable`           | –û–±–æ–∑–Ω–∞—á–∞–µ—Ç –∫–ª–∞—Å—Å –∫–∞–∫ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π. –ù–µ —Å–æ–∑–¥–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã.         |
| `@Embedded`             | –í—Å—Ç–∞–≤–ª—è–µ—Ç `@Embeddable` –≤ `@Entity`.                                     |
| `@AttributeOverride`    | –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ **–æ–¥–Ω–æ–≥–æ –ø–æ–ª—è** –ø—Ä–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–∏.                 |
| `@AttributeOverrides`   | –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ `@AttributeOverride`.                               |
| `@AssociationOverride`  | –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@ManyToOne`) –≤–Ω—É—Ç—Ä–∏ `@Embeddable`. |
| `@AssociationOverrides` | –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ `@AssociationOverride`.                             |
| `@EmbeddedId`           | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ `@Embeddable` ‚Äî —Å–æ—Å—Ç–∞–≤–Ω–æ–π –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (`@Id`).     |


---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Embeddable –∫–ª–∞—Å—Å - —ç—Ç–æ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∞–º –ø–æ —Å–µ–±–µ, 
–∞ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Entity-–∫–ª–∞—Å—Å–æ–≤.
Entity-–∫–ª–∞—Å—Å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –æ–¥–∏–Ω–æ—á–Ω—ã–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∫–ª–∞—Å—Å—ã, 
—Ç–∞–∫ –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ç–∞–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤. 
–¢–∞–∫–∂–µ —Ç–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –∫–ª—é—á–∏ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è map. 
–í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥—ã–π –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–º—É 
–æ–±—ä–µ–∫—Ç—É Entity-–∫–ª–∞—Å—Å–∞ –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö 
–º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ Entity-–∫–ª–∞—Å—Å–æ–≤ (—Ç–æ –µ—Å—Ç—å —Ç–∞–∫–æ–π –∫–ª–∞—Å—Å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è 
–æ–±—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤). 
–í —Ü–µ–ª–æ–º, —Ç–∞–∫–æ–π –∫–ª–∞—Å—Å —Å–ª—É–∂–∏—Ç –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–Ω–æ—Å–∏—Ç—å 
–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Entity.

1. –¢–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å —Ç–µ–º –∂–µ –ø—Ä–∞–≤–∏–ª–∞–º —á—Ç–æ Entity –∫–ª–∞—Å—Å—ã, 
    –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ —á—Ç–æ –æ–Ω–∏ –Ω–µ –æ–±—è–∑–∞–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á 
    –∏ –±—ã—Ç—å –æ—Ç–º–µ—á–µ–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π Entity
    
2. Embeddable –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Embeddable 
    –∏–ª–∏ –æ–ø–∏—Å–∞–Ω –≤ XML —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ JPA. –ê –ø–æ–ª–µ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤ Entity 
    –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Embedded. –û—Ç Embeddable –∫–ª–∞—Å—Å–∞ –Ω–µ–ª—å–∑—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è - 
    –∫–æ–Ω–µ—á–Ω—ã–π –∫–ª–∞—Å—Å –°—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—Å–ª–∏ –∫–ª–∞—Å—Å –∫–æ–Ω–µ—á–Ω—ã–π
    
Embeddable-–∫–ª–∞—Å—Å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–æ–π –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å. 
Embeddable Person –º–æ–∂–µ—Ç –∏–º–µ–Ω—Ç –ø–æ–ª–µ –∫–ª–∞—Å—Å–∞ Adress - —Ç–æ–≥–¥–∞ –≤ Student –ø–∏—à–µ–º adress.–∏–º—è–ø–æ–ª—è.

–í—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ Entity 
–∏–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ Entity, –µ—Å–ª–∏ —Ç–∞–∫–æ–π –∫–ª–∞—Å—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 
–∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –∏–ª–∏ –∫–ª—é—á map'—ã. 
–¢–∞–∫ –∫–∞–∫ –º—ã –º–æ–∂–µ–º –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã –≤ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 
–¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–æ–≤, —Ç–æ —É –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å, 
–º—ã –º–æ–∂–µ–º –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –∏–∑ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –∫–ª–∞—Å—Å–∞.
–ù–∞–ø—Ä–∏–º–µ—Ä, —É –∫–ª–∞—Å—Å–∞ Driver –ø–æ–ª—è –∏–∑ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –∫–ª–∞—Å—Å–∞ Person 
–±—É–¥—É—Ç –∏–∑–º–µ–Ω–µ–Ω—ã —Å name –Ω–∞ driver_name –∏ —Å age –Ω–∞ driver_age. 
–î–µ–ª–∞–µ–º —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ AttributeOverride - 
—Ç–∞–∫–∂–µ –∫–ª–∞—Å—Å Embeddable ""Person"" –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ—Ç –≤ Studen 
–∏ —Å –ø–æ–º–æ—â—å—é AttributeOverride –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å 
–¥–ª—è 2 –ø–µ—Ä—Å–æ–Ω ""–º—É–∂ –∏ –∂–µ–Ω –ø–æ–ª"" 2 —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è. 
@AssociationOverride - –≤ Embeddable Person –µ—Å—Ç—å 
–æ–±—ä–µ–∫—Ç Embeddable Adress –∞ –≤ –Ω–µ–º —Å–≤—è–∑—Ç—å MonyToOne 
—Å –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü–æ–π Street –¥–ª—è —ç—Ç–æ–≥–æ –≤ Studen —Å—Ç–∞–≤–∏–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é 
@AssociationOverride –Ω–∞–¥ Person –∏ –ø–æ–¥–∫–ª—é—á–∞–µ–º 
@AssociationOverride(name = adress.street joinColumns = @JoinColumn(name))"
```
---
</details>



<details>
        <summary>9. –ß—Ç–æ —Ç–∞–∫–æ–µ Mapped Superclass?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ Mapped Superclass?

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `@MappedSuperclass`?

`@MappedSuperclass` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å-—Ä–æ–¥–∏—Ç–µ–ª—å, **–Ω–µ —è–≤–ª—è—é—â–∏–π—Å—è `Entity`**, 
–Ω–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è **–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è `Entity`-–∫–ª–∞—Å—Å–∞–º–∏**.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤** –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

---

### üìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

| –ê—Å–ø–µ–∫—Ç                     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                |
|----------------------------|-------------------------------------------------------------------------|
| üì¶ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ              | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (_–ø–æ–ª–µ–π/–º–µ—Ç–æ–¥–æ–≤_) –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö `@Entity`. |
| üß¨ –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ            | –ú–æ–∂–Ω–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –≤ `@Entity` (_–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç_ `@Embeddable`).           |
| üè∑Ô∏è –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è              | –ü–æ–º–µ—á–∞–µ—Ç—Å—è `@MappedSuperclass` –∏–ª–∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `XML`.                 |
| ‚ùå –ù–µ `Entity`              | –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å, –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö.         |
| üîê –ù–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ `@Id` | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.                                            |
| ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ           | –ù–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ `EntityManager` –∏–ª–∏ `JPQL`.      |

---

### ‚úÖ –ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
- –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤ –≤ `@Entity`-–∫–ª–∞—Å—Å–∞—Ö.   
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–¥–∞.   
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—â–µ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.   

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Mapped Superclass - (–ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–æ–π—Ç–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è Embeddable-–∫–ª–∞—Å—Å–æ–≤, 
—Ç–æ –µ—Å—Ç—å –æ—Ç —Ç–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ –º—ã –º–æ–∂–µ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è, —Ç–∞–∫–∂–µ –≤ –∫–ª–∞—Å—Å–µ Entity –µ—Å–ª–∏ –º—ã 
–∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–ª–∞—Å—Å MappedSuperclass —Ç–æ –Ω–∞–¥ –Ω–∏–º –Ω—É–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –∞–Ω–Ω—Ç–æ—Ç–∞—Ü–∏—é @Embedded)  
—ç—Ç–æ –∫–ª–∞—Å—Å, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è Entity, –æ–Ω –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∞–Ω–æ—Ç–∞—Ü–∏–∏ JPA, 
–æ–¥–Ω–∞–∫–æ —Å–∞–º —Ç–∞–∫–æ–π –∫–ª–∞—Å—Å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è Entity, –µ–º—É –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å 
–≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–ª—è Entity (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–Ω –º–æ–∂–µ—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞). 

–¢–∞–∫–æ–π –∫–ª–∞—Å—Å –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö EntityManager –∏–ª–∏ Query. 
–¢–∞–∫–æ–π –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–º–µ—á–µ–Ω –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π MappedSuperclass –∏–ª–∏ –æ–ø–∏—Å–∞–Ω –≤ xml —Ñ–∞–π–ª–µ.

–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞-–ø—Ä–µ–¥–∫–∞ –æ–ø—Ä–∞–≤–¥–∞–Ω–æ —Ç–µ–º, —á—Ç–æ –º—ã –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º 
—Ä—è–¥ —Å–≤–æ–π—Å—Ç–≤ –∏ –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —Å—É—â–Ω–æ—Å—Ç—è—Ö. 
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –ø–æ–∑–≤–æ–ª–∏–ª–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.
```
---
</details>



<details>
        <summary>10. –ö–∞–∫–∏–µ —Ç—Ä–∏ —Ç–∏–ø–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –º–∞–ø–∏–Ω–≥–∞ (Inheritance Mapping Strategies) –æ–ø–∏—Å–∞–Ω—ã –≤ JPA?</summary>

## –ö–∞–∫–∏–µ —Ç—Ä–∏ —Ç–∏–ø–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –º–∞–ø–∏–Ω–≥–∞ (_Inheritance Mapping Strategies_) –æ–ø–∏—Å–∞–Ω—ã –≤ `JPA`?

## üß¨ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è _–º–∞–ø–ø–∏–Ω–≥–∞_ –≤ _JPA_ (`Inheritance Mapping Strategies`)

–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç JPA-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—É (_–Ω–∞–ø—Ä–∏–º–µ—Ä, `Hibernate`_) 
–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –∫–ª–∞—Å—Å—ã-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –≤ –ë–î.

---

### üìë 1. `SINGLE_TABLE` ‚Äî –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –≤—Å—é –∏–µ—Ä–∞—Ä—Ö–∏—é // –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã _([Single Table](https://www.profit247.ru/posts/398))_
–í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ **–æ–¥–Ω—É –æ–±—â—É—é —Ç–∞–±–ª–∏—Ü—É**. 
–î–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ ‚Äî `@DiscriminatorColumn`.

| –ü–ª—é—Å—ã                        | –ú–∏–Ω—É—Å—ã                                                         |
|------------------------------|----------------------------------------------------------------|
| ‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | ‚ùå –ú–Ω–æ–≥–æ `NULL`-–ø–æ–ª–µ–π (_–ø–æ–ª—è –≤—Å–µ—Ö –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ_) |
| ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è         | ‚ùå –ù–µ–ª—å–∑—è –ø—Ä–∏–º–µ–Ω—è—Ç—å `NOT NULL` –∫ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º –ø–æ–ª—è–º              |
| ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞     | ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥–∏–±–∫–æ—Å—Ç–∏ —Å—Ö–µ–º—ã                                   |

üõ†Ô∏è –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏:
```java
@Inheritance(strategy = InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name = "EMP_TYPE")
@DiscriminatorValue("P")
```

---
### üîó 2. `JOINED` ‚Äî –¢–∞–±–ª–∏—Ü—ã —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `JOIN` // –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã _([Joined Table](https://www.profit247.ru/posts/398))_
–ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç **—Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É**.  
–¢–∞–±–ª–∏—Ü–∞ **—Ä–æ–¥–∏—Ç–µ–ª—è** —Ö—Ä–∞–Ω–∏—Ç **–æ–±—â–∏–µ** –ø–æ–ª—è, –∞ —Ç–∞–±–ª–∏—Ü—ã **–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤** ‚Äî —Ç–æ–ª—å–∫–æ **—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ**.     
–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–≤—è–∑–∞–Ω—ã `JOIN`'–∞–º–∏.  

| –ü–ª—é—Å—ã                       | 	–ú–∏–Ω—É—Å—ã                                                |
|-----------------------------|--------------------------------------------------------|
| ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | 	‚ùå –ü–æ—Ç–µ—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ `JOIN`-–∞—Ö             |
| ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö `NULL`-–ø–æ–ª–µ–π   | 	‚ùå –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤                                 |
| ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π     | 	‚ùå –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (`@Id`) —Ç–æ–ª—å–∫–æ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ |

üõ†Ô∏è –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è:
```java
@Inheritance(strategy = InheritanceType.JOINED)
```
---
### üßæ 3. `TABLE_PER_CLASS` ‚Äî –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ // –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ _([Table Per Class](https://www.profit247.ru/posts/398))_
–ö–∞–∂–¥—ã–π –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ **—Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É**, –≤–∫–ª—é—á–∞—è **–≤—Å–µ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è**.

| –ü–ª—é—Å—ã                           | 	–ú–∏–Ω—É—Å—ã                                                         |
|---------------------------------|-----------------------------------------------------------------|
| ‚úÖ –ù–µ—Ç `NULL`-–ø–æ–ª–µ–π              | 	‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (`UNION` _–Ω—É–∂–µ–Ω –≤—Ä—É—á–Ω—É—é_) |
| ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤ | 	‚ùå –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∞–±–ª–∏—Ü              |

üõ†Ô∏è –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è:
```java
@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)
```

---
### üß† –ë–æ–Ω—É—Å: –ù–µ—è–≤–Ω—ã–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (`Implicit Polymorphism`)
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: `Hibernate` ‚Äî —Å—É—â–Ω–æ—Å—Ç–∏ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω—ã.  
–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏ –∏–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.


> üí° –î–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Inheritance`.

---
## –û—á–µ–Ω—å –∫—Ä–∞—Ç–∫–æ:

## üß¨ JPA Inheritance Mapping Strategies

–ü–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫ –∫–ª–∞—Å—Å—ã-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ë–î.

| –°—Ç—Ä–∞—Ç–µ–≥–∏—è          | –°—É—Ç—å                                                     | –ü–ª—é—Å—ã                              | –ú–∏–Ω—É—Å—ã                                      |
|--------------------|----------------------------------------------------------|------------------------------------|---------------------------------------------|
| `SINGLE_TABLE`     | –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ + `@DiscriminatorColumn`    | ‚úÖ –ë—ã—Å—Ç—Ä–æ<br>‚úÖ –ü—Ä–æ—Å—Ç–æ               | ‚ùå –ú–Ω–æ–≥–æ `NULL`<br>‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è `NOT NULL`  |
| `JOINED`           | –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞, `JOIN` –ø–æ `ID`               | ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è<br>‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è    | ‚ùå JOIN-—ã –º–µ–¥–ª–µ–Ω–Ω—ã–µ<br>‚ùå –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã     |
| `TABLE_PER_CLASS`  | –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –ø–æ–ª—è–º–∏ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞ | ‚úÖ –ù–µ—Ç `NULL`<br>‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∫–ª–∞—Å—Å–æ–≤ | ‚ùå –ù–µ—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞<br>‚ùå `UNION`-–∑–∞–ø—Ä–æ—Å—ã     |

### üîß –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏:
```java
@Inheritance(strategy = InheritanceType.SINGLE_TABLE) // –∏–ª–∏ JOINED, TABLE_PER_CLASS
@DiscriminatorColumn(name = "EMP_TYPE")
@DiscriminatorValue("P")
``` 
üìå **Hibernate** —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `implicit polymorphism` ‚Äî 
–Ω–µ –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

---

---
## üß¨ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ _JPA_ (`@Inheritance`)

| –ê—Å–ø–µ–∫—Ç                    | `SINGLE_TABLE`                                 | `JOINED`                                                       | `TABLE_PER_CLASS`                                                      |
|---------------------------|------------------------------------------------|----------------------------------------------------------------|------------------------------------------------------------------------|
| üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î           | –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –≤—Å–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏                 | –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞ –∏ –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞ | –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É, –≤–∫–ª—é—á–∞—è –ø–æ–ª—è —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞ |
| üè∑Ô∏è –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–∞    | `@DiscriminatorColumn` + `@DiscriminatorValue` | `@DiscriminatorColumn` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)                           | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è                                                        |
| ‚öôÔ∏è –ó–∞–ø—Ä–æ—Å—ã                | –ü—Ä–æ—Å—Ç—ã–µ, –±–µ–∑ `JOIN`                            | –¢—Ä–µ–±—É—é—Ç `JOIN` –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏                                 | –ù–µ —Ç—Ä–µ–±—É—é—Ç `JOIN`, –Ω–æ —Ç—Ä–µ–±—É—é—Ç `UNION` –ø—Ä–∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö         |
| üìâ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å     | –õ—É—á—à–∞—è (–Ω–µ—Ç `JOIN`, –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞)              | –•—É–∂–µ, –∏–∑-–∑–∞ `JOIN`-–æ–≤                                          | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–æ–≤ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ `UNION`                      |
| üß† –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ | –ü–æ–ª–Ω–∞—è                                         | –ü–æ–ª–Ω–∞—è                                                         | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è                                                           |
| üß± –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö    | –ù–∏–∑–∫–∞—è, –≤–æ–∑–º–æ–∂–Ω—ã `NULL` –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö             | –í—ã—Å–æ–∫–∞—è, –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è                                      | –ù–∏–∑–∫–∞—è, –¥–∞–Ω–Ω—ã–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è                                             |
| ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è            | `NOT NULL` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–∞—Å–ª–µ–¥—É–µ–º—ã—Ö –ø–æ–ª–µ–π   | `@Id` —Ç–æ–ª—å–∫–æ –≤ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–µ                                     | –ù–µ—Ç –æ–±—â–µ–≥–æ `@Id`, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π                                   |
| üß∞ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | ‚úÖ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)                  | ‚ùå                                                              | ‚ùå                                                                      |

üìå –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:
* –ò—Å–ø–æ–ª—å–∑—É–π `SINGLE_TABLE`, –µ—Å–ª–∏ –≤–∞–∂–Ω–∞ **–ø—Ä–æ—Å—Ç–æ—Ç–∞** –∏ **—Å–∫–æ—Ä–æ—Å—Ç—å**.
* –í—ã–±–∏—Ä–∞–π `JOINED`, –µ—Å–ª–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Äî **–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** –∏ **–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞**.
* –ü—Ä–∏–º–µ–Ω—è–π `TABLE_PER_CLASS`, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω **–º–∏–Ω–∏–º—É–º —Å–≤—è–∑–µ–π** –∏ —É–¥–æ–±—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã —Å –∫–∞–∂–¥—ã–º –∫–ª–∞—Å—Å–æ–º –æ—Ç–¥–µ–ª—å–Ω–æ, 
–Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Inheritance Mapping Strategies –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω—ã –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–∞—Ç—å –ø–æ–Ω—è—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É (Hibernate) –∫–∞–∫ –µ–º—É –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤ –ë–î —Å—É—â–Ω–æ—Å—Ç–∏-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏:
1) –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –≤—Å—é –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–ª–∞—Å—Å–æ–≤ (SINGLE_TABLE) ‚Äî –≤—Å–µ enity, —Å–æ –≤—Å–µ–º–∏ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—É, –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–∏–ø–∞ entity –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ ‚Äúdiscriminator column‚Äù. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –µ—Å—Ç—å entity Animals c –∫–ª–∞—Å—Å–∞–º–∏-–ø–æ—Ç–æ–º–∫–∞–º–∏ Cats –∏ Dogs, –ø—Ä–∏ —Ç–∞–∫–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—Å–µ entity –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É Animals, –Ω–æ –ø—Ä–∏ —ç—Ç–æ –∏–º–µ—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∫–æ–ª–æ–Ω–∫—É animalType –≤ –∫–æ—Ç–æ—Ä—É—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –ø–∏—à–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ ¬´cat¬ª –∏–ª–∏ ¬´dog¬ª. –ú–∏–Ω—É—Å–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ —á—Ç–æ –≤ –æ–±—â–µ–π —Ç–∞–±–ª–∏—Ü–µ, –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –≤—Å–µ –ø–æ–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –∫–ª–∞—Å—Å–æ–≤-–ø–æ—Ç–æ–º–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥–µ—Ç –ø—É—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–æ–≤-–ø–æ—Ç–æ–º–∫–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ç–∞–±–ª–∏—Ü–µ animals –æ–∫–∞–∂–µ—Ç—Å—è –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –ª–∞–∑–∞–Ω—å—è –ø–æ –¥–µ—Ä–µ–≤—É –æ—Ç cats –∏ –º–æ–∂–µ—Ç –ª–∏ –ø–µ—Å –ø—Ä–∏–Ω–æ—Å–∏—Ç—å —Ç–∞–ø–∫–∏ –æ—Ç dogs, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—Å–µ–≥–¥–∞ –∏–º–µ—Ç—å null –¥–ª—è dog –∏ cat —Å–æ–æ—Ç–≤–µ—Å—Ç–≤–µ–Ω–Ω–æ.
–ú–∏–Ω—É—Å–æ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è NOT NULL –¥–ª—è —Ç–µ—Ö –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞–±–ª–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤., –Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∏–≥–µ—Ä—ã. –Ø–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. @DiscriminatorColumn(name = "EMP_TYPE") - –∏–º—è –æ–±—â–µ–π –∫–æ–ª–æ–Ω–∫–∏ —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –ø—Ä–∏–Ω–æ–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –∫–ª–∞—Å—Å—É @DiscriminatorValue("P") - —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–æ–µ –∏–º—è –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–Ω–æ –≤ @DiscriminatorColumn

2) –°—Ç—Ä–∞—Ç–µ–≥–∏—è ¬´—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è¬ª (JOINED) ‚Äî –í –¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–ª–∞—Å—Å –∏–µ—Ä–∞—Ä—Ö–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π, –∞ –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ–ª—è —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞., –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–≤—è–∑—å (relationships) –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤ —Å–ª—É—á–∞–µ –∫–ª–∞—Å—Å–æ–≤ Animals (—Å–º.–≤—ã—à–µ), –±—É–¥—É—Ç —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã animals, cats, dogs, –ø—Ä–∏—á–µ–º –≤ cats –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –∫–ª—é—á –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –ª–∞–∑–∞–Ω—å—è, –≤ dogs ‚Äî –∫–ª—é—á –∏ —É–º–µ–µ—Ç –ª–∏ –ø–µ—Å –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –ø–∞–ª–∫—É, –∞ –≤ animals –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ cats –∏ dogs c —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã. –ú–∏–Ω—É—Å–æ–º —Ç—É—Ç —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–µ—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü (join) –¥–ª—è –ª—é–±—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. @Id, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Ç–æ–ª—å–∫–æ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ.

3) –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ (TABLE_PER_CLASS) ‚Äî –∫–∞–∂–¥—ã–π –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É,–í–æ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –ø–æ–ª—è —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –ø–ª—é—Å —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω—ã –æ—Ç —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞. —Ç.–µ. –¥–ª—è cats –∏ dogs (—Å–º.–≤—ã—à–µ) –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü—ã cats –∏ dogs –∫–∞–∫ –µ—Å–ª–∏ –±—ã –æ–Ω–∏ –≤–æ–æ–±—â–µ –Ω–µ –∏–º–µ–ª–∏ –æ–±—â–µ–≥–æ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞. –ú–∏–Ω—É—Å–æ–º —è–≤–ª—è–µ—Ç—Å—è –ø–ª–æ—Ö–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ (polymorphic relationships) –∏ —Ç–æ —á—Ç–æ –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö sql –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ UNION –∑–∞–ø—Ä–æ—Å–∞.

–î–ª—è –∑–∞–¥–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Inheritance (–∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –±–ª–æ–∫–∏)                                                                                                                                                                                                                                                                                                                                          
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, Hibernate –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —á–µ—Ç–≤—ë—Ä—Ç—ã–π, –Ω–µ–º–Ω–æ–≥–æ –¥—Ä—É–≥–æ–π –≤–∏–¥ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞:

–ù–µ—è–≤–Ω—ã–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (implicit polymorphism)
```
---
</details>



<details>
        <summary>11. –ö–∞–∫ –º–∞–ø—è—Ç—Å—è Enum'—ã?</summary>

## –ö–∞–∫ –º–∞–ø—è—Ç—Å—è `Enum`'—ã?

## üß© –ú–∞–ø–ø–∏–Ω–≥ Enum –≤ JPA

–í JPA –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ –º–∞–ø–ø–∏–Ω–≥–∞ `enum`-–æ–≤ –Ω–∞ –ë–î:

### 1. `@Enumerated`
```java
@Enumerated(EnumType.STRING)   // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–º—è enum
@Enumerated(EnumType.ORDINAL) // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä enum
```

| **–¢–∏–ø**   | 	**–ü–æ–≤–µ–¥–µ–Ω–∏–µ**                                | 	**–ü–ª—é—Å—ã**                                    | 	**–ú–∏–Ω—É—Å—ã**                                          |
|-----------|-----------------------------------------------|-----------------------------------------------|------------------------------------------------------|
| `STRING`  | 	–•—Ä–∞–Ω–∏—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –∏–º—è (`Enum.name()`)       | 	‚úÖ –ß–∏—Ç–∞–±–µ–ª—å–Ω–æ, <br>‚úÖ –£—Å—Ç–æ–π—á–∏–≤–æ –∫ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–µ | ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ª–æ–º–∞–µ—Ç –ë–î, <br>‚ùå –ë–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –≤ –ë–î |
| `ORDINAL` | 	–•—Ä–∞–Ω–∏—Ç—Å—è –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä (`Enum.ordinal()`) | 	‚úÖ –≠–∫–æ–Ω–æ–º–Ω–æ –ø–æ –ø–∞–º—è—Ç–∏                         | 	‚ùå –•—Ä—É–ø–∫–æ: –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ enum –ª–æ–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ           |

---
### 2. `@Convert` —Å `AttributeConverter` (_JPA 2.1+_)
* –ü–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∏ –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.
* –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è `enum`.
```java
@Convert(converter = YourEnumConverter.class)
```

‚úÖ –ì–∏–±–∫–æ—Å—Ç—å, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å legacy-–¥–∞–Ω–Ω—ã–º–∏   
‚úÖ –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É   
‚ùå –ù—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤—Ä—É—á–Ω—É—é   

---
### 3. –ß–µ—Ä–µ–∑` @PostLoad` –∏ `@PrePersist` + `@EntityListeners`
* –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `@Convert`, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è + –ª–æ–≥–∏–∫–∞ –≤ —Å–ª—É—à–∞—Ç–µ–ª–µ.   


  ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å   
  ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π   
  ‚ùå –ù–µ–æ—á–µ–≤–∏–¥–Ω–∞—è –ª–æ–≥–∏–∫–∞   

---
### üîö –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

| **–¶–µ–ª—å**                             | 	**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±**                         |
|--------------------------------------|---------------------------------------------------|
| –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å                | 	`@Enumerated(EnumType.STRING)`                   |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 	`@Convert` + `AttributeConverter`                |
| –¢–æ–Ω–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ª–æ–≥–∏–∫–æ–π          | 	`@PostLoad` / `@PrePersist` + `@EntityListeners` |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @Enumerated(EnumType.STRING) - –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ –±–∞–∑–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∏–º–µ–Ω–∞ Enum.
@Enumerated(EnumType.ORDINAL) - –≤ –±–∞–∑–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –ø–æ—Ä—è–¥–∫–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞ Enum.                                                              @Enumerated(EnumType.STRING)  –û–¥–Ω–∞–∫–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è enum –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–∞—Ä—É—à–∏—Ç —Ä–∞–±–æ—Ç—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –¥–∞–∂–µ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º–æ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º @Enumerated(EnumType.ORDINAL), –æ–Ω–æ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞, —á–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –≠—Ç–æ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è —Å–µ—Ä—å–µ–∑–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π, –∫–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –∏–º–µ—Ç—å –¥–µ–ª–æ —Å –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º –¥–∞–Ω–Ω—ã—Ö.

–î—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç - –º—ã –º–æ–∂–µ–º —Å–º–∞–ø–∏—Ç—å –Ω–∞—à–∏ enum –≤ –ë–î –∏ –æ–±—Ä–∞—Ç–Ω–æ –≤ –º–µ—Ç–æ–¥–∞—Ö —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ @PostLoad –∏ @PrePersist. @EntityListener –Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º Entity, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∫–∞–∑–∞—Ç—å –∫–ª–∞—Å—Å, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–∑–¥–∞—Ç—å –¥–≤–∞ –º–µ—Ç–æ–¥–∞, –ø–æ–º–µ—á–µ–Ω–Ω—Ö —ç—Ç–∏–º–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏.
–ò–¥–µ—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –≤ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–º–µ—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ —Å Enum, –Ω–æ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ. –ü–æ–ª–µ —Å Enum –∞–Ω–Ω–æ—Ç–∏—Ä—É–µ–º @Transient, –∞ –≤ –ë–î –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è. –∫–∞–∂–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ—Ç—å –≤ —Å—É—â–Ω–æ—Å—Ç–∏ —Ü–µ–ª—ã—Ö –¥–≤–∞ –∞—Ç—Ä–∏–±—É—Ç–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö –æ–¥–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ.
–í JPA —Å –≤–µ—Ä—Å–∏–∏ 2.1 –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Converter –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ Enum‚Äô–∞ –≤ –Ω–µ–∫–æ–µ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑ –ë–î. –í—Å–µ, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç javax.persistence.AttributeConverter –∏ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é @Converter –∏ –ø–æ–ª–µ –≤ —Å—É—â–Ω–æ—Å—Ç–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Convert. –ú—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ @Converter(autoApply=true), —á—Ç–æ–±—ã JPA –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–ª –ª–æ–≥–∏–∫—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ –≤—Å–µ–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –∞—Ç—Ä–∏–±—É—Ç–∞–º —Ç–∏–ø–∞ Category. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –Ω–∞–º –ø—Ä–∏—à–ª–æ—Å—å –±—ã –ø–æ–º–µ—Å—Ç–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @Converter –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞–¥ –ø–æ–ª–µ–º Category —É –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, –≥–¥–µ –æ–Ω–æ –∏–º–µ–µ—Ç—Å—è. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –º—ã –º–æ–∂–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è enum –∏–ª–∏ –∏–∑–º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ, –Ω–µ –Ω–∞—Ä—É—à–∞—è —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
```
---
</details>



<details>
        <summary>12. –ö–∞–∫ –º–∞–ø—è—Ç—Å—è –¥–∞—Ç—ã (–¥–æ java 8 –∏ –ø–æ—Å–ª–µ)?</summary>

## –ö–∞–∫ –º–∞–ø—è—Ç—Å—è –¥–∞—Ç—ã (_–¥–æ java 8 –∏ –ø–æ—Å–ª–µ_)?

## üóìÔ∏è –ú–∞–ø–ø–∏–Ω–≥ –¥–∞—Ç –≤ JPA: –¥–æ –∏ –ø–æ—Å–ª–µ Java 8

### üìÜ –î–æ Java 8 (`java.util.Date`, `java.util.Calendar`)
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Temporal` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ç–æ—á–Ω–æ–≥–æ —Ç–∏–ø–∞:

```java
@Temporal(TemporalType.DATE)      // –¢–æ–ª—å–∫–æ –¥–∞—Ç–∞
@Temporal(TemporalType.TIME)      // –¢–æ–ª—å–∫–æ –≤—Ä–µ–º—è
@Temporal(TemporalType.TIMESTAMP) // –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
```

| **–¢–∏–ø –ø–æ–ª—è**       | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ**                 |
|--------------------|-------------------------------|
| java.util.Date     | –•—Ä–∞–Ω–∏—Ç –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è (_–¥–æ –º—Å_) |
| java.util.Calendar | –¢–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç `@Temporal`     |

‚ùó –ë–µ–∑ `@Temporal` JPA –Ω–µ —Å–º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–º–∞–ø–∏—Ç—å –ø–æ–ª–µ.

---
### üïí –° Java 8+ (java.time.*)
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ JPA 2.2+. –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Temporal` **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è**.

| **–¢–∏–ø –ø–æ–ª—è**                | 	**–û–ø–∏—Å–∞–Ω–∏–µ**            |
|-----------------------------|--------------------------|
| `LocalDate`                 | 	–¢–æ–ª—å–∫–æ –¥–∞—Ç–∞             |
| `LocalTime`                 | 	–¢–æ–ª—å–∫–æ –≤—Ä–µ–º—è            |
| `LocalDateTime`             | 	–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è            |
| `Instant`, `OffsetDateTime` | 	–° —É—á—ë—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ |

‚úÖ Immutable   
‚úÖ Thread-safe   
‚úÖ –ù–∞–Ω–æ—Å–µ–∫—É–Ω–¥–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å   

---
### üìå –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
| **Java –≤–µ—Ä—Å–∏—è**   | 	**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∏–ø—ã**      | 	**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**                                   |
|-------------------|-----------------------------|----------------------------------------------------|
| ‚â§ Java 7          | 	java.util.Date + @Temporal | 	–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø (DATE, TIME, TIMESTAMP) |
| Java 8+           | 	java.time.*                | 	–ë–µ–∑ @Temporal, –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ      |

---

---
## –°–û–ö–†–ê–©–ï–ù–ù–û:

### üóìÔ∏è –ú–∞–ø–ø–∏–Ω–≥ –¥–∞—Ç –≤ JPA

| **Java –≤–µ—Ä—Å–∏—è** | **–¢–∏–ø—ã –¥–∞—Ç**         | **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**                   |
|-----------------|----------------------|-----------------------------------|
| ‚â§ Java 7        | `java.util.Date`     | –¢—Ä–µ–±—É–µ—Ç `@Temporal`               |
|                 | `java.util.Calendar` |                                   |
| Java 8+         | `java.time.*`        | –ë–µ–∑ `@Temporal`, –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ |

üü¢ `java.time.*` ‚Äî immutable, thread-safe, —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @Temporal –¥–æ Java 8, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞–¥–æ –±—ã–ª–æ —É–∫–∞–∑–∞—Ç—å –∫–∞–∫–æ–π —Ç–∏–ø –¥–∞—Ç—ã –º—ã —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
–í Java 8 –∏ –¥–∞–ª–µ–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é —Å—Ç–∞–≤–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ. java.time –í—Å–µ –∫–ª–∞—Å—Å—ã –≤ –Ω–æ–≤–æ–º API –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ (immutable) –∏, –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ,
–ø–æ—Ç–æ–∫–æ-–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ. –¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–¥–Ω—É –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥—É,
—á—Ç–æ –≤ –º–∏–ª–ª–∏–æ–Ω —Ä–∞–∑ —Ç–æ—á–Ω–µ–µ —á–µ–º –≤ –ø–∞–∫–µ—Ç–µ java.util.

–¢–∏–ø java.util.Date —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–∞—Ç–µ –∏ –≤—Ä–µ–º–µ–Ω–∏ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥.
```
---
</details>



<details>
        <summary>13. –ö–∞–∫ ‚Äú—Å–º–∞–ø–∏—Ç—å‚Äù –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤?</summary>

## –ö–∞–∫ ‚Äú_—Å–º–∞–ø–∏—Ç—å_‚Äù –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤?

## üß∫ –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–ª–µ–∫—Ü–∏–π –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ / –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤ –≤ JPA

–î–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π **–ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤** –∏–ª–∏ **–≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏:

| **–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è**         | **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                                             |
|-----------------------|------------------------------------------------------------|
| `@ElementCollection`  | –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø–æ–ª–µ ‚Äî –∫–æ–ª–ª–µ–∫—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö/–≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤ |
| `@CollectionTable`    | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏       |
| `@OrderColumn`        | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏                    |
| `@OrderBy`            | –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ–ª–æ–Ω–∫–µ           |

---

### üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –≠–ª–µ–º–µ–Ω—Ç—ã –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **–æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ**.  
- –£ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ **–Ω–µ—Ç `ID`**, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –º–æ–∂–µ—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è**.  
- `@OrderColumn` –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –±–µ–∑ –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ —Ç–∞–±–ª–∏—Ü—ã.  

---

### üõ†Ô∏è –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ª–æ–≥–∏—á–µ—Å–∫–∏):

```text
–°—É—â–Ω–æ—Å—Ç—å            –¢–∞–±–ª–∏—Ü–∞: entity
–ü—Ä–∏–º–∏—Ç–∏–≤—ã           –¢–∞–±–ª–∏—Ü–∞: entity_values
```

---
### üö´ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º @OneToMany, @ManyToMany:
–≠—Ç–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π Entity, –∞ –Ω–µ –±–∞–∑–æ–≤—ã—Ö –∏–ª–∏ @Embeddable-—Ç–∏–ø–æ–≤.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @ElementCollection
 @OrderBy
–ï—Å–ª–∏ —É –Ω–∞—à–µ–π —Å—É—â–Ω–æ—Å—Ç–∏ –µ—Å—Ç—å –ø–æ–ª–µ —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π, —Ç–æ –º—ã –ø—Ä–∏–≤—ã–∫–ª–∏ —Å—Ç–∞–≤–∏—Ç—å –Ω–∞–¥ –Ω–∏–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @OneToMany –ª–∏–±–æ @ManyToMany. –ù–æ –¥–∞–Ω–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥—Ä—É–≥–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (entities). –ï—Å–ª–∏ —É –Ω–∞—à–µ–π —Å—É—â–Ω–æ—Å—Ç–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è –Ω–µ –¥—Ä—É–≥–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, –∞ –±–∞–∑–æ–≤—ã—Ö –∏–ª–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö (embeddable) —Ç–∏–ø–æ–≤ –¥–ª—è —ç—Ç–∏—Ö —Å–ª—É—á–∞–µ–≤ –≤ JPA –∏–º–µ–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @ElementCollection, –∫–æ—Ç–æ—Ä–∞—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫–ª–∞—Å—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞–¥ –ø–æ–ª–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏–∏. –í—Å–µ –∑–∞–ø–∏—Å–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, —Ç–æ –µ—Å—Ç—å –≤ –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞–µ–º –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã: –æ–¥–Ω—É –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–∏, –≤—Ç–æ—Ä—É—é –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é, –æ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç—Å—è –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ, —Ç–∞–∫ –∫–∞–∫ —É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ—Ç id. –ú–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å —Å –ø–æ–º–æ—â—å—é @OrderColumn
 @CollectionTable - –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π, (CollectionTable –æ—Ç–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º—è —Ç–∞–±–ª–∏—Ü—ã –∏ @JoinColumn –∏–ª–∏ @JoinColumns –≤ —Å–ª—É—á–∞–µ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞.)
```
---
</details>



<details>
        <summary>14. –ö–∞–∫–∏–µ –µ—Å—Ç—å –≤–∏–¥—ã —Å–≤—è–∑–µ–π?</summary>

## –ö–∞–∫–∏–µ –µ—Å—Ç—å –≤–∏–¥—ã —Å–≤—è–∑–µ–π?

## üîó –í–∏–¥—ã —Å–≤—è–∑–µ–π (_Relationships_) –≤ _JPA_

### üìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã:

| **–¢–∏–ø —Å–≤—è–∑–∏** | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                            |
|---------------|-------------------------------------------------------------------------|
| `@OneToOne`   | –û–¥–∏–Ω –æ–±—ä–µ–∫—Ç —Å–≤—è–∑–∞–Ω —Å –æ–¥–Ω–∏–º –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–æ–º                              |
| `@OneToMany`  | –û–¥–∏–Ω –æ–±—ä–µ–∫—Ç —Å–≤—è–∑–∞–Ω —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤                         |
| `@ManyToOne`  | –ú–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç (–æ–±—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ `OneToMany`)  |
| `@ManyToMany` | –û–±—ä–µ–∫—Ç—ã —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ                  |

---

### üîÑ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å —Å–≤—è–∑–µ–π:

| **–í–∏–¥**            | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                      |
|--------------------|-----------------------------------------------------------------------------------|
| **Unidirectional** | –°–≤—è–∑—å –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è: —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –¥—Ä—É–≥—É—é               |
| **Bidirectional**  | –°–≤—è–∑—å –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è: –æ–±–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `mappedBy` |

> üîß **mappedBy** ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ *–Ω–µ-–≤–ª–∞–¥–µ—é—â–µ–π* —Å—Ç–æ—Ä–æ–Ω–µ –∏ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –∏–º—è –ø–æ–ª—è –≤ *–≤–ª–∞–¥–µ—é—â–µ–π* —Å—Ç–æ—Ä–æ–Ω–µ —Å–≤—è–∑–∏.

---

### ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ:

- **–í–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞** —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–Ω–µ—à–Ω–∏–º –∫–ª—é—á–æ–º –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–≤—è–∑–∏.
- –¢–æ–ª—å–∫–æ **–≤–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞** –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `persist()`, `merge()` –∏ `remove()` –≤ JPA.


---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–°—É—â–µ—Å—Ç–≤—É—é—Ç 4 —Ç–∏–ø–∞ —Å–≤—è–∑–µ–π:
1. OneToOne - –∫–æ–≥–¥–∞ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä Entity –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω –Ω–µ –±–æ–ª—å—à–µ —á–µ–º —Å –æ–¥–Ω–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –¥—Ä—É–≥–æ–≥–æ Entity.
2. OneToMany - –∫–æ–≥–¥–∞ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä Entity –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –¥—Ä—É–≥–∏—Ö Entity.
3. ManyToOne - –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è OneToMany. –ù–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ Entity –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å –æ–¥–Ω–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –¥—Ä—É–≥–æ–≥–æ Entity.
4. ManyToMany - —ç–∫–∑–µ–º–ø–ª—è—Ä—ã Entity –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞.

–ö–∞–∂–¥—É—é –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –µ—â—ë –Ω–∞ –¥–≤–∞ –≤–∏–¥–∞:
1. Bidirectional –í–ª–∞–¥–µ–µ–º–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –≤ –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –¥–æ–ª–∂–Ω–∞ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –≤–ª–∞–¥–µ—é—â—É—é —Å—Ç–æ—Ä–æ–Ω—É –∏—Å–ø–æ–ª—å–∑—É—è —ç–ª–µ–º–µ–Ω—Ç mappedBy –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π @OneToOne, @OneToMany, –∏–ª–∏ @ManyToMany. –≠–ª–µ–º–µ–Ω—Ç mappedBy –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª–µ –≤ –æ–±—ä–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –æ—Ç–Ω–æ—à–µ–Ω–∏—è.
2. Undirectional –í –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å –∏–º–µ–µ—Ç –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –≤—Ç–æ—Ä—É—é —Å—É—â–Ω–æ—Å—Ç—å. –í—Ç–æ—Ä–∞—è —Å—É—â–Ω–æ—Å—Ç—å (—Å—Ç–æ—Ä–æ–Ω–∞) –Ω–µ –∏–º–µ–µ—Ç –ø–æ–ª—è –ø–µ—Ä–≤–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –Ω–µ –∑–Ω–∞–µ—Ç –æ–± –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. –≠–ª–µ–º–µ–Ω—Ç mappedBy –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª–µ –≤ –æ–±—ä–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –æ—Ç–Ω–æ—à–µ–Ω–∏—è.

Bidirectional (–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è) ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–≤—è–∑—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —É –≤—Å–µ—Ö Entity, —Ç–æ –µ—Å—Ç—å –≤ —Å–ª—É—á–∞–µ OneToOne A-B –≤ Entity A –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ Entity B, –≤ Entity B –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ Entity A. Entity A —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —ç—Ç–æ–π —Å–≤—è–∑–∏ (—ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è —Å–ª—É—á–∞–µ–≤ –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Ç–æ–≥–¥–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ A —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ B, –Ω–æ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç).
Undirectional- —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–≤—è–∑—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, —Ç–æ –µ—Å—Ç—å –≤ —Å–ª—É—á–∞–µ OneToOne A-B —Ç–æ–ª—å–∫–æ —É Entity A –±—É–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ Entity B, —É Entity B —Å—Å—ã–ª–∫–∏ –Ω–∞ A –Ω–µ –±—É–¥–µ—Ç.
```
---
</details>



<details>
        <summary>15. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏?

## üîó –í–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏ (_Owning side_) –≤ _JPA_

### üí° –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
**–í–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏** ‚Äî —ç—Ç–æ —Å—Ç–æ—Ä–æ–Ω–∞ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç **–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á (`FK`)** 
–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ —Å–≤—è–∑–∏ –≤ –ë–î.

---
### üìå –ü—Ä–∏–∑–Ω–∞–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞:
- –ò–º–µ–µ—Ç **–ø–æ–ª–µ —Å —Ç–∏–ø–æ–º –¥—Ä—É–≥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏**.
- –í **–æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏** ‚Äî –≤–ª–∞–¥–µ–ª–µ—Ü –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
- –í **–¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏** ‚Äî –≤–ª–∞–¥–µ–ª–µ—Ü —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —è–≤–Ω–æ (–±–µ–∑ `mappedBy`).
- –ò–º–µ–Ω–Ω–æ **–≤–ª–∞–¥–µ–ª–µ—Ü** —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å—Ç–∞–≤–∫–æ–π/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º FK –≤ –ë–î.

---

### üîÑ `mappedBy` ‚Äî —É–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞:
–ù–∞ **–Ω–µ–≤–ª–∞–¥–µ—é—â–µ–π** —Å—Ç–æ—Ä–æ–Ω–µ –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@OneToOne`, `@OneToMany`, `@ManyToMany` —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `mappedBy`, —Å—Å—ã–ª–∞—é—â–∏–π—Å—è –Ω–∞ –∏–º—è –ø–æ–ª—è –≤–æ –≤–ª–∞–¥–µ–ª—å—Ü–µ.

> üìå –¢–æ–ª—å–∫–æ **–≤–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞** –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–≤—è–∑–∏ –≤ –ë–î.


---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–í –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –º–µ–∂–¥—É –¥–≤—É–º—è —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –æ–¥–Ω–∞ –≤–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞, –∞ –≤–ª–∞–¥–µ–µ–º–æ–π –º–æ–∂–µ—Ç –∏ –Ω–µ –±—ã—Ç—å, –µ—Å–ª–∏ —ç—Ç–æ –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è.
–ü–æ —Å—É—Ç–∏, —É –∫–æ–≥–æ –µ—Å—Ç—å –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ –¥—Ä—É–≥—É—é —Å—É—â–Ω–æ—Å—Ç—å - —Ç–æ—Ç –∏ –≤–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏. –¢–æ –µ—Å—Ç—å, –µ—Å–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –µ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –æ—Ç –¥—Ä—É–≥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, —Ç–æ –ø–µ—Ä–≤–∞—è —Å—É—â–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞—ë—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Å–≤—è–∑–∏, –≤—Ç–æ—Ä–∞—è —Å—É—â–Ω–æ—Å—Ç—å - –≤–ª–∞–¥–µ–µ–º–æ–π.
–í –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Å—Ç–æ—Ä–æ–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç –ø–æ–ª–µ —Å —Ç–∏–ø–æ–º –¥—Ä—É–≥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —ç—Ç–æ–π —Å–≤—è–∑–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
```
---
</details>



<details>
        <summary>16. –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞—Å–∫–∞–¥—ã?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞—Å–∫–∞–¥—ã?

‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞—Å–∫–∞–¥—ã –≤ JPA?
**–ö–∞—Å–∫–∞–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π 
—Å –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é –Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–µ–π —Å—É—â–Ω–æ—Å—Ç–∏.

–ö–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞–¥ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π `Entity` (_–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏ —Ç.–¥._), 
—Ç–∞ –∂–µ –æ–ø–µ—Ä–∞—Ü–∏—è –∫–∞—Å–∫–∞–¥–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –µ—ë —Å–≤—è–∑–∞–Ω–Ω—ã–º `Entity`, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã –∫–∞—Å–∫–∞–¥–∞.

---
### üß© –¢–∏–ø—ã –∫–∞—Å–∫–∞–¥–∏—Ä–æ–≤–∞–Ω–∏—è (_CascadeType_)

| **–¢–∏–ø**   | 	**–î–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å–≤—è–∑–∞–Ω–Ω—ã–º `Entity`** |
|-----------|------------------------------------------------------|
| `ALL`     | 	üí• –í—Å–µ –Ω–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è                  |
| `PERSIST` | 	üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π             |
| `MERGE`   | 	üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ/–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π       |
| `REMOVE`  | 	üóë –£–¥–∞–ª–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π                     |
| `REFRESH` | 	‚ôªÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –ë–î                        |
| `DETACH`  | 	üì¥ –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏   |

---
### üìù –í–∞–∂–Ω–æ–µ:
* –ö–∞—Å–∫–∞–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å **—Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏** (_OneToOne, OneToMany –∏ —Ç.–¥._).
* –£–ø—Ä–∞–≤–ª—è—é—Ç **–∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º** –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
* –ù–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π** –∏ –∏–∑–±–µ–∂–∞–Ω–∏—è _boilerplate_-–∫–æ–¥–∞.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ö–∞—Å–∫–∞–¥–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –∫–æ–≥–¥–∞ –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–∞–∫–æ–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ —Å —Ü–µ–ª–µ–≤–æ–π Entity, —Ç–æ –∂–µ —Å–∞–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –∫ —Å–≤—è–∑–∞–Ω–Ω–æ–π Entity.
JPA CascadeType:
ALL -  –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç, —á—Ç–æ –≤—Å–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –æ–±—ä–µ–∫—Ç–µ, –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã –¥–æ—á–µ—Ä–Ω–µ–º—É –æ–±—ä–µ–∫—Ç—É.
PERSIST -  –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ save () –∏–ª–∏ persist () –∫–∞—Å–∫–∞–¥–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Å–≤—è–∑–∞–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º. (—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤—ã–π –æ–±—å–µ–∫—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è)
MERGE - –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ entity –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è, –∫–æ–≥–¥–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è entity-–≤–ª–∞–¥–µ–ª–µ—Ü. (—Å—É—â–Ω–æ —Å—Ç—å —é—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–æ–≤–æ–π –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é)

REMOVE - —É–¥–∞–ª—è–µ—Ç –≤—Å–µ entity, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —É–¥–∞–ª—è–µ–º–æ–π entity.
DETACH - –æ—Ç–∫–ª—é—á–∞–µ—Ç –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ entity, –µ—Å–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç ¬´—Ä—É—á–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ¬ª.
REFRESH - –ø–æ–≤—Ç–æ—Ä–Ω–æ —Å—á–∏—Ç—ã–≤–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –≤—ã–∑–æ–≤–µ refresh().
```
---
</details>



<details>
        <summary>17. –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É PERSIST –∏ MERGE?</summary>

## –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `PERSIST` –∏ `MERGE`?

### üîç –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `PERSIST` –∏ `MERGE` –≤ _JPA_

| –û–ø–µ—Ä–∞—Ü–∏—è   | 	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                          | 	–ü–æ–≤–µ–¥–µ–Ω–∏–µ                                                                                                                                                                                                       |
|------------|--------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `PERSIST`  | 	üÜï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—É—â–Ω–æ—Å—Ç–∏        | 	‚Äî –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –∫ –Ω–æ–≤—ã–º** (_transient_) –æ–±—ä–µ–∫—Ç–∞–º <br>‚Äî –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–∑–æ–≤–µ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –æ–±—ä–µ–∫—Ç–µ: **–Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç** <br>‚Äî –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ `detached` –æ–±—ä–µ–∫—Ç—É ‚Äî `EntityExistsException` |
| `MERGE`    | 	üîÅ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—É—â–Ω–æ—Å—Ç–∏ | 	‚Äî –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö** (`detached`) –æ–±—ä–µ–∫—Ç–æ–≤ <br>‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—É–ø—Ä–∞–≤–ª—è–µ–º—É—é –∫–æ–ø–∏—é** –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ <br>‚Äî –ú–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫–∞–∫ –∫ –Ω–æ–≤—ã–º, —Ç–∞–∫ –∏ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –æ–±—ä–µ–∫—Ç–∞–º          |

---
### üßπ `orphanRemoval`
* `orphanRemoval = true` —É–¥–∞–ª—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ—á–µ—Ä–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏, –µ—Å–ª–∏ –æ–Ω–∏:
  * –±–æ–ª—å—à–µ **–Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã** –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—É—â–Ω–æ—Å—Ç–∏;
  * –∏–ª–∏ –µ—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Å—É—â–Ω–æ—Å—Ç—å **—É–¥–∞–ª–µ–Ω–∞**.

> üí° **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@OneToMany`) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è ¬´–æ—Å–∏—Ä–æ—Ç–µ–≤—à–∏—Ö¬ª –∑–∞–ø–∏—Å–µ–π –∏–∑ –ë–î.**

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
persist(entity) —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –≤ –ë–î (–ï—Å–ª–∏ –∂–µ –æ–±—ä–µ–∫—Ç —É–∂–µ –µ—Å—Ç—å –≤ –±–∞–∑–µ, —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç. –û–¥–Ω–∞–∫–æ  –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –±–∞–∑—É –æ–±—ä–µ–∫—Ç —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º Detached –∏—Å–∫–ª—é—á–µ–Ω–∏–µ EntityExistsException).
–ù–æ –≤ —Å–ª—É—á–∞–µ merge(entity) —Å—É—â–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–æ–≤–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π), –∏ –∫–æ–ø–∏—è —ç—Ç–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –≤–µ—Ä–Ω–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ. –ù–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π.

orphanRemoval. –î–∏—Ä–µ–∫—Ç–∏–≤–∞ orphanRemoval –æ–±—ä—è–≤–ª—è–µ—Ç, —á—Ç–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —Å—É—â–Ω–æ—Å—Ç–µ–π –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã, –∫–æ–≥–¥–∞ –æ–Ω–∏ –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω—ã –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è, –∏–ª–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ, –∫–æ–≥–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω
```
---
</details>



<details>
        <summary>18. –ö–∞–∫–∏–µ –¥–≤–∞ —Ç–∏–ø–∞ fetch —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤ JPA –≤—ã –∑–Ω–∞–µ—Ç–µ?</summary>

## –ö–∞–∫–∏–µ –¥–≤–∞ —Ç–∏–ø–∞ `fetch` —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤ `JPA` –≤—ã –∑–Ω–∞–µ—Ç–µ?

### ‚ö° –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ (_Fetch Types_) –≤ _JPA_
JPA –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–¥–≤–∞ —Ç–∏–ø–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤—ã–±–æ—Ä–∫–∏ (_fetching_)** –¥–ª—è –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π:

| **–¢–∏–ø —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**   | 	**–û–ø–∏—Å–∞–Ω–∏–µ**                                                                                      | 	**–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫:**                    |
|---------------------|----------------------------------------------------------------------------------------------------|-----------------------------------------------------|
| `LAZY` üí§           | 	–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö **–æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è** –¥–æ –ø–µ—Ä–≤–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –Ω–∏–º. <br>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç—ã**.  | 	`@OneToMany`, `@ManyToMany,` `@ElementCollection`  |
| `EAGER` ‚ö°           | 	–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ**, –≤–º–µ—Å—Ç–µ —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é.                                   | 	`@OneToOne`, `@ManyToOne`, `@Basic`                |

### üìù –í–∞–∂–Ω–æ: 
> —Ö–æ—Ç—è `LAZY` —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π –¥–ª—è –º–Ω–æ–≥–∏—Ö –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–π, 
–ø—Ä–æ–≤–∞–π–¥–µ—Ä _JPA_ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ—ë, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ –≤ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
1) LAZY ‚Äî Hibernate –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å—Ä–∞–∑—É, –∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –Ω–∏–º, –Ω–æ —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ, —Ç–æ Hibernate –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏—Ö —Å—Ä–∞–∑—É. –≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–ª–µ–π, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö @OneToMany, @ManyToMany –∏ @ElementCollection. –í –æ–±—ä–µ–∫—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏ lazy-–ø–æ–ª—è.
2) EAGER ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ. –≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–ª–µ–π, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö @Basic, @ManyToOne –∏ @OneToOne.
```
---
</details>



<details>
        <summary>19. –ö–∞–∫–∏–µ —á–µ—Ç—ã—Ä–µ —Å—Ç–∞—Ç—É—Å–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ Entity –æ–±—ä–µ–∫—Ç–∞ (Entity Instance‚Äôs Life Cycle) –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å?</summary>

## –ö–∞–∫–∏–µ —á–µ—Ç—ã—Ä–µ —Å—Ç–∞—Ç—É—Å–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ Entity –æ–±—ä–µ–∫—Ç–∞ (Entity Instance‚Äôs Life Cycle) –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å?

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª Entity –≤ JPA

| **–°–æ—Å—Ç–æ—è–Ω–∏–µ**  | **–û–ø–∏—Å–∞–Ω–∏–µ**                                               |
|----------------|------------------------------------------------------------|
| `Transient` üÜï | ‚Äî –û–±—ä–µ–∫—Ç **—Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω** (`new`)                     |                 
|                | ‚Äî **–ù–µ —Å–≤—è–∑–∞–Ω** —Å –ë–î                                       |                         
|                | ‚Äî –ù–µ –∏–º–µ–µ—Ç ID                                              |
| `Managed` ‚úÖ    | ‚Äî –û–±—ä–µ–∫—Ç **—Å–≤—è–∑–∞–Ω —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏**              | 
|                | ‚Äî –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `EntityManager`                              |     
|                | ‚Äî –ë—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ                 |
| `Detached` üîå  | ‚Äî –û–±—ä–µ–∫—Ç **–∏–º–µ–µ—Ç ID**, –Ω–æ **–≤–Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** |
|                | ‚Äî –ò–∑–º–µ–Ω–µ–Ω–∏—è **–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏               |
| `Removed` üóë   | ‚Äî –û–±—ä–µ–∫—Ç **–ø–æ–º–µ—á–µ–Ω –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ** (`em.remove(entity)`)     |
|                | ‚Äî –ë—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ –ë–î –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ                           |

---
### üìù –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏:

`new` ‚Üí `persist()` ‚Üí `Managed`

`Managed` ‚Üí `detach()` ‚Üí `Detached`

`Managed` ‚Üí `remove()` ‚Üí `Removed` ‚Üí `Detached` (_–ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞_)

![–ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏](/ITM/ITM05_Hibernate/imgs/2025-04-08_18-02-16.png)

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Transient (New) ‚Äî —Å–≤–µ–∂–µ—Å–æ–∑–¥–∞–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º new() —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –∏–º–µ–µ—Ç —Å–≤—è–∑–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –∏–º–µ–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–µ –∏–º–µ–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π.
managed - –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω, —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –±–¥, –∏–º–µ–µ—Ç primary key, —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è JPA
detached -–æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω, –∏–º–µ–µ—Ç primary key, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è (–∏–ª–∏ –±–æ–ª—å—à–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è) —á–∞—Å—Ç—å—é –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (–Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è JPA);
removed - –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω, —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è JPA, –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω –ø—Ä–∏ commit-–µ –∏ —Å—Ç–∞—Ç—É—Å —Å—Ç–∞–Ω–µ—Ç –æ–ø—è—Ç—å detached
```
---
</details>



<details>
        <summary>20. –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è persist –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?</summary>

## –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è `persist` –Ω–∞ `Entity` –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?

### üß© –í–ª–∏—è–Ω–∏–µ `persist()` –Ω–∞ `Entity` –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

| **–°—Ç–∞—Ç—É—Å** `Entity` | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** `persist(entity)`                                                                   |
|---------------------|---------------------------------------------------------------------------------------------------|
| `Transient` üÜï      | ‚úÖ –°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `Managed` <br>üîÑ –í—Å—Ç–∞–≤–∫–∞ –≤ –ë–î –ø—Ä–∏ `flush()` –∏–ª–∏ `commit()`                           |
| `Managed` ‚úÖ         | üîÅ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è <br>‚ö† –û–¥–Ω–∞–∫–æ, –∫–∞—Å–∫–∞–¥–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`CascadeType.PERSIST`) –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã |
| `Detached` üîå       | ‚ùå –ë—Ä–æ—Å–∞–µ—Ç—Å—è `EntityExistsException` <br>(_–ª–∏–±–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ, –ª–∏–±–æ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ_)                     |
| `Removed` üóë        | ‚ö† –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –≤ `Managed` <br>–¢–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏                       |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
new ‚Üí managed, –∏ –æ–±—ä–µ–∫—Ç –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±–∞–∑—É –ø—Ä–∏ commit-–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–ª–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ flush –æ–ø–µ—Ä–∞—Ü–∏–π
managed ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –æ–¥–Ω–∞–∫–æ –∑–∞–≤–∏—Å–∏–º—ã–µ Entity –º–æ–≥—É—Ç –ø–æ–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ managed, –µ—Å–ª–∏ —É –Ω–∏—Ö –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
detached ‚Üí exception —Å—Ä–∞–∑—É –∏–ª–∏ –Ω–∞ —ç—Ç–∞–ø–µ commit-–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
removed ‚Üí managed, –Ω–æ —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. 
```
---
</details>



<details>
        <summary>21. –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è remove –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?</summary>

## –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è remove –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?

## üóëÔ∏è –í–ª–∏—è–Ω–∏–µ `remove()` –Ω–∞ Entity –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

| **–°—Ç–∞—Ç—É—Å** `Entity` | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** `remove(entity)`                                                                                |
|---------------------|---------------------------------------------------------------------------------------------------------------|
| `Transient` üÜï      | üîÅ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è <br>‚ö† –ó–∞–≤–∏—Å–∏–º—ã–µ `Managed`-—Å—É—â–Ω–æ—Å—Ç–∏ —Å `CascadeType.REMOVE` –º–æ–≥—É—Ç –ø–µ—Ä–µ–π—Ç–∏ –≤ `Removed`           |
| `Managed` ‚úÖ         | ‚úÖ –°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `Removed` <br>üîÑ –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –ë–î –ø—Ä–∏ `commit()` <br>üß© –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è –∑–∞–≤–∏—Å–∏–º—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π |
| `Detached` üîå       | ‚ùå –ë—Ä–æ—Å–∞–µ—Ç—Å—è `IllegalArgumentException` <br>(_–ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∏–ª–∏ –Ω–∞ —ç—Ç–∞–ø–µ_ `commit`)                               |
| `Removed` üóë        | üîÅ –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ `remove()` –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è                                                                    |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
new ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –æ–¥–Ω–∞–∫–æ –∑–∞–≤–∏—Å–∏–º—ã–µ Entity –º–æ–≥—É—Ç –ø–æ–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ removed, –µ—Å–ª–∏ —É –Ω–∏—Ö –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –æ–Ω–∏ –∏–º–µ–ª–∏ —Å—Ç–∞—Ç—É—Å managed
managed ‚Üí removed –∏ –∑–∞–ø–∏—Å—å –æ–±—ä–µ–∫—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞ –ø—Ä–∏ commit-–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (—Ç–∞–∫–∂–µ –ø—Ä–æ–∏–∑–æ–π–¥—É—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ remove –¥–ª—è –≤—Å–µ—Ö –∫–∞—Å–∫–∞–¥–Ω–æ –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤)
detached ‚Üí exception —Å—Ä–∞–∑—É –∏–ª–∏ –Ω–∞ —ç—Ç–∞–ø–µ commit-–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
removed ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
```
---
</details>



<details>
        <summary>22. –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è merge –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?</summary>

## –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è `merge` –Ω–∞ `Entity` –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?

## üîÑ –í–ª–∏—è–Ω–∏–µ `merge()` –Ω–∞ `Entity` –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

| **–°—Ç–∞—Ç—É—Å** `Entity` | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** `merge(entity)`                                                                                           |
|---------------------|-------------------------------------------------------------------------------------------------------------------------|
| `Transient` üÜï      | ‚úÖ –°–æ–∑–¥–∞—ë—Ç—Å—è **–Ω–æ–≤—ã–π `Managed` –æ–±—ä–µ–∫—Ç** <br>üîÑ –î–∞–Ω–Ω—ã–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∏–∑ `Transient`-–æ–±—ä–µ–∫—Ç–∞ –≤ –Ω–æ–≤—ã–π, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É |
| `Managed` ‚úÖ         | üîÅ –û–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è <br>‚öô –ù–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `merge()` –∫ –∑–∞–≤–∏—Å–∏–º—ã–º Entity, –µ—Å–ª–∏ —É –Ω–∏—Ö –Ω–µ—Ç —Å—Ç–∞—Ç—É—Å–∞ `Managed`            |
| `Detached` üîå       | ‚úÖ –ò—â–µ—Ç—Å—è –∏–ª–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è `Managed` Entity —Å —Ç–µ–º –∂–µ ID <br>üîÑ –î–∞–Ω–Ω—ã–µ –∏–∑ `Detached` –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ `Managed` –æ–±—ä–µ–∫—Ç           |
| `Removed` üóë        | ‚ùå –ë—Ä–æ—Å–∞–µ—Ç—Å—è `IllegalArgumentException` <br>(–ª–∏–±–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –ª–∏–±–æ –ø—Ä–∏ `commit()`)                                       |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
new ‚Üí –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π managed entity, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—à–ª–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
managed ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –æ–¥–Ω–∞–∫–æ –æ–ø–µ—Ä–∞—Ü–∏—è merge —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–∞—Å–∫–∞–¥–Ω–æ –∑–∞–≤–∏—Å–∏–º—ã–µ Entity, –µ—Å–ª–∏ –∏—Ö —Å—Ç–∞—Ç—É—Å –Ω–µ managed
detached ‚Üí –ª–∏–±–æ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π managed entity —Å —Ç–µ–º –∂–µ –ø–µ—Ä–≤–∏—á–Ω—ã–º –∫–ª—é—á–æ–º, –ª–∏–±–æ —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π managed –≤ –∫–æ—Ç–æ—Ä—ã–π —Å–∫–æ–ø–∏—Ä—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ
removed ‚Üí exception —Å—Ä–∞–∑—É –∏–ª–∏ –Ω–∞ —ç—Ç–∞–ø–µ commit-–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

```
---
</details>



<details>
        <summary>23. –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è refresh –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?</summary>

## –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è `refresh` –Ω–∞ `Entity` –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?

## üîÑ –í–ª–∏—è–Ω–∏–µ `refresh()` –Ω–∞ Entity –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

| **–°—Ç–∞—Ç—É—Å** `Entity` | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** `refresh(entity)`                                                                               |
|---------------------|---------------------------------------------------------------------------------------------------------------|
| `Managed` ‚úÖ         | ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑ –ë–î <br>üîÑ –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞—Å–∫–∞–¥–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`CascadeType.REFRESH`) |
| `Transient` üÜï      | ‚ùå `IllegalArgumentException` ‚Äî –æ–±—ä–µ–∫—Ç –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –ë–î                                                        |
| `Detached` üîå       | ‚ùå `IllegalArgumentException` ‚Äî –æ–±—ä–µ–∫—Ç –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞                                                           |
| `Removed` üóë        | ‚ùå `IllegalArgumentException` ‚Äî –æ–±—ä–µ–∫—Ç –ø–æ–º–µ—á–µ–Ω –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ                                                     |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
managed ‚Üí –±—É–¥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω–æ–≥–æ Entity, —Ç–∞–∫–∂–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç refresh –≤—Å–µ—Ö –∫–∞—Å–∫–∞–¥–Ω–æ –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
new, removed, detached ‚Üí exception

```
---
</details>



<details>
        <summary>24. –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è detach –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?</summary>

## –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è `detach` –Ω–∞ `Entity` –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?

## üîå –í–ª–∏—è–Ω–∏–µ `detach()` –Ω–∞ Entity –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

| **–°—Ç–∞—Ç—É—Å** `Entity` | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** `detach(entity)`                                                |
|---------------------|-------------------------------------------------------------------------------|
| `Managed` ‚úÖ         | ‚úÖ –°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `Detached` <br>üîÑ –û–±—ä–µ–∫—Ç –±–æ–ª—å—à–µ –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è `EntityManager` |
| `Removed` üóë        | ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `Detached` <br>üîÅ –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è, –æ–±—ä–µ–∫—Ç –æ—Ç—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è     |
| `Transient` üÜï      | üîÅ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è ‚Äî –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞                 |
| `Detached` üîå       | üîÅ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è ‚Äî —É–∂–µ –æ—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω                                              |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
managed, removed ‚Üí detached.
new, detached ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
```
---
</details>



<details>
        <summary>25. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Basic?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Basic?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>26. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Column?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Column?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>27. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Access?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Access?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>28. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Cacheable?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Cacheable?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>29. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Cache?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Cache?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>30. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Embedded –∏ @Embeddable?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Embedded –∏ @Embeddable?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>31. –ö–∞–∫ —Å–º–∞–ø–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á?</summary>

## –ö–∞–∫ —Å–º–∞–ø–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>32. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è ID? –ö–∞–∫–∏–µ @GeneratedValue –≤—ã –∑–Ω–∞–µ—Ç–µ?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è ID? –ö–∞–∫–∏–µ @GeneratedValue –≤—ã –∑–Ω–∞–µ—Ç–µ?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>33. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @JoinColumn –∏ @JoinTable? –ì–¥–µ –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?</summary>

## –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @JoinColumn –∏ @JoinTable? –ì–¥–µ –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>34. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @OrderBy –∏ @OrderColumn, —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @OrderBy –∏ @OrderColumn, —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>35. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Transient?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Transient?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>36. –ö–∞–∫–∏–µ —à–µ—Å—Ç—å –≤–∏–¥–æ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (lock) –æ–ø–∏—Å–∞–Ω—ã –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ JPA (–∏–ª–∏ –∫–∞–∫–∏–µ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —É enum LockModeType –≤ JPA)?</summary>

## –ö–∞–∫–∏–µ —à–µ—Å—Ç—å –≤–∏–¥–æ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (lock) –æ–ø–∏—Å–∞–Ω—ã –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ JPA (–∏–ª–∏ –∫–∞–∫–∏–µ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —É enum LockModeType –≤ JPA)?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>37. –ö–∞–∫–∏–µ –¥–≤–∞ –≤–∏–¥–∞ –∫—ç—à–µ–π (cache) –≤—ã –∑–Ω–∞–µ—Ç–µ –≤ JPA –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –Ω—É–∂–Ω—ã?</summary>

## –ö–∞–∫–∏–µ –¥–≤–∞ –≤–∏–¥–∞ –∫—ç—à–µ–π (cache) –≤—ã –∑–Ω–∞–µ—Ç–µ –≤ JPA –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –Ω—É–∂–Ω—ã?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>38. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–µ—à–µ–º 2 —É—Ä–æ–≤–Ω—è?</summary>

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–µ—à–µ–º 2 —É—Ä–æ–≤–Ω—è?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>39. –ß—Ç–æ —Ç–∞–∫–æ–µ JPQL/HQL –∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç SQL?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ JPQL/HQL –∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç SQL?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>40. –ß—Ç–æ —Ç–∞–∫–æ–µ Criteria API –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ Criteria API –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>41. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º—É N+1 Select –∏ –ø—É—Ç—è—Ö –µ–µ —Ä–µ—à–µ–Ω–∏—è.</summary>

## –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º—É N+1 Select –∏ –ø—É—Ç—è—Ö –µ–µ —Ä–µ—à–µ–Ω–∏—è.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



<details>
        <summary>42. –ß—Ç–æ —Ç–∞–∫–æ–µ Entity Graph</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ Entity Graph

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>



---

<details>
        <summary>Head</summary>

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>

[JPA –∏ Hibernate –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö –∏ –æ—Ç–≤–µ—Ç–∞—Ö](https://habr.com/ru/articles/265061/)

