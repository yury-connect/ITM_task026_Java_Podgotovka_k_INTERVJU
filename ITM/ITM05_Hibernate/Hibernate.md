
# Hibernate 

---

<details>
        <summary>1. –ß—Ç–æ —Ç–∞–∫–æ–µ ORM? –ß—Ç–æ —Ç–∞–∫–æ–µ JPA? –ß—Ç–æ —Ç–∞–∫–æ–µ Hibernate?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ ORM? –ß—Ç–æ —Ç–∞–∫–æ–µ JPA? –ß—Ç–æ —Ç–∞–∫–æ–µ Hibernate?

### üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `ORM`, `JPA` –∏ `Hibernate`?
üìå **ORM** (_Object Relational Mapping_) ‚Äì –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö 
–º–µ–∂–¥—É **–æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º** (_Java_) –∏ **—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –ë–î**.

üìå **JPA** (_Java Persistence API_) ‚Äì —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è ORM –≤ _Java_, 
–æ–ø—Ä–µ–¥–µ–ª—è—é—â–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î, –Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—â–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.   
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è JPA –≤–æ–∑–º–æ–∂–Ω–∞ —á–µ—Ä–µ–∑ **–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã**, —Ç–∞–∫–∏–µ –∫–∞–∫ `Hibernate`, `EclipseLink`.

üìå **Hibernate** ‚Äì –ø–æ–ø—É–ª—è—Ä–Ω–∞—è ORM-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞, —Ä–µ–∞–ª–∏–∑—É—é—â–∞—è JPA –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è —É–¥–æ–±–Ω—ã–µ API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î.

![ORM](/ITM/ITM05_Hibernate/imgs/2025-04-04_15-15-35.png)

---
### üîπ JDBC (_Java DataBase Connectivity_)
üîó **JDBC** ‚Äì –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ –ë–î, 
–≤—Ö–æ–¥—è—â–∏–π –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É Java (_java.sql_).   
–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å _SQL_-–∑–∞–ø—Ä–æ—Å—ã –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ.

![JDBC](/ITM/ITM05_Hibernate/imgs/2025-04-04_15-41-41.png)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ JDBC
#### üîó –ù–∞—à –∫–æ–¥ ‚Üí JDBC ‚Üí –î—Ä–∞–π–≤–µ—Ä –ë–î ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Üí –û—Ç–≤–µ—Ç –æ—Ç –ë–î
#### –¢—Ä–∏ –∫–ª—é—á–µ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–∞ JDBC:
1. **Connection** ‚Äì –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã.


2. **Statement** ‚Äì –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
* **–í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
  * `Statement` ‚Äì –æ–±—ã—á–Ω—ã–π (`UPDATE`, `QUERY`).
  * `PreparedStatement` ‚Äì —à–∞–±–ª–æ–Ω –∑–∞–ø—Ä–æ—Å–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
  * `CallableStatement` ‚Äì –≤—ã–∑–æ–≤ —Ö—Ä–∞–Ω–∏–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä.


3. **ResultSet** ‚Äì —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã.

---
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ hibernate _(—Å–∂–∞—Ç–æ)_

![hibernate architecture`](/ITM/ITM05_Hibernate/imgs/2025-04-08_10-37-54.png)

### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Hibernate   
‚úî **SessionFactory** ‚Äì –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ `Session`, —Å–æ–∑–¥–∞–µ—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** –ø—Ä–∏ **–∑–∞–ø—É—Å–∫–µ** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.   
‚úî **Session** ‚Äì –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î, –≤—ã–ø–æ–ª–Ω—è–µ—Ç **DML**-–æ–ø–µ—Ä–∞—Ü–∏–∏, 
–ù–ï –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞, –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞. [_docs.jboss.org_](https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/Session.html?utm_source=chatgpt.com)   
‚úî **TransactionFactory** ‚Äì –°–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã `Transaction`, –æ–ø—Ä–µ–¥–µ–ª—è—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏.     
‚úî **Transaction** ‚Äì —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏, **–∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç JDBC –∏–ª–∏ JTA-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.   
‚úî **Query** ‚Äì –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `HQL`/`SQL`-–∑–∞–ø—Ä–æ—Å–æ–≤.   
‚úî **ConnectionProvider** ‚Äì –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è JDBC-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, 
–ø–æ–∑–≤–æ–ª—è—é—â–∞—è Hibernate –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.   

![–û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Hibernate](/ITM/ITM05_Hibernate/imgs/2025-04-04_15-44-50_(2).png) [src](https://www.decodejava.com/hibernate-architecture.htm)

---
### üîπ –í—ã–≤–æ–¥:   
`Hibernate` —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –ë–î, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —É–¥–æ–±–Ω—ã–π **ORM-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç**, –∞   
`JPA` **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä—É–µ—Ç** —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å.   
`JDBC` –∂–µ —è–≤–ª—è–µ—Ç—Å—è **–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º API**, —Ç—Ä–µ–±—É—é—â–∏–º –Ω–∞–ø–∏—Å–∞–Ω–∏—è SQL-–∫–æ–¥–∞ –≤—Ä—É—á–Ω—É—é.

![ORM —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç SQL –∑–∞–ø—Ä–æ—Å—ã.](/ITM/ITM05_Hibernate/imgs/2025-04-04_15-38-59.png)

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
ORM(Object Relational Mapping) - —ç—Ç–æ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö 
–∏–∑ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –≤ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –ë–î –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

JPA(Java Persistence API) - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–ª—è Java —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è, 
–æ–ø–∏—Å—ã–≤–∞—é—â–∞—è –ø—Ä–∏–Ω—Ü–∏–ø—ã ORM. JPA –Ω–µ —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–∞–º–∏, 
–∞ —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∫–∞–∫ –¥–æ–ª–∂–µ–Ω –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä 
(Hibernate, EclipseLink), —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç JPA (Plain Old Java Object - POJO)
 
Hibernate - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, —è–≤–ª—è—é—â–∞—è—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π —ç—Ç–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, 
–≤ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã JPA.


–í–∞–∂–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Hibernate:
Session - –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ –ë–î. 
–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è - –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å DML-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å—É—â–Ω–æ—Å—Ç–µ–π.

SessionFactory - —ç—Ç–æ —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ Session. 
–û–±—ã—á–Ω–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è 
–¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. 
–Ø–≤–ª—è–µ—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

Transaction - –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π –∫–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–π –æ–±—ä–µ–∫—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. 
–≠—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö JDBC —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. 
Session –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Transaction 
–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö, —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º API.

Query - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î. 
–ó–∞–ø—Ä–æ—Å—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ HQL –∏–ª–∏ –Ω–∞ SQL.       

JDBC - Java DataBase Connectivity ‚Äî API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ (–∑–∞–≤–∏—Å–∏–º—ã–º–∏) –ë–î. 
–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è Java –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π 
—Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –°–£–ë–î, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤ –≤–∏–¥–µ –ø–∞–∫–µ—Ç–∞ java.sql, –≤—Ö–æ–¥—è—â–µ–≥–æ –≤ —Å–æ—Å—Ç–∞–≤ Java SE. 
–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. 
–ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –±–∞–∑—ã. 
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ—É, —Å–æ–¥–µ—Ä–∂–∏—Ç: 
–Ω–∞–±–æ—Ä –∫–ª–∞—Å—Å–æ–≤ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î (–¥–ª—è –Ω–∞—Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ api) 
+ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.                     
```
---
</details>



<details>
        <summary>2. –ß—Ç–æ —Ç–∞–∫–æ–µ EntityManager?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ `EntityManager`?

üìå `EntityManager` ‚Äì —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å JPA, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç **–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º** 
–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –ë–î.

> –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
> * **—Å–æ–∑–¥–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏ —á—Ç–µ–Ω–∏–µ** —Å—É—â–Ω–æ—Å—Ç–µ–π;
> * —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏**;
> * –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ **–∑–∞–ø—Ä–æ—Å–æ–≤**;
> * –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å **–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∏ –≥—Ä–∞—Ñ–∞–º–∏** —Å—É—â–Ω–æ—Å—Ç–µ–π.

---
### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ `EntityManager`:
#### üß© –†–∞–±–æ—Ç–∞ —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏:
| –ú–µ—Ç–æ–¥       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                          |
|-------------|-----------------------------------------------------|
| `persist()` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—É—â–Ω–æ—Å—Ç–∏                           |
| `merge()`   | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—É—â–Ω–æ—Å—Ç–∏                    |
| `remove()`  | –£–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏                                   |
| `refresh()` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î                             |
| `detach()`  | –û—Ç–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞                   |
| `lock()`    | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—É—â–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏) |

#### üß† –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –ú–µ—Ç–æ–¥                      | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                            |
|----------------------------|---------------------------------------|
| `getTransaction()`         | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π                |
| `getEntityManagerFactory()`| –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ EM                  |
| `getCriteriaBuilder()`     | –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (Criteria API) |
| `getMetamodel()`           | –î–æ—Å—Ç—É–ø –∫ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏               |

#### üï∏ –†–∞–±–æ—Ç–∞ —Å –≥—Ä–∞—Ñ–∞–º–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π

| –ú–µ—Ç–æ–¥                 | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                       |
|-----------------------|----------------------------------|
| `createEntityGraph()` | –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π         |
| `getEntityGraph()`    | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞ |

#### ‚öô –û–±—â–∏–µ –º–µ—Ç–æ–¥—ã

| –ú–µ—Ç–æ–¥             | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ              |
|-------------------|-------------------------|
| `close()`         | –ó–∞–∫—Ä—ã—Ç—å `EntityManager` |
| `clear()`         | –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞       |
| `isOpen()`        | –ü—Ä–æ–≤–µ—Ä–∫–∞, –æ—Ç–∫—Ä—ã—Ç –ª–∏ EM  |
| `getProperties()` | –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ EM    |
| `setProperty()`   | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞     |

---
### üß† –ß—Ç–æ —Ç–∞–∫–æ–µ _–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç_?   
üîπ –≠—Ç–æ **–∫—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è**, –Ω–∞–±–æ—Ä —Å—É—â–Ω–æ—Å—Ç–µ–π, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.   
üîπ –û–Ω **—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** `EntityManager` –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.   
üîπ **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏:   
  * –∫–æ–º–º–∏—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏;
  * –≤—ã–∑–æ–≤–µ `flush()`.   

**‚ùó –í–∞–∂–Ω–æ**: `EntityManager` **–Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω** ‚Äì –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Å–≤–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä**.   

---
### üîπ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ JPA, JDBC –∏ Hibernate
| JPA                    | JDBC (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ) | Hibernate        |
|------------------------|-------------------|------------------|
| `EntityManagerFactory` | `DataSource`      | `SessionFactory` |
| `EntityManager`        | `Connection`      | `Session`        |
| `JPQL`                 | ‚Äî                 | `HQL`            |

###### _–£ JPQL –Ω–µ—Ç –ø—Ä—è–º–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∞ –≤ JDBC, —Ç–∞–∫ –∫–∞–∫ JDBC —Ä–∞–±–æ—Ç–∞–µ—Ç —Å SQL, <br>–∞ –Ω–µ —Å –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —è–∑—ã–∫–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî –ø–æ—ç—Ç–æ–º—É –≤ —è—á–µ–π–∫–µ —Å—Ç–æ–∏—Ç ¬´‚Äî¬ª._

EntityManager ‚Äì —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–π API JPA –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç—è–º–∏, 
–æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π —É–¥–æ–±–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –ë–î —á–µ—Ä–µ–∑ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
EntityManager –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å JPA, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º, 
–∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç API –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ Entity, 
–∞ —Ç–∞–∫–∂–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –¥—Ä—É–≥–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π JPA. 

 –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
 1) –û–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ Entity: persist (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ Entity), merge (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ), 
    remove (—É–¥–∞–ª–µ–Ω–∏—è), refresh (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö), detach (—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ JPA), 
    lock (–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ Entity –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –¥—Ä—É–≥–∏—Ö thread),
 2) –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: find (–ø–æ–∏—Å–∫ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ Entity), createQuery, createNamedQuery, 
    createNativeQuery, contains, createNamedStoredProcedureQuery, createStoredProcedureQuery
 3) –ü–æ–ª—É—á–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π JPA: getTransaction, getEntityManagerFactory, 
    getCriteriaBuilder, getMetamodel, getDelegate
 4) –†–∞–±–æ—Ç–∞ —Å EntityGraph: createEntityGraph, getEntityGraph
 5) –û–±—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ EntityManager –∏–ª–∏ –≤—Å–µ–º–∏ Entities: close, clear, isOpen, getProperties, setProperty.
 
 –û–±—ä–µ–∫—Ç—ã EntityManager –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ 
 –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä EntityManager, –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º –∏ –∑–∞–∫—Ä—ã—Ç—å –µ–≥–æ –≤ –∫–æ–Ω—Ü–µ.
 
 –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç - —ç—Ç–æ –Ω–∞–±–æ—Ä —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ —Å—É—â–Ω–æ—Å—Ç–µ–π, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑ –ë–î 
 –∏–ª–∏ —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö. 
 –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —è–≤–ª—è–µ—Ç—Å—è —Å–≤–æ–µ–≥–æ —Ä–æ–¥–∞ –∫—ç—à–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–º–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ - —ç—Ç–æ –∏ –µ—Å—Ç—å –∫—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è. 
 –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º. 
 EntityManager –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Å–¥–µ–ª–∞–Ω–Ω—ã–µ –≤ –µ–≥–æ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, 
 –≤ –º–æ–º–µ–Ω—Ç –∫–æ–º–º–∏—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ª–∏–±–æ –ø—Ä–∏ —è–≤–Ω–æ–º –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ flush().
```
---
</details>



<details>
        <summary>3. –ö–∞–∫–∏–º —É—Å–ª–æ–≤–∏—è–º –¥–æ–ª–∂–µ–Ω —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å –∫–ª–∞—Å—Å —á—Ç–æ–±—ã —è–≤–ª—è—Ç—å—Å—è Entity?</summary>

## –ö–∞–∫–∏–º —É—Å–ª–æ–≤–∏—è–º –¥–æ–ª–∂–µ–Ω —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å –∫–ª–∞—Å—Å —á—Ç–æ–±—ã —è–≤–ª—è—Ç—å—Å—è `Entity`?

**Entity** ‚Äî —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π —Ö—Ä–∞–Ω–∏–º—ã–π –æ–±—ä–µ–∫—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –ë–î.  
–û–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è JPA (_–Ω–∞–ø—Ä–∏–º–µ—Ä,_ `Hibernate`) –∏ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

---
### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ `Entity`-–∫–ª–∞—Å—Å—É

| ‚Ññ  | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ                                                              |
|----|-------------------------------------------------------------------------|
| 1  | –ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Entity` –∏–ª–∏ –æ–ø–∏—Å–∞–Ω –≤ `XML`-—Ñ–∞–π–ª–µ |
| 2  | –î–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å `public` –∏–ª–∏ `protected` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤        |
| 3  | –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∫–ª–∞—Å—Å–æ–º –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è** (*top-level class*)             |
| 4  | –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å `enum` –∏–ª–∏ `interface`                                    |
| 5  | –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å `final class`                                             |
| 6  | –ù–µ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `final` –ø–æ–ª—è –∏–ª–∏ –º–µ—Ç–æ–¥—ã, —É—á–∞—Å—Ç–≤—É—é—â–∏–µ –≤ –º–∞–ø–ø–∏–Ω–≥–µ     |
| 7  | –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —É–¥–∞–ª—ë–Ω–Ω–æ ‚Äì –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å `Serializable`   |
| 8  | –ü–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω—ã**, –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã      |
| 9  | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å **–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á** (`@Id`)                 |

---

### üí° –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –ø—É–Ω–∫—Ç—É:

- üîñ **–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Entity`** ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è JPA.
- üß± **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤** ‚Äî –Ω—É–∂–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é.
- üß≠ **–ö–ª–∞—Å—Å –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è** ‚Äî –≤–ª–æ–∂–µ–Ω–Ω—ã–µ (`static`) –∏–ª–∏ –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã –Ω–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è.
- üö´ **–ù–µ—Ç `final`, `enum`, `interface`** ‚Äî Entity –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–∑–º–µ–Ω—è–µ–º–æ–π –∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π.
- üíæ **Serializable** ‚Äî –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —É–¥–∞–ª—ë–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.
- üõ°Ô∏è **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è** ‚Äî –∑–∞—â–∏—Ç–∞ –ø–æ–ª–µ–π: –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª–∞—Å—Å–æ–≤ –∑–∞–ø—Ä–µ—â—ë–Ω.
- üîë **–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á** ‚Äî –±–µ–∑ –Ω–µ–≥–æ Entity –Ω–µ —Å–º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –≤ –ë–î.

---

### üìå –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: –∫–æ—Ä–æ—Ç–∫–æ –æ –≥–ª–∞–≤–Ω–æ–º

**–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (_Persistence_)** ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Ö —Å–æ–∑–¥–∞–ª.

**Persistence Context** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º JPA, –∫–æ—Ç–æ—Ä—ã–π:
- —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å—É—â–Ω–æ—Å—Ç–µ–π,
- –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ (dirty checking),
- —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö,
- —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∫—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è.

---

### üí¨ –í—ã–≤–æ–¥:

**Entity** ‚Äî —ç—Ç–æ **POJO**-–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π:

‚úî –ê–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω `@Entity`  
‚úî –°–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á  
‚úî –ò–º–µ–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤  
‚úî –ù–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∏ –Ω–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–π  
‚úî –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –ø–æ–ª—è  
‚úî –ú–æ–∂–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

> –ò–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ —É—Å–ª–æ–≤–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç JPA –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ–±—ä–µ–∫—Ç–æ–º –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. üöÄ

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Entity —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π —Ö—Ä–∞–Ω–∏–º—ã–π –æ–±—ä–µ–∫—Ç –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∏. 
–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —ç—Ç–æ entity-–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ç–∞–∫ –∂–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã 
–∏–ª–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –µntity.

1) Entity –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π Entity –∏–ª–∏ –æ–ø–∏—Å–∞–Ω –≤ XML —Ñ–∞–π–ª–µ
2) Entity –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å public –∏–ª–∏ protected –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ 
    (–æ–Ω —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏) - –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö 
    –∏–∑ –ë–î –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–∑ –Ω–∏—Ö –æ–±—ä–µ–∫—Ç–∞ —Å—É—â–Ω–æ—Å—Ç–∏, 
    Hibernate –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å —ç—Ç–æ—Ç —Å–∞–º—ã–π –æ–±—ä–µ–∫—Ç —Å—É—â–Ω–æ—Å—Ç–∏,
3) Entity –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–ª–∞—Å—Å–æ–º –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è (top-level class),
4) Entity –∫–ª–∞—Å—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å enum –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º,
5) Entity –∫–ª–∞—Å—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–º –∫–ª–∞—Å—Å–æ–º (final class),
6) Entity –∫–ª–∞—Å—Å –Ω–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–ª–∏ –º–µ—Ç–æ–¥—ã, –µ—Å–ª–∏ –æ–Ω–∏ —É—á–∞—Å—Ç–≤—É—é—Ç 
    –≤ –º–∞–ø–ø–∏–Ω–≥–µ (persistent final methods or persistent final instance variables),
7) –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç Entity –∫–ª–∞—Å—Å–∞ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç 
    (detached object), –Ω–∞–ø—Ä–∏–º–µ—Ä —á–µ—Ä–µ–∑ —É–¥–∞–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (through a remote interface), 
    –æ–Ω —Ç–∞–∫ –∂–µ –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å Serializable –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç–∞—é—Ç—Å—è 
    –∏–∑ –±–∞–∑—ã –º–æ–≥–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –∫—ç—à–µ).
8) –ü–æ–ª—è Entity –∫–ª–∞—Å—Å –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞–ø—Ä—è–º—É—é –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–∞–º —Å–∞–º–æ–≥–æ Entity –∫–ª–∞—Å—Å–∞ 
    –∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞–ø—Ä—è–º—É—é –¥–æ—Å—Ç—É–ø–Ω—ã –¥—Ä—É–≥–∏–º –∫–ª–∞—Å—Å–∞–º, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º —ç—Ç–æ—Ç Entity. 
    –¢–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫ –º–µ—Ç–æ–¥–∞–º (getter/setter –º–µ—Ç–æ–¥–∞–º 
    –∏–ª–∏ –¥—Ä—É–≥–∏–º –º–µ—Ç–æ–¥–∞–º –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ Entity –∫–ª–∞—Å—Å–µ),
9) Entity –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —Ç–æ –µ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç –∏–ª–∏ –≥—Ä—É–ø–ø—É –∞—Ç—Ä–∏–±—É—Ç–æ–≤ 
    –∫–æ—Ç–æ—Ä—ã–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∑–∞–ø–∏—Å—å —ç—Ç–æ–≥–æ Entity –∫–ª–∞—Å—Å–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö


–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ–ª—å—à–µ, 
    —á–µ–º –ø—Ä–æ—Ü–µ—Å—Å, —Å–æ–∑–¥–∞–≤—à–∏–π –µ–≥–æ. 

Persistence context ‚Äî —ç—Ç–æ —Å—Ä–µ–¥–∞ –≤ –∫–æ—Ç–æ—Ä–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —Å—É—â–Ω–æ—Å—Ç–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è 
    —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã

Entity (–°—É—â–Ω–æ—Å—Ç—å) ‚Äî POJO-–∫–ª–∞—Å—Å, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –ë–î ( –Ω–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è 
    –ø–æ–º–µ—á–µ–Ω–Ω—ã–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Entity, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, –ø—É—Å—Ç–æ–π public 
        –∏–ª–∏ protected –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∏ –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –¥—Ä—É–≥–∏—Ö 
        –∫–ª–∞—Å—Å–æ–≤ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ getter/setter (–∏–ª–∏ –¥—Ä—É–≥–∏–º –º–µ—Ç–æ–¥–∞–º –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∏) 
```
---
</details>



<details>
        <summary>4. –ú–æ–∂–µ—Ç –ª–∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –±—ã—Ç—å Entity?</summary>

## –ú–æ–∂–µ—Ç –ª–∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –±—ã—Ç—å Entity?

‚úÖ **–î–∞, –º–æ–∂–µ—Ç.**

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω `@Entity` –∏ –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç **–≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ã—á–Ω–æ–≥–æ Entity-–∫–ª–∞—Å—Å–∞**.   
–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ ‚Äî **–Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞** –Ω–∞–ø—Ä—è–º—É—é.

---

### üìå –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- üîí **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ—Å—Ç—å**: –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç –Ω–∞–ø—Ä—è–º—É—é.
- üì¶ **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –¥–ª—è –¥—Ä—É–≥–∏—Ö `@Entity`, 
—á—Ç–æ–±—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –ø–æ–ª—è, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ –ª–æ–≥–∏–∫—É.
- üîÑ **–û–±—â–∏–µ –ø–æ–ª—è**: –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ `id`, `createdAt`, `updatedAt`, –∏ –¥—Ä—É–≥–∏–µ –æ–±—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞.

---

### üõ† –ü—Ä–∏–º–µ—Ä: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@MappedSuperclass`

```java
@MappedSuperclass
public abstract class BaseEntity {
@Id
@GeneratedValue(strategy = GenerationType.IDENTITY)
private Long id;

    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;

    // –ì–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã
}

@Entity
public class User extends BaseEntity {
private String username;
private String email;
}
```

#### üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
* –ö–æ–≥–¥–∞ **–Ω–µ—Å–∫–æ–ª—å–∫–æ Entity-–∫–ª–∞—Å—Å–æ–≤** –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `id`, `createdAt`, `updatedAt`).
* –ß—Ç–æ–±—ã **–∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞** –∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—â—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.
* –î–ª—è **—É–¥–æ–±–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å—É—â–Ω–æ—Å—Ç–µ–π.

---
### ‚úÖ –í—ã–≤–æ–¥
–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π `@Entity` –∏–ª–∏ `@MappedSuperclass` ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π:

‚úîÔ∏è –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ `Entity`
‚úîÔ∏è –ù–µ —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –Ω–∞–ø—Ä—è–º—É—é
‚úîÔ∏è –ü–µ—Ä–µ–¥–∞—ë—Ç –ø–æ–ª—è –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø–æ—Ç–æ–º–∫–∞–º

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ú–æ–∂–µ—Ç, –ø—Ä–∏ —ç—Ç–æ–º –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ Entity, 
–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω—ã—Ö Entity –∫–ª–∞—Å—Å–æ–≤ —Ç–æ–ª—å–∫–æ —Ç–µ–º, 
—á—Ç–æ –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞. 

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ Entity –∫–ª–∞—Å—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏, 
–∫–æ–≥–¥–∞ –∏—Ö –ø–æ—Ç–æ–º–∫–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç –ø–æ–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
```
---
</details>



<details>
        <summary>5. –ú–æ–∂–µ—Ç –ª–∏ Entity –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –Ω–µ Entity –∫–ª–∞—Å—Å–æ–≤ (non-entity classes)?</summary>

## –ú–æ–∂–µ—Ç –ª–∏ `Entity` –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –Ω–µ `Entity` –∫–ª–∞—Å—Å–æ–≤ (_non-entity classes_)?
### ‚úÖ **–î–∞, –º–æ–∂–µ—Ç**, –Ω–æ —Å —É—á–µ—Ç–æ–º —Å–ª–µ–¥—É—é—â–∏—Ö —É—Å–ª–æ–≤–∏–π:

---
### üîπ 1. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å ‚Äî –æ–±—ã—á–Ω—ã–π (_–±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π_)

- **–ù–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω** `@Entity` –∏–ª–∏ `@MappedSuperclass`
- ‚ùå **–ü–æ–ª—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ë–î**

üìå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–≥–∏–∫–∏, —É—Ç–∏–ª–∏—Ç, –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤.

---
### üîπ 2. –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω `@MappedSuperclass`

- ‚úÖ **–ü–æ–ª—è –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è** –∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É –ë–î –¥–æ—á–µ—Ä–Ω–µ–≥–æ `@Entity`
- üëå –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±—â–∏—Ö –ø–æ–ª–µ–π (_–Ω–∞–ø—Ä–∏–º–µ—Ä, `id`, `createdAt` –∏ –¥—Ä._)

---
### üìå –í—ã–≤–æ–¥

| –£—Å–ª–æ–≤–∏–µ                        | –ü–æ–ª—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î?  | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                        |
|--------------------------------|-------------------------|------------------------------------|
| –†–æ–¥–∏—Ç–µ–ª—å –±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π         | ‚ùå –ù–µ—Ç                   | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–≥–∏–∫–∏     |
| –†–æ–¥–∏—Ç–µ–ª—å —Å `@MappedSuperclass` | ‚úÖ –î–∞                    | –ü–æ–ª—è –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É –ø–æ—Ç–æ–º–∫–∞  |
| –†–æ–¥–∏—Ç–µ–ª—å —Å `@Entity`           | ‚ö†Ô∏è –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è     | –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –º–∞–ø–ø–∏–Ω–≥–æ–º |

---
üí° **–°–æ–≤–µ—Ç**:  
–ï—Å–ª–∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–ª—è –ø–æ–ø–∞–ª–∏ –≤ –ë–î ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `@MappedSuperclass`.  
–ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–∏—à–∏ –æ–±—ã—á–Ω—ã–π Java-–∫–ª–∞—Å—Å –±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π.

> ORM –ª—é–±–∏—Ç –ø–æ—Ä—è–¥–æ–∫, –∞ –ø–æ—Ä—è–¥–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è üòé

---
```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ú–æ–∂–µ—Ç
```
---
</details>



<details>
        <summary>6. –ú–æ–∂–µ—Ç –ª–∏ Entity –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö Entity –∫–ª–∞—Å—Å–æ–≤?</summary>

## –ú–æ–∂–µ—Ç –ª–∏ `Entity` –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö `Entity` –∫–ª–∞—Å—Å–æ–≤?

### ‚úÖ –î–∞, –º–æ–∂–µ—Ç.  
–ù–æ —Å —ç—Ç–∏–º —Å–≤—è–∑–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ JPA/Hibernate**, –∏ —Ç—É—Ç –≤–∞–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é.

---

### üß¨ –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ JPA-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (`@Inheritance`)

| –°—Ç—Ä–∞—Ç–µ–≥–∏—è                       | –û–ø–∏—Å–∞–Ω–∏–µ                                                                |
|---------------------------------|-------------------------------------------------------------------------|
| `SINGLE_TABLE` *(–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)* | –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ ‚Äî –≤ **–æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ**, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `@DiscriminatorColumn` |
| `JOINED`                        | –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî –≤ —Å–≤–æ–µ–π —Ç–∞–±–ª–∏—Ü–µ, —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è –ø–æ –≤–Ω–µ—à–Ω–µ–º—É –∫–ª—é—á—É        |
| `TABLE_PER_CLASS`               | –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî —Å–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞, **–±–µ–∑ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è**                     |

---
### üõ†Ô∏è –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏

- `@Inheritance(strategy = ...)` ‚Äî –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º `@Entity` –∫–ª–∞—Å—Å–µ
- `@DiscriminatorColumn` ‚Äî (–¥–ª—è `SINGLE_TABLE`) –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤
- `@DiscriminatorValue` ‚Äî –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
- `@PrimaryKeyJoinColumn` ‚Äî (–¥–ª—è `JOINED`) —Å–≤—è–∑—ã–≤–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è –∏ –ø–æ—Ç–æ–º–∫–∞

---
### üìå –í—ã–≤–æ–¥

| –ú–æ–∂–Ω–æ –ª–∏? | –£—Å–ª–æ–≤–∏–µ                        | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                            |
|-----------|--------------------------------|--------------------------------------------------------|
| ‚úÖ –î–∞      | –û–±–∞ –∫–ª–∞—Å—Å–∞ `@Entity`           | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–π `@Inheritance` –≤ —Ä–æ–¥–∏—Ç–µ–ª–µ         |
| ‚ö† –í–∞–∂–Ω–æ   | –ù–∞—Å—Ç—Ä–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è | –ò–Ω–∞—á–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –º–∞–ø–ø–∏–Ω–≥–µ –∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü |

---

üí° **–°–æ–≤–µ—Ç**:  
–ò—Å–ø–æ–ª—å–∑—É–π `JOINED` –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, `SINGLE_TABLE` ‚Äî –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏ –±—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è.  
–ê –≤–æ—Ç `TABLE_PER_CLASS` ‚Äî —Ä–µ–¥–∫–æ, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç–µ–±–µ **–æ—á–µ–Ω—å** –Ω—É–∂–Ω–æ.

> –£ Entity-–∫–ª–∞—Å—Å–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–æ–¥–æ—Å–ª–æ–≤–Ω–∞—è, –Ω–æ —É –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚Äî —Å–≤–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä üòâ
---

---
## –ü–†–ò–ú–ï–†–´:

---
### ‚òù –í—Å–µ –∫–ª–∞—Å—Å—ã ‚Äî –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞

```java
@Entity
@Inheritance(strategy = InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name = "type")
public abstract class Animal {
    @Id
    private Long id;
    private String name;
}

@Entity
@DiscriminatorValue("Dog")
public class Dog extends Animal {
    private String breed;
}

@Entity
@DiscriminatorValue("Cat")
public class Cat extends Animal {
    private String color;
}
```

üóÉÔ∏è **–¢–∞–±–ª–∏—Ü–∞ `Animal` –≤ –ë–î:**

| id | name  | type | breed | color  |
|----|-------|------|-------|--------|
| 1  | –ë–æ–±–∏–∫ | Dog  | –•–∞—Å–∫–∏ | null   |
| 2  | –ú—É—Ä–∫–∞ | Cat  | null  | –†—ã–∂–∏–π  |

‚úÖ –ü—Ä–æ—Å—Ç–∞ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
‚ùå –ú–Ω–æ–≥–æ `null` –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö, –µ—Å–ª–∏ –º–Ω–æ–≥–æ –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤

---
### üí° `@Inheritance(strategy = InheritanceType.JOINED)` <br> ‚òù –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî —Å–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞, —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–ª—é—á–∞–º–∏

```java
@Entity
@Inheritance(strategy = InheritanceType.JOINED)
public abstract class Animal {
    @Id
    private Long id;
    private String name;
}

@Entity
public class Dog extends Animal {
    private String breed;
}

@Entity
public class Cat extends Animal {
    private String color;
}
```

üóÉÔ∏è **–¢–∞–±–ª–∏—Ü—ã –≤ –ë–î:**
**Animal**
markdown
Copy code
üóÉÔ∏è **–¢–∞–±–ª–∏—Ü—ã –≤ –ë–î:**

**Animal:**

| id | name  |
|----|-------|
| 1  | –ë–æ–±–∏–∫ |
| 2  | –ú—É—Ä–∫–∞ |

**Dog:**

| id | breed |
|----|-------|
| 1  | –•–∞—Å–∫–∏ |

**Cat:**

| id | color  |
|----|--------|
| 2  | –†—ã–∂–∏–π  |

‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
‚ùå –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ `JOIN`-–∑–∞–ø—Ä–æ—Å—ã

---
### üí° @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS) <br>‚òù –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî —Å–≤–æ—è —Ç–∞–±–ª–∏—Ü–∞, –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è

```java
@Entity
@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)
public abstract class Animal {
    @Id
    private Long id;
    private String name;
}

@Entity
public class Dog extends Animal {
    private String breed;
}

@Entity
public class Cat extends Animal {
    private String color;
}
```

üóÉÔ∏è **–¢–∞–±–ª–∏—Ü–∞ `Dog`:**

| id | name  | breed |
|----|-------|-------|
| 1  | –ë–æ–±–∏–∫ | –•–∞—Å–∫–∏ |

üóÉÔ∏è **–¢–∞–±–ª–∏—Ü–∞ `Cat`:**

| id | name  | color |
|----|-------|-------|
| 2  | –ú—É—Ä–∫–∞ | –†—ã–∂–∏–π |

‚úÖ –ù–µ—Ç `null`, –∫–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∫–æ–º–ø–∞–∫—Ç–Ω–∞  
‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JPQL –ø–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –∫–ª–∞—Å—Å—É `Animal`, –Ω—É–∂–µ–Ω `UNION ALL` –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –≤—Å–µ—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö

---
üî• **–†–µ–∑—é–º–µ –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º**

| –°—Ç—Ä–∞—Ç–µ–≥–∏—è           | –¢–∞–±–ª–∏—Ü | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ü—Ä–æ—Å—Ç–æ—Ç–∞   | –ü–ª—é—Å—ã                               | –ú–∏–Ω—É—Å—ã                            |
|---------------------|--------|--------------------|------------|-------------------------------------|-----------------------------------|
| **SINGLE_TABLE**    | 1      | üî• –í—ã—Å–æ–∫–∞—è         | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è  | –õ–µ–≥–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å, –º–µ–Ω—å—à–µ `JOIN`'–æ–≤   | –ú–Ω–æ–≥–æ `null`, –Ω–µ—á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å     |
| **JOINED**          | N      | üê¢ –°—Ä–µ–¥–Ω—è—è         | ‚ö† –°–ª–æ–∂–Ω–µ–µ  | –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —á–∏—Å—Ç–∞—è –º–æ–¥–µ–ª—å | `JOIN`-—ã –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö             |
| **TABLE_PER_CLASS** | N      | üê¢üê¢ –ù–∏–∑–∫–∞—è        | ‚ö†‚ö† –°–ª–æ–∂–Ω–∞—è | –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã                 | –ù–µ—É–¥–æ–±–Ω–∞ –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |

---

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ú–æ–∂–µ—Ç
```
---
</details>



<details>
        <summary>7. –ú–æ–∂–µ—Ç –ª–∏ –Ω–µ Entity –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç Entity –∫–ª–∞—Å—Å–∞?</summary>

## –ú–æ–∂–µ—Ç –ª–∏ –Ω–µ Entity –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç Entity –∫–ª–∞—Å—Å–∞?

‚úÖ –û—Ç–≤–µ—Ç:
–î–∞, **–Ω–µ-Entity** –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç **Entity**-–∫–ª–∞—Å—Å–∞.

üìå **–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

| –ê—Å–ø–µ–∫—Ç                          | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                    |
|---------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**                | –†–∞–∑—Ä–µ—à–µ–Ω–æ: –æ–±—ã—á–Ω—ã–π (_–Ω–µ-–∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_ `@Entity`) –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å `@Entity`-–∫–ª–∞—Å—Å.                                   |
| **Persistable (_—Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã–π_)** | –¢–∞–∫–æ–π –ø–æ–¥–∫–ª–∞—Å—Å –Ω–µ –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å—Å—è `Hibernate`, –µ—Å–ª–∏ —Å–∞–º –Ω–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω `@Entity` –∏–ª–∏ `@MappedSuperclass`.                 |
| **–ú–∞–ø–ø–∏–Ω–≥ –≤ –ë–î**                | –¢–æ–ª—å–∫–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π `@Entity` –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂—ë–Ω –≤ –ë–î. –ü–æ–¥–∫–ª–∞—Å—Å –Ω–µ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∏–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω ORM.                            |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**               | –£–º–µ—Å—Ç–Ω–æ, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –æ–±—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (_–º–µ—Ç–æ–¥—ã, –ø–æ–ª—è_), –Ω–æ —Å–∞–º –∫–ª–∞—Å—Å **–Ω–µ –¥–æ–ª–∂–µ–Ω —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å** –≤ ORM.                        |
| **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**                 | `Hibernate` **–Ω–µ –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å –æ –ø–æ–¥–∫–ª–∞—Å—Å–µ**, –µ—Å–ª–∏ –æ–Ω –Ω–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω ‚Äî –Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∞, –Ω–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∞–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.  |

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
`Hibernate` —É–ø—Ä–∞–≤–ª—è–µ—Ç **—Ç–æ–ª—å–∫–æ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏** `@Entity` / `@MappedSuperclass` –∫–ª–∞—Å—Å–∞–º–∏.

**–ù–µ** -`Entity` –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π/**–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π** –∫–ª–∞—Å—Å, –Ω–æ –Ω–µ –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å.

---
### –ö–†–ê–¢–ö–û:   
#### ‚ùì –ú–æ–∂–µ—Ç –ª–∏ –Ω–µ-Entity –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å Entity?   
‚úÖ **–î–∞, –º–æ–∂–µ—Ç**.   
‚ö†Ô∏è **–ù–æ**:   
* –¢–∞–∫–æ–π –∫–ª–∞—Å—Å **–Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** `Hibernate`.
* **–ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** –∏–∑ –ë–î.
* –ù–∞—Å–ª–µ–¥—É–µ—Ç –ø–æ–ª—è/–º–µ—Ç–æ–¥—ã, –Ω–æ **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç—å—é**, –µ—Å–ª–∏ **–Ω–µ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω** `@Entity` –∏–ª–∏ `@MappedSuperclass`.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ú–æ–∂–µ—Ç
```
---
</details>



<details>
        <summary>8. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π (Embeddable) –∫–ª–∞—Å—Å? –ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è JPA —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º (Embeddable) –∫–ª–∞—Å—Å–∞–º?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π (`Embeddable`) –∫–ª–∞—Å—Å? <br>–ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è JPA —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º (`Embeddable`) –∫–ª–∞—Å—Å–∞–º?

### üß© –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
**Embeddable** ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å, **–Ω–µ —è–≤–ª—è—é—â–∏–π—Å—è** `Entity`, –Ω–æ **–≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π** –≤ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ `Entity`-–∫–ª–∞—Å—Å–æ–≤.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –æ–±—â–∏—Ö –ø–æ–ª–µ–π**, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î.

üìå –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è JPA:

| **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ** 	                                                 | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                   |
|------------------------------------------------------------------|--------------------------------------------------------------------------------|
| `@Embeddable`                                                    | –ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω —ç—Ç–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π (_–∏–ª–∏ –∑–∞–¥–∞–Ω –≤_ `XML`).               |
| –ë–µ–∑ `@Id`                                                        | –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞.                                                  |
| –í `Entity` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `@Embedded`                        | –ü–æ–ª–µ –≤ `Entity` –ø–æ–º–µ—á–∞–µ—Ç—Å—è —ç—Ç–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π.                                    |
| **–ù–µ–ª—å–∑—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å**                                           | `Embeddable` **–Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º** –∫–ª–∞—Å—Å–æ–º.                           |
| –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å                                         | –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ `@Embeddable` –∫–ª–∞—Å—Å—ã.                                   |
| –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `Map` –∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö                          | –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –∫–ª—é—á –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ.                                               |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π `@AttributeOverride` –∏ `@AssociationOverrid` | –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ –∏ —Å–≤—è–∑–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏. |

### üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
* –û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä `Embeddable` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è **–≤ —Ä–∞–∑–Ω—ã—Ö Entity**.
* –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ‚Äî **–æ—Ç–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π**.
* –ú–æ–∂–Ω–æ **–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫** –∏ **–∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏**, –µ—Å–ª–∏ `Embeddable` —Å–æ–¥–µ—Ä–∂–∏—Ç `Entity`-—Å—Å—ã–ª–∫–∏.

---
## –û—á–µ–Ω—å –∫—Ä–∞—Ç–∫–æ:
`@Embeddable` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å **–±–µ–∑ —Å–≤–æ–µ–π —Ç–∞–±–ª–∏—Ü—ã**, –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `@Entity`.

### üìå –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

| üîß –ü—Ä–∞–≤–∏–ª–æ                 | ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ                                      |
|----------------------------|-------------------------------------------------|
| @Embeddable                | 	–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è (–∏–ª–∏ XML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)  |
| –ë–µ–∑ @Id                    | 	–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –Ω–µ –Ω—É–∂–µ–Ω                        | 
| –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å @Embedded   | 	–í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ @Entity                         |
| ‚ùå –ë–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è         | 	–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Ä–æ–¥–∏—Ç–µ–ª—è               |
| ‚úÖ –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å              | 	–ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ @Embeddable             |
| ‚úÖ –ö–æ–ª–ª–µ–∫—Ü–∏–∏ / Map          | 	–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å–ø–∏—Å–∫–∞—Ö –∏ —Å–ª–æ–≤–∞—Ä—è—Ö        |
| üîÑ –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ | 	–ß–µ—Ä–µ–∑ @AttributeOverride, @AssociationOverride |

---

---
## üßæ –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º –¥–ª—è `@Embeddable` (_JPA / Hibernate_)

| –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è               | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                               |
|-------------------------|--------------------------------------------------------------------------|
| `@Embeddable`           | –û–±–æ–∑–Ω–∞—á–∞–µ—Ç –∫–ª–∞—Å—Å –∫–∞–∫ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π. –ù–µ —Å–æ–∑–¥–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã.         |
| `@Embedded`             | –í—Å—Ç–∞–≤–ª—è–µ—Ç `@Embeddable` –≤ `@Entity`.                                     |
| `@AttributeOverride`    | –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ **–æ–¥–Ω–æ–≥–æ –ø–æ–ª—è** –ø—Ä–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–∏.                 |
| `@AttributeOverrides`   | –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ `@AttributeOverride`.                               |
| `@AssociationOverride`  | –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@ManyToOne`) –≤–Ω—É—Ç—Ä–∏ `@Embeddable`. |
| `@AssociationOverrides` | –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ `@AssociationOverride`.                             |
| `@EmbeddedId`           | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ `@Embeddable` ‚Äî —Å–æ—Å—Ç–∞–≤–Ω–æ–π –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á (`@Id`).     |


---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Embeddable –∫–ª–∞—Å—Å - —ç—Ç–æ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∞–º –ø–æ —Å–µ–±–µ, 
–∞ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Entity-–∫–ª–∞—Å—Å–æ–≤.
Entity-–∫–ª–∞—Å—Å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –æ–¥–∏–Ω–æ—á–Ω—ã–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∫–ª–∞—Å—Å—ã, 
—Ç–∞–∫ –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ç–∞–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤. 
–¢–∞–∫–∂–µ —Ç–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –∫–ª—é—á–∏ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è map. 
–í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥—ã–π –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–º—É 
–æ–±—ä–µ–∫—Ç—É Entity-–∫–ª–∞—Å—Å–∞ –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö 
–º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ Entity-–∫–ª–∞—Å—Å–æ–≤ (—Ç–æ –µ—Å—Ç—å —Ç–∞–∫–æ–π –∫–ª–∞—Å—Å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è 
–æ–±—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤). 
–í —Ü–µ–ª–æ–º, —Ç–∞–∫–æ–π –∫–ª–∞—Å—Å —Å–ª—É–∂–∏—Ç –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–Ω–æ—Å–∏—Ç—å 
–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Entity.

1. –¢–∞–∫–∏–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å —Ç–µ–º –∂–µ –ø—Ä–∞–≤–∏–ª–∞–º —á—Ç–æ Entity –∫–ª–∞—Å—Å—ã, 
    –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ —á—Ç–æ –æ–Ω–∏ –Ω–µ –æ–±—è–∑–∞–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á 
    –∏ –±—ã—Ç—å –æ—Ç–º–µ—á–µ–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π Entity
    
2. Embeddable –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Embeddable 
    –∏–ª–∏ –æ–ø–∏—Å–∞–Ω –≤ XML —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ JPA. –ê –ø–æ–ª–µ —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤ Entity 
    –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Embedded. –û—Ç Embeddable –∫–ª–∞—Å—Å–∞ –Ω–µ–ª—å–∑—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è - 
    –∫–æ–Ω–µ—á–Ω—ã–π –∫–ª–∞—Å—Å –°—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—Å–ª–∏ –∫–ª–∞—Å—Å –∫–æ–Ω–µ—á–Ω—ã–π
    
Embeddable-–∫–ª–∞—Å—Å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–æ–π –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å. 
Embeddable Person –º–æ–∂–µ—Ç –∏–º–µ–Ω—Ç –ø–æ–ª–µ –∫–ª–∞—Å—Å–∞ Adress - —Ç–æ–≥–¥–∞ –≤ Student –ø–∏—à–µ–º adress.–∏–º—è–ø–æ–ª—è.

–í—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ Entity 
–∏–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ Entity, –µ—Å–ª–∏ —Ç–∞–∫–æ–π –∫–ª–∞—Å—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 
–∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –∏–ª–∏ –∫–ª—é—á map'—ã. 
–¢–∞–∫ –∫–∞–∫ –º—ã –º–æ–∂–µ–º –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã –≤ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 
–¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–æ–≤, —Ç–æ —É –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å, 
–º—ã –º–æ–∂–µ–º –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –∏–∑ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –∫–ª–∞—Å—Å–∞.
–ù–∞–ø—Ä–∏–º–µ—Ä, —É –∫–ª–∞—Å—Å–∞ Driver –ø–æ–ª—è –∏–∑ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –∫–ª–∞—Å—Å–∞ Person 
–±—É–¥—É—Ç –∏–∑–º–µ–Ω–µ–Ω—ã —Å name –Ω–∞ driver_name –∏ —Å age –Ω–∞ driver_age. 
–î–µ–ª–∞–µ–º —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ AttributeOverride - 
—Ç–∞–∫–∂–µ –∫–ª–∞—Å—Å Embeddable ""Person"" –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ—Ç –≤ Studen 
–∏ —Å –ø–æ–º–æ—â—å—é AttributeOverride –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å 
–¥–ª—è 2 –ø–µ—Ä—Å–æ–Ω ""–º—É–∂ –∏ –∂–µ–Ω –ø–æ–ª"" 2 —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è. 
@AssociationOverride - –≤ Embeddable Person –µ—Å—Ç—å 
–æ–±—ä–µ–∫—Ç Embeddable Adress –∞ –≤ –Ω–µ–º —Å–≤—è–∑—Ç—å MonyToOne 
—Å –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü–æ–π Street –¥–ª—è —ç—Ç–æ–≥–æ –≤ Studen —Å—Ç–∞–≤–∏–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é 
@AssociationOverride –Ω–∞–¥ Person –∏ –ø–æ–¥–∫–ª—é—á–∞–µ–º 
@AssociationOverride(name = adress.street joinColumns = @JoinColumn(name))"
```
---
</details>



<details>
        <summary>9. –ß—Ç–æ —Ç–∞–∫–æ–µ Mapped Superclass?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ Mapped Superclass?

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `@MappedSuperclass`?

`@MappedSuperclass` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å-—Ä–æ–¥–∏—Ç–µ–ª—å, **–Ω–µ —è–≤–ª—è—é—â–∏–π—Å—è `Entity`**, 
–Ω–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è **–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è `Entity`-–∫–ª–∞—Å—Å–∞–º–∏**.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤** –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

---

### üìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

| –ê—Å–ø–µ–∫—Ç                     | –û–ø–∏—Å–∞–Ω–∏–µ                                                                |
|----------------------------|-------------------------------------------------------------------------|
| üì¶ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ              | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (_–ø–æ–ª–µ–π/–º–µ—Ç–æ–¥–æ–≤_) –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö `@Entity`. |
| üß¨ –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ            | –ú–æ–∂–Ω–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –≤ `@Entity` (_–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç_ `@Embeddable`).           |
| üè∑Ô∏è –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è              | –ü–æ–º–µ—á–∞–µ—Ç—Å—è `@MappedSuperclass` –∏–ª–∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `XML`.                 |
| ‚ùå –ù–µ `Entity`              | –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å, –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö.         |
| üîê –ù–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ `@Id` | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.                                            |
| ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ           | –ù–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ `EntityManager` –∏–ª–∏ `JPQL`.      |

---

### ‚úÖ –ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
- –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤ –≤ `@Entity`-–∫–ª–∞—Å—Å–∞—Ö.   
- –£–ø—Ä–æ—â–µ–Ω–∏–µ –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–¥–∞.   
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—â–µ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.   

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Mapped Superclass - (–ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–æ–π—Ç–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è Embeddable-–∫–ª–∞—Å—Å–æ–≤, 
—Ç–æ –µ—Å—Ç—å –æ—Ç —Ç–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ –º—ã –º–æ–∂–µ–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è, —Ç–∞–∫–∂–µ –≤ –∫–ª–∞—Å—Å–µ Entity –µ—Å–ª–∏ –º—ã 
–∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–ª–∞—Å—Å MappedSuperclass —Ç–æ –Ω–∞–¥ –Ω–∏–º –Ω—É–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –∞–Ω–Ω—Ç–æ—Ç–∞—Ü–∏—é @Embedded)  
—ç—Ç–æ –∫–ª–∞—Å—Å, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è Entity, –æ–Ω –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∞–Ω–æ—Ç–∞—Ü–∏–∏ JPA, 
–æ–¥–Ω–∞–∫–æ —Å–∞–º —Ç–∞–∫–æ–π –∫–ª–∞—Å—Å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è Entity, –µ–º—É –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å 
–≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–ª—è Entity (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–Ω –º–æ–∂–µ—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞). 

–¢–∞–∫–æ–π –∫–ª–∞—Å—Å –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö EntityManager –∏–ª–∏ Query. 
–¢–∞–∫–æ–π –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–º–µ—á–µ–Ω –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π MappedSuperclass –∏–ª–∏ –æ–ø–∏—Å–∞–Ω –≤ xml —Ñ–∞–π–ª–µ.

–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞-–ø—Ä–µ–¥–∫–∞ –æ–ø—Ä–∞–≤–¥–∞–Ω–æ —Ç–µ–º, —á—Ç–æ –º—ã –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º 
—Ä—è–¥ —Å–≤–æ–π—Å—Ç–≤ –∏ –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ —Å—É—â–Ω–æ—Å—Ç—è—Ö. 
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –ø–æ–∑–≤–æ–ª–∏–ª–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.
```
---
</details>



<details>
        <summary>10. –ö–∞–∫–∏–µ —Ç—Ä–∏ —Ç–∏–ø–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –º–∞–ø–∏–Ω–≥–∞ (Inheritance Mapping Strategies) –æ–ø–∏—Å–∞–Ω—ã –≤ JPA?</summary>

## –ö–∞–∫–∏–µ —Ç—Ä–∏ —Ç–∏–ø–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –º–∞–ø–∏–Ω–≥–∞ (_Inheritance Mapping Strategies_) –æ–ø–∏—Å–∞–Ω—ã –≤ `JPA`?

## üß¨ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è _–º–∞–ø–ø–∏–Ω–≥–∞_ –≤ _JPA_ (`Inheritance Mapping Strategies`)

–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç JPA-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—É (_–Ω–∞–ø—Ä–∏–º–µ—Ä, `Hibernate`_) 
–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –∫–ª–∞—Å—Å—ã-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –≤ –ë–î.

---

### üìë 1. `SINGLE_TABLE` ‚Äî –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –≤—Å—é –∏–µ—Ä–∞—Ä—Ö–∏—é // –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã _([Single Table](https://www.profit247.ru/posts/398))_
–í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ **–æ–¥–Ω—É –æ–±—â—É—é —Ç–∞–±–ª–∏—Ü—É**. 
–î–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ ‚Äî `@DiscriminatorColumn`.

| –ü–ª—é—Å—ã                        | –ú–∏–Ω—É—Å—ã                                                         |
|------------------------------|----------------------------------------------------------------|
| ‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | ‚ùå –ú–Ω–æ–≥–æ `NULL`-–ø–æ–ª–µ–π (_–ø–æ–ª—è –≤—Å–µ—Ö –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ_) |
| ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è         | ‚ùå –ù–µ–ª—å–∑—è –ø—Ä–∏–º–µ–Ω—è—Ç—å `NOT NULL` –∫ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º –ø–æ–ª—è–º              |
| ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞     | ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≥–∏–±–∫–æ—Å—Ç–∏ —Å—Ö–µ–º—ã                                   |

üõ†Ô∏è –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏:
```java
@Inheritance(strategy = InheritanceType.SINGLE_TABLE)
@DiscriminatorColumn(name = "EMP_TYPE")
@DiscriminatorValue("P")
```

---
### üîó 2. `JOINED` ‚Äî –¢–∞–±–ª–∏—Ü—ã —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `JOIN` // –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã _([Joined Table](https://www.profit247.ru/posts/398))_
–ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç **—Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É**.  
–¢–∞–±–ª–∏—Ü–∞ **—Ä–æ–¥–∏—Ç–µ–ª—è** —Ö—Ä–∞–Ω–∏—Ç **–æ–±—â–∏–µ** –ø–æ–ª—è, –∞ —Ç–∞–±–ª–∏—Ü—ã **–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤** ‚Äî —Ç–æ–ª—å–∫–æ **—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ**.     
–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–≤—è–∑–∞–Ω—ã `JOIN`'–∞–º–∏.  

| –ü–ª—é—Å—ã                       | 	–ú–∏–Ω—É—Å—ã                                                |
|-----------------------------|--------------------------------------------------------|
| ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | 	‚ùå –ü–æ—Ç–µ—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ `JOIN`-–∞—Ö             |
| ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö `NULL`-–ø–æ–ª–µ–π   | 	‚ùå –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤                                 |
| ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π     | 	‚ùå –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (`@Id`) —Ç–æ–ª—å–∫–æ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ |

üõ†Ô∏è –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è:
```java
@Inheritance(strategy = InheritanceType.JOINED)
```
---
### üßæ 3. `TABLE_PER_CLASS` ‚Äî –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ // –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ _([Table Per Class](https://www.profit247.ru/posts/398))_
–ö–∞–∂–¥—ã–π –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ **—Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É**, –≤–∫–ª—é—á–∞—è **–≤—Å–µ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è**.

| –ü–ª—é—Å—ã                           | 	–ú–∏–Ω—É—Å—ã                                                         |
|---------------------------------|-----------------------------------------------------------------|
| ‚úÖ –ù–µ—Ç `NULL`-–ø–æ–ª–µ–π              | 	‚ùå –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (`UNION` _–Ω—É–∂–µ–Ω –≤—Ä—É—á–Ω—É—é_) |
| ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤ | 	‚ùå –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∞–±–ª–∏—Ü              |

üõ†Ô∏è –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è:
```java
@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)
```

---
### üß† –ë–æ–Ω—É—Å: –ù–µ—è–≤–Ω—ã–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (`Implicit Polymorphism`)
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: `Hibernate` ‚Äî —Å—É—â–Ω–æ—Å—Ç–∏ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω—ã.  
–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏ –∏–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.


> üí° –î–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Inheritance`.

---
## –û—á–µ–Ω—å –∫—Ä–∞—Ç–∫–æ:

## üß¨ JPA Inheritance Mapping Strategies

–ü–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫ –∫–ª–∞—Å—Å—ã-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ë–î.

| –°—Ç—Ä–∞—Ç–µ–≥–∏—è          | –°—É—Ç—å                                                     | –ü–ª—é—Å—ã                              | –ú–∏–Ω—É—Å—ã                                      |
|--------------------|----------------------------------------------------------|------------------------------------|---------------------------------------------|
| `SINGLE_TABLE`     | –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ + `@DiscriminatorColumn`    | ‚úÖ –ë—ã—Å—Ç—Ä–æ<br>‚úÖ –ü—Ä–æ—Å—Ç–æ               | ‚ùå –ú–Ω–æ–≥–æ `NULL`<br>‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è `NOT NULL`  |
| `JOINED`           | –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞, `JOIN` –ø–æ `ID`               | ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è<br>‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è    | ‚ùå JOIN-—ã –º–µ–¥–ª–µ–Ω–Ω—ã–µ<br>‚ùå –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã     |
| `TABLE_PER_CLASS`  | –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –ø–æ–ª—è–º–∏ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞ | ‚úÖ –ù–µ—Ç `NULL`<br>‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∫–ª–∞—Å—Å–æ–≤ | ‚ùå –ù–µ—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞<br>‚ùå `UNION`-–∑–∞–ø—Ä–æ—Å—ã     |

### üîß –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏:
```java
@Inheritance(strategy = InheritanceType.SINGLE_TABLE) // –∏–ª–∏ JOINED, TABLE_PER_CLASS
@DiscriminatorColumn(name = "EMP_TYPE")
@DiscriminatorValue("P")
``` 
üìå **Hibernate** —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `implicit polymorphism` ‚Äî 
–Ω–µ –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

---

---
## üß¨ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ _JPA_ (`@Inheritance`)

| –ê—Å–ø–µ–∫—Ç                    | `SINGLE_TABLE`                                 | `JOINED`                                                       | `TABLE_PER_CLASS`                                                      |
|---------------------------|------------------------------------------------|----------------------------------------------------------------|------------------------------------------------------------------------|
| üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î           | –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –≤—Å–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏                 | –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞ –∏ –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞ | –ö–∞–∂–¥–∞—è —Å—É—â–Ω–æ—Å—Ç—å-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É, –≤–∫–ª—é—á–∞—è –ø–æ–ª—è —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞ |
| üè∑Ô∏è –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–∞    | `@DiscriminatorColumn` + `@DiscriminatorValue` | `@DiscriminatorColumn` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)                           | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è                                                        |
| ‚öôÔ∏è –ó–∞–ø—Ä–æ—Å—ã                | –ü—Ä–æ—Å—Ç—ã–µ, –±–µ–∑ `JOIN`                            | –¢—Ä–µ–±—É—é—Ç `JOIN` –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏                                 | –ù–µ —Ç—Ä–µ–±—É—é—Ç `JOIN`, –Ω–æ —Ç—Ä–µ–±—É—é—Ç `UNION` –ø—Ä–∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö         |
| üìâ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å     | –õ—É—á—à–∞—è (–Ω–µ—Ç `JOIN`, –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞)              | –•—É–∂–µ, –∏–∑-–∑–∞ `JOIN`-–æ–≤                                          | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–æ–≤ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ `UNION`                      |
| üß† –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ | –ü–æ–ª–Ω–∞—è                                         | –ü–æ–ª–Ω–∞—è                                                         | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è                                                           |
| üß± –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö    | –ù–∏–∑–∫–∞—è, –≤–æ–∑–º–æ–∂–Ω—ã `NULL` –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö             | –í—ã—Å–æ–∫–∞—è, –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è                                      | –ù–∏–∑–∫–∞—è, –¥–∞–Ω–Ω—ã–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è                                             |
| ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è            | `NOT NULL` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –Ω–∞—Å–ª–µ–¥—É–µ–º—ã—Ö –ø–æ–ª–µ–π   | `@Id` —Ç–æ–ª—å–∫–æ –≤ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–µ                                     | –ù–µ—Ç –æ–±—â–µ–≥–æ `@Id`, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π                                   |
| üß∞ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | ‚úÖ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)                  | ‚ùå                                                              | ‚ùå                                                                      |

üìå –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:
* –ò—Å–ø–æ–ª—å–∑—É–π `SINGLE_TABLE`, –µ—Å–ª–∏ –≤–∞–∂–Ω–∞ **–ø—Ä–æ—Å—Ç–æ—Ç–∞** –∏ **—Å–∫–æ—Ä–æ—Å—Ç—å**.
* –í—ã–±–∏—Ä–∞–π `JOINED`, –µ—Å–ª–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Äî **–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** –∏ **–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞**.
* –ü—Ä–∏–º–µ–Ω—è–π `TABLE_PER_CLASS`, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω **–º–∏–Ω–∏–º—É–º —Å–≤—è–∑–µ–π** –∏ —É–¥–æ–±—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã —Å –∫–∞–∂–¥—ã–º –∫–ª–∞—Å—Å–æ–º –æ—Ç–¥–µ–ª—å–Ω–æ, 
–Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Inheritance Mapping Strategies –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω—ã –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–∞—Ç—å –ø–æ–Ω—è—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É (Hibernate) –∫–∞–∫ –µ–º—É –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤ –ë–î —Å—É—â–Ω–æ—Å—Ç–∏-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏:
1) –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ –≤—Å—é –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–ª–∞—Å—Å–æ–≤ (SINGLE_TABLE) ‚Äî –≤—Å–µ enity, —Å–æ –≤—Å–µ–º–∏ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—É, –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–∏–ø–∞ entity –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ ‚Äúdiscriminator column‚Äù. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –µ—Å—Ç—å entity Animals c –∫–ª–∞—Å—Å–∞–º–∏-–ø–æ—Ç–æ–º–∫–∞–º–∏ Cats –∏ Dogs, –ø—Ä–∏ —Ç–∞–∫–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—Å–µ entity –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É Animals, –Ω–æ –ø—Ä–∏ —ç—Ç–æ –∏–º–µ—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∫–æ–ª–æ–Ω–∫—É animalType –≤ –∫–æ—Ç–æ—Ä—É—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –ø–∏—à–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ ¬´cat¬ª –∏–ª–∏ ¬´dog¬ª. –ú–∏–Ω—É—Å–æ–º —è–≤–ª—è–µ—Ç—Å—è —Ç–æ —á—Ç–æ –≤ –æ–±—â–µ–π —Ç–∞–±–ª–∏—Ü–µ, –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –≤—Å–µ –ø–æ–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –∫–ª–∞—Å—Å–æ–≤-–ø–æ—Ç–æ–º–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥–µ—Ç –ø—É—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–æ–≤-–ø–æ—Ç–æ–º–∫–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ç–∞–±–ª–∏—Ü–µ animals –æ–∫–∞–∂–µ—Ç—Å—è –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –ª–∞–∑–∞–Ω—å—è –ø–æ –¥–µ—Ä–µ–≤—É –æ—Ç cats –∏ –º–æ–∂–µ—Ç –ª–∏ –ø–µ—Å –ø—Ä–∏–Ω–æ—Å–∏—Ç—å —Ç–∞–ø–∫–∏ –æ—Ç dogs, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—Å–µ–≥–¥–∞ –∏–º–µ—Ç—å null –¥–ª—è dog –∏ cat —Å–æ–æ—Ç–≤–µ—Å—Ç–≤–µ–Ω–Ω–æ.
–ú–∏–Ω—É—Å–æ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è NOT NULL –¥–ª—è —Ç–µ—Ö –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞–±–ª–∏—Ü—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤., –Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∏–≥–µ—Ä—ã. –Ø–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. @DiscriminatorColumn(name = "EMP_TYPE") - –∏–º—è –æ–±—â–µ–π –∫–æ–ª–æ–Ω–∫–∏ —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –ø—Ä–∏–Ω–æ–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –∫–ª–∞—Å—Å—É @DiscriminatorValue("P") - —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–æ–µ –∏–º—è –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–Ω–æ –≤ @DiscriminatorColumn

2) –°—Ç—Ä–∞—Ç–µ–≥–∏—è ¬´—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è¬ª (JOINED) ‚Äî –í –¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–ª–∞—Å—Å –∏–µ—Ä–∞—Ä—Ö–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π, –∞ –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ–ª—è —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞., –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–≤—è–∑—å (relationships) –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤ —Å–ª—É—á–∞–µ –∫–ª–∞—Å—Å–æ–≤ Animals (—Å–º.–≤—ã—à–µ), –±—É–¥—É—Ç —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã animals, cats, dogs, –ø—Ä–∏—á–µ–º –≤ cats –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –∫–ª—é—á –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –ª–∞–∑–∞–Ω—å—è, –≤ dogs ‚Äî –∫–ª—é—á –∏ —É–º–µ–µ—Ç –ª–∏ –ø–µ—Å –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –ø–∞–ª–∫—É, –∞ –≤ animals –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ cats –∏ dogs c —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã. –ú–∏–Ω—É—Å–æ–º —Ç—É—Ç —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–µ—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü (join) –¥–ª—è –ª—é–±—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. @Id, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Ç–æ–ª—å–∫–æ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ.

3) –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ (TABLE_PER_CLASS) ‚Äî –∫–∞–∂–¥—ã–π –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ—é —Ç–∞–±–ª–∏—Ü—É,–í–æ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –ø–æ–ª—è —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –ø–ª—é—Å —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω—ã –æ—Ç —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞. —Ç.–µ. –¥–ª—è cats –∏ dogs (—Å–º.–≤—ã—à–µ) –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü—ã cats –∏ dogs –∫–∞–∫ –µ—Å–ª–∏ –±—ã –æ–Ω–∏ –≤–æ–æ–±—â–µ –Ω–µ –∏–º–µ–ª–∏ –æ–±—â–µ–≥–æ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞. –ú–∏–Ω—É—Å–æ–º —è–≤–ª—è–µ—Ç—Å—è –ø–ª–æ—Ö–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ (polymorphic relationships) –∏ —Ç–æ —á—Ç–æ –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö sql –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ UNION –∑–∞–ø—Ä–æ—Å–∞.

–î–ª—è –∑–∞–¥–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Inheritance (–∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –±–ª–æ–∫–∏)                                                                                                                                                                                                                                                                                                                                          
–ö—Ä–æ–º–µ —Ç–æ–≥–æ, Hibernate –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —á–µ—Ç–≤—ë—Ä—Ç—ã–π, –Ω–µ–º–Ω–æ–≥–æ –¥—Ä—É–≥–æ–π –≤–∏–¥ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞:

–ù–µ—è–≤–Ω—ã–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (implicit polymorphism)
```
---
</details>



<details>
        <summary>11. –ö–∞–∫ –º–∞–ø—è—Ç—Å—è Enum'—ã?</summary>

## –ö–∞–∫ –º–∞–ø—è—Ç—Å—è `Enum`'—ã?

## üß© –ú–∞–ø–ø–∏–Ω–≥ Enum –≤ JPA

–í JPA –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ –º–∞–ø–ø–∏–Ω–≥–∞ `enum`-–æ–≤ –Ω–∞ –ë–î:

### 1. `@Enumerated`
```java
@Enumerated(EnumType.STRING)   // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–º—è enum
@Enumerated(EnumType.ORDINAL) // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä enum
```

| **–¢–∏–ø**   | 	**–ü–æ–≤–µ–¥–µ–Ω–∏–µ**                                | 	**–ü–ª—é—Å—ã**                                    | 	**–ú–∏–Ω—É—Å—ã**                                          |
|-----------|-----------------------------------------------|-----------------------------------------------|------------------------------------------------------|
| `STRING`  | 	–•—Ä–∞–Ω–∏—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –∏–º—è (`Enum.name()`)       | 	‚úÖ –ß–∏—Ç–∞–±–µ–ª—å–Ω–æ, <br>‚úÖ –£—Å—Ç–æ–π—á–∏–≤–æ –∫ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–µ | ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ª–æ–º–∞–µ—Ç –ë–î, <br>‚ùå –ë–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –≤ –ë–î |
| `ORDINAL` | 	–•—Ä–∞–Ω–∏—Ç—Å—è –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä (`Enum.ordinal()`) | 	‚úÖ –≠–∫–æ–Ω–æ–º–Ω–æ –ø–æ –ø–∞–º—è—Ç–∏                         | 	‚ùå –•—Ä—É–ø–∫–æ: –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ enum –ª–æ–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ           |

---
### 2. `@Convert` —Å `AttributeConverter` (_JPA 2.1+_)
* –ü–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∏ –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.
* –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è `enum`.
```java
@Convert(converter = YourEnumConverter.class)
```

‚úÖ –ì–∏–±–∫–æ—Å—Ç—å, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å legacy-–¥–∞–Ω–Ω—ã–º–∏   
‚úÖ –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É   
‚ùå –ù—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤—Ä—É—á–Ω—É—é   

---
### 3. –ß–µ—Ä–µ–∑` @PostLoad` –∏ `@PrePersist` + `@EntityListeners`
* –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `@Convert`, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è + –ª–æ–≥–∏–∫–∞ –≤ —Å–ª—É—à–∞—Ç–µ–ª–µ.   


  ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å   
  ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π   
  ‚ùå –ù–µ–æ—á–µ–≤–∏–¥–Ω–∞—è –ª–æ–≥–∏–∫–∞   

---
### üîö –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

| **–¶–µ–ª—å**                             | 	**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±**                         |
|--------------------------------------|---------------------------------------------------|
| –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å                | 	`@Enumerated(EnumType.STRING)`                   |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 	`@Convert` + `AttributeConverter`                |
| –¢–æ–Ω–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ª–æ–≥–∏–∫–æ–π          | 	`@PostLoad` / `@PrePersist` + `@EntityListeners` |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @Enumerated(EnumType.STRING) - –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ –±–∞–∑–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∏–º–µ–Ω–∞ Enum.
@Enumerated(EnumType.ORDINAL) - –≤ –±–∞–∑–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –ø–æ—Ä—è–¥–∫–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞ Enum.                                                              @Enumerated(EnumType.STRING)  –û–¥–Ω–∞–∫–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è enum –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–∞—Ä—É—à–∏—Ç —Ä–∞–±–æ—Ç—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –¥–∞–∂–µ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º–æ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º @Enumerated(EnumType.ORDINAL), –æ–Ω–æ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞, —á–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –≠—Ç–æ –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è —Å–µ—Ä—å–µ–∑–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π, –∫–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –∏–º–µ—Ç—å –¥–µ–ª–æ —Å –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º –¥–∞–Ω–Ω—ã—Ö.

–î—Ä—É–≥–æ–π –≤–∞—Ä–∏–∞–Ω—Ç - –º—ã –º–æ–∂–µ–º —Å–º–∞–ø–∏—Ç—å –Ω–∞—à–∏ enum –≤ –ë–î –∏ –æ–±—Ä–∞—Ç–Ω–æ –≤ –º–µ—Ç–æ–¥–∞—Ö —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ @PostLoad –∏ @PrePersist. @EntityListener –Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º Entity, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∫–∞–∑–∞—Ç—å –∫–ª–∞—Å—Å, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–∑–¥–∞—Ç—å –¥–≤–∞ –º–µ—Ç–æ–¥–∞, –ø–æ–º–µ—á–µ–Ω–Ω—Ö —ç—Ç–∏–º–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏.
–ò–¥–µ—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –≤ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–º–µ—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ —Å Enum, –Ω–æ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ. –ü–æ–ª–µ —Å Enum –∞–Ω–Ω–æ—Ç–∏—Ä—É–µ–º @Transient, –∞ –≤ –ë–î –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è. –∫–∞–∂–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ—Ç—å –≤ —Å—É—â–Ω–æ—Å—Ç–∏ —Ü–µ–ª—ã—Ö –¥–≤–∞ –∞—Ç—Ä–∏–±—É—Ç–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö –æ–¥–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ.
–í JPA —Å –≤–µ—Ä—Å–∏–∏ 2.1 –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Converter –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ Enum‚Äô–∞ –≤ –Ω–µ–∫–æ–µ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑ –ë–î. –í—Å–µ, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç javax.persistence.AttributeConverter –∏ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é @Converter –∏ –ø–æ–ª–µ –≤ —Å—É—â–Ω–æ—Å—Ç–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Convert. –ú—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ @Converter(autoApply=true), —á—Ç–æ–±—ã JPA –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–ª –ª–æ–≥–∏–∫—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–æ –≤—Å–µ–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –∞—Ç—Ä–∏–±—É—Ç–∞–º —Ç–∏–ø–∞ Category. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –Ω–∞–º –ø—Ä–∏—à–ª–æ—Å—å –±—ã –ø–æ–º–µ—Å—Ç–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @Converter –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞–¥ –ø–æ–ª–µ–º Category —É –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, –≥–¥–µ –æ–Ω–æ –∏–º–µ–µ—Ç—Å—è. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –º—ã –º–æ–∂–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è enum –∏–ª–∏ –∏–∑–º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ, –Ω–µ –Ω–∞—Ä—É—à–∞—è —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
```
---
</details>



<details>
        <summary>12. –ö–∞–∫ –º–∞–ø—è—Ç—Å—è –¥–∞—Ç—ã (–¥–æ java 8 –∏ –ø–æ—Å–ª–µ)?</summary>

## –ö–∞–∫ –º–∞–ø—è—Ç—Å—è –¥–∞—Ç—ã (_–¥–æ java 8 –∏ –ø–æ—Å–ª–µ_)?

## üóìÔ∏è –ú–∞–ø–ø–∏–Ω–≥ –¥–∞—Ç –≤ JPA: –¥–æ –∏ –ø–æ—Å–ª–µ Java 8

### üìÜ –î–æ Java 8 (`java.util.Date`, `java.util.Calendar`)
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Temporal` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ç–æ—á–Ω–æ–≥–æ —Ç–∏–ø–∞:

```java
@Temporal(TemporalType.DATE)      // –¢–æ–ª—å–∫–æ –¥–∞—Ç–∞
@Temporal(TemporalType.TIME)      // –¢–æ–ª—å–∫–æ –≤—Ä–µ–º—è
@Temporal(TemporalType.TIMESTAMP) // –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
```

| **–¢–∏–ø –ø–æ–ª—è**       | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ**                 |
|--------------------|-------------------------------|
| java.util.Date     | –•—Ä–∞–Ω–∏—Ç –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è (_–¥–æ –º—Å_) |
| java.util.Calendar | –¢–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç `@Temporal`     |

‚ùó –ë–µ–∑ `@Temporal` JPA –Ω–µ —Å–º–æ–∂–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–º–∞–ø–∏—Ç—å –ø–æ–ª–µ.

---
### üïí –° Java 8+ (java.time.*)
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ JPA 2.2+. –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Temporal` **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è**.

| **–¢–∏–ø –ø–æ–ª—è**                | 	**–û–ø–∏—Å–∞–Ω–∏–µ**            |
|-----------------------------|--------------------------|
| `LocalDate`                 | 	–¢–æ–ª—å–∫–æ –¥–∞—Ç–∞             |
| `LocalTime`                 | 	–¢–æ–ª—å–∫–æ –≤—Ä–µ–º—è            |
| `LocalDateTime`             | 	–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è            |
| `Instant`, `OffsetDateTime` | 	–° —É—á—ë—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ |

‚úÖ Immutable   
‚úÖ Thread-safe   
‚úÖ –ù–∞–Ω–æ—Å–µ–∫—É–Ω–¥–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å   

---
### üìå –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
| **Java –≤–µ—Ä—Å–∏—è**   | 	**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∏–ø—ã**      | 	**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**                                   |
|-------------------|-----------------------------|----------------------------------------------------|
| ‚â§ Java 7          | 	java.util.Date + @Temporal | 	–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø (DATE, TIME, TIMESTAMP) |
| Java 8+           | 	java.time.*                | 	–ë–µ–∑ @Temporal, –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ      |

---

---
## –°–û–ö–†–ê–©–ï–ù–ù–û:

### üóìÔ∏è –ú–∞–ø–ø–∏–Ω–≥ –¥–∞—Ç –≤ JPA

| **Java –≤–µ—Ä—Å–∏—è** | **–¢–∏–ø—ã –¥–∞—Ç**         | **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**                   |
|-----------------|----------------------|-----------------------------------|
| ‚â§ Java 7        | `java.util.Date`     | –¢—Ä–µ–±—É–µ—Ç `@Temporal`               |
|                 | `java.util.Calendar` |                                   |
| Java 8+         | `java.time.*`        | –ë–µ–∑ `@Temporal`, –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ |

üü¢ `java.time.*` ‚Äî immutable, thread-safe, —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @Temporal –¥–æ Java 8, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞–¥–æ –±—ã–ª–æ —É–∫–∞–∑–∞—Ç—å –∫–∞–∫–æ–π —Ç–∏–ø –¥–∞—Ç—ã –º—ã —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
–í Java 8 –∏ –¥–∞–ª–µ–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é —Å—Ç–∞–≤–∏—Ç—å –Ω–µ –Ω—É–∂–Ω–æ. java.time –í—Å–µ –∫–ª–∞—Å—Å—ã –≤ –Ω–æ–≤–æ–º API –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ (immutable) –∏, –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ,
–ø–æ—Ç–æ–∫–æ-–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ. –¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–¥–Ω—É –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥—É,
—á—Ç–æ –≤ –º–∏–ª–ª–∏–æ–Ω —Ä–∞–∑ —Ç–æ—á–Ω–µ–µ —á–µ–º –≤ –ø–∞–∫–µ—Ç–µ java.util.

–¢–∏–ø java.util.Date —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–∞—Ç–µ –∏ –≤—Ä–µ–º–µ–Ω–∏ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥.
```
---
</details>



<details>
        <summary>13. –ö–∞–∫ ‚Äú—Å–º–∞–ø–∏—Ç—å‚Äù –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤?</summary>

## –ö–∞–∫ ‚Äú_—Å–º–∞–ø–∏—Ç—å_‚Äù –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤?

## üß∫ –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–ª–µ–∫—Ü–∏–π –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ / –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤ –≤ JPA

–î–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π **–ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤** –∏–ª–∏ **–≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏:

| **–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è**         | **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                                             |
|-----------------------|------------------------------------------------------------|
| `@ElementCollection`  | –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø–æ–ª–µ ‚Äî –∫–æ–ª–ª–µ–∫—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö/–≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤ |
| `@CollectionTable`    | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏       |
| `@OrderColumn`        | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏                    |
| `@OrderBy`            | –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–æ–ª–æ–Ω–∫–µ           |

---

### üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –≠–ª–µ–º–µ–Ω—Ç—ã –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **–æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ**.  
- –£ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ **–Ω–µ—Ç `ID`**, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –º–æ–∂–µ—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è**.  
- `@OrderColumn` –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –±–µ–∑ –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ —Ç–∞–±–ª–∏—Ü—ã.  

---

### üõ†Ô∏è –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ª–æ–≥–∏—á–µ—Å–∫–∏):

```text
–°—É—â–Ω–æ—Å—Ç—å            –¢–∞–±–ª–∏—Ü–∞: entity
–ü—Ä–∏–º–∏—Ç–∏–≤—ã           –¢–∞–±–ª–∏—Ü–∞: entity_values
```

---
### üö´ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º @OneToMany, @ManyToMany:
–≠—Ç–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π Entity, –∞ –Ω–µ –±–∞–∑–æ–≤—ã—Ö –∏–ª–∏ @Embeddable-—Ç–∏–ø–æ–≤.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @ElementCollection
 @OrderBy
–ï—Å–ª–∏ —É –Ω–∞—à–µ–π —Å—É—â–Ω–æ—Å—Ç–∏ –µ—Å—Ç—å –ø–æ–ª–µ —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π, —Ç–æ –º—ã –ø—Ä–∏–≤—ã–∫–ª–∏ —Å—Ç–∞–≤–∏—Ç—å –Ω–∞–¥ –Ω–∏–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @OneToMany –ª–∏–±–æ @ManyToMany. –ù–æ –¥–∞–Ω–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥—Ä—É–≥–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (entities). –ï—Å–ª–∏ —É –Ω–∞—à–µ–π —Å—É—â–Ω–æ—Å—Ç–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è –Ω–µ –¥—Ä—É–≥–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, –∞ –±–∞–∑–æ–≤—ã—Ö –∏–ª–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö (embeddable) —Ç–∏–ø–æ–≤ –¥–ª—è —ç—Ç–∏—Ö —Å–ª—É—á–∞–µ–≤ –≤ JPA –∏–º–µ–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @ElementCollection, –∫–æ—Ç–æ—Ä–∞—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫–ª–∞—Å—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞–¥ –ø–æ–ª–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏–∏. –í—Å–µ –∑–∞–ø–∏—Å–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, —Ç–æ –µ—Å—Ç—å –≤ –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞–µ–º –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã: –æ–¥–Ω—É –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–∏, –≤—Ç–æ—Ä—É—é –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é, –æ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç—Å—è –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ, —Ç–∞–∫ –∫–∞–∫ —É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–µ—Ç id. –ú–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å —Å –ø–æ–º–æ—â—å—é @OrderColumn
 @CollectionTable - –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π, (CollectionTable –æ—Ç–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º—è —Ç–∞–±–ª–∏—Ü—ã –∏ @JoinColumn –∏–ª–∏ @JoinColumns –≤ —Å–ª—É—á–∞–µ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞.)
```
---
</details>



<details>
        <summary>14. –ö–∞–∫–∏–µ –µ—Å—Ç—å –≤–∏–¥—ã —Å–≤—è–∑–µ–π?</summary>

## –ö–∞–∫–∏–µ –µ—Å—Ç—å –≤–∏–¥—ã —Å–≤—è–∑–µ–π?

## üîó –í–∏–¥—ã —Å–≤—è–∑–µ–π (_Relationships_) –≤ _JPA_

### üìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã:

| **–¢–∏–ø —Å–≤—è–∑–∏** | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                            |
|---------------|-------------------------------------------------------------------------|
| `@OneToOne`   | –û–¥–∏–Ω –æ–±—ä–µ–∫—Ç —Å–≤—è–∑–∞–Ω —Å –æ–¥–Ω–∏–º –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–æ–º                              |
| `@OneToMany`  | –û–¥–∏–Ω –æ–±—ä–µ–∫—Ç —Å–≤—è–∑–∞–Ω —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤                         |
| `@ManyToOne`  | –ú–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç (–æ–±—Ä–∞—Ç–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ `OneToMany`)  |
| `@ManyToMany` | –û–±—ä–µ–∫—Ç—ã —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ                  |

---

### üîÑ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å —Å–≤—è–∑–µ–π:

| **–í–∏–¥**            | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                      |
|--------------------|-----------------------------------------------------------------------------------|
| **Unidirectional** | –°–≤—è–∑—å –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è: —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –¥—Ä—É–≥—É—é               |
| **Bidirectional**  | –°–≤—è–∑—å –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è: –æ–±–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `mappedBy` |

> üîß **mappedBy** ‚Äî —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ *–Ω–µ-–≤–ª–∞–¥–µ—é—â–µ–π* —Å—Ç–æ—Ä–æ–Ω–µ –∏ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –∏–º—è –ø–æ–ª—è –≤ *–≤–ª–∞–¥–µ—é—â–µ–π* —Å—Ç–æ—Ä–æ–Ω–µ —Å–≤—è–∑–∏.

---

### ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ:

- **–í–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞** —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–Ω–µ—à–Ω–∏–º –∫–ª—é—á–æ–º –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–≤—è–∑–∏.
- –¢–æ–ª—å–∫–æ **–≤–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞** –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç `persist()`, `merge()` –∏ `remove()` –≤ JPA.


---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–°—É—â–µ—Å—Ç–≤—É—é—Ç 4 —Ç–∏–ø–∞ —Å–≤—è–∑–µ–π:
1. OneToOne - –∫–æ–≥–¥–∞ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä Entity –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω –Ω–µ –±–æ–ª—å—à–µ —á–µ–º —Å –æ–¥–Ω–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –¥—Ä—É–≥–æ–≥–æ Entity.
2. OneToMany - –∫–æ–≥–¥–∞ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä Entity –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –¥—Ä—É–≥–∏—Ö Entity.
3. ManyToOne - –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è OneToMany. –ù–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ Entity –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å –æ–¥–Ω–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –¥—Ä—É–≥–æ–≥–æ Entity.
4. ManyToMany - —ç–∫–∑–µ–º–ø–ª—è—Ä—ã Entity –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞.

–ö–∞–∂–¥—É—é –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –µ—â—ë –Ω–∞ –¥–≤–∞ –≤–∏–¥–∞:
1. Bidirectional –í–ª–∞–¥–µ–µ–º–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –≤ –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –¥–æ–ª–∂–Ω–∞ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –≤–ª–∞–¥–µ—é—â—É—é —Å—Ç–æ—Ä–æ–Ω—É –∏—Å–ø–æ–ª—å–∑—É—è —ç–ª–µ–º–µ–Ω—Ç mappedBy –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π @OneToOne, @OneToMany, –∏–ª–∏ @ManyToMany. –≠–ª–µ–º–µ–Ω—Ç mappedBy –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª–µ –≤ –æ–±—ä–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –æ—Ç–Ω–æ—à–µ–Ω–∏—è.
2. Undirectional –í –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å –∏–º–µ–µ—Ç –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –≤—Ç–æ—Ä—É—é —Å—É—â–Ω–æ—Å—Ç—å. –í—Ç–æ—Ä–∞—è —Å—É—â–Ω–æ—Å—Ç—å (—Å—Ç–æ—Ä–æ–Ω–∞) –Ω–µ –∏–º–µ–µ—Ç –ø–æ–ª—è –ø–µ—Ä–≤–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –∏ –Ω–µ –∑–Ω–∞–µ—Ç –æ–± –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. –≠–ª–µ–º–µ–Ω—Ç mappedBy –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª–µ –≤ –æ–±—ä–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –æ—Ç–Ω–æ—à–µ–Ω–∏—è.

Bidirectional (–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è) ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–≤—è–∑—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —É –≤—Å–µ—Ö Entity, —Ç–æ –µ—Å—Ç—å –≤ —Å–ª—É—á–∞–µ OneToOne A-B –≤ Entity A –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ Entity B, –≤ Entity B –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ Entity A. Entity A —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —ç—Ç–æ–π —Å–≤—è–∑–∏ (—ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è —Å–ª—É—á–∞–µ–≤ –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Ç–æ–≥–¥–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ A —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ B, –Ω–æ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç).
Undirectional- —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–≤—è–∑—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, —Ç–æ –µ—Å—Ç—å –≤ —Å–ª—É—á–∞–µ OneToOne A-B —Ç–æ–ª—å–∫–æ —É Entity A –±—É–¥–µ—Ç —Å—Å—ã–ª–∫–∞ –Ω–∞ Entity B, —É Entity B —Å—Å—ã–ª–∫–∏ –Ω–∞ A –Ω–µ –±—É–¥–µ—Ç.
```
---
</details>



<details>
        <summary>15. –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏?

## üîó –í–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏ (_Owning side_) –≤ _JPA_

### üí° –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
**–í–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏** ‚Äî —ç—Ç–æ —Å—Ç–æ—Ä–æ–Ω–∞ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç **–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á (`FK`)** 
–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ —Å–≤—è–∑–∏ –≤ –ë–î.

---
### üìå –ü—Ä–∏–∑–Ω–∞–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞:
- –ò–º–µ–µ—Ç **–ø–æ–ª–µ —Å —Ç–∏–ø–æ–º –¥—Ä—É–≥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏**.
- –í **–æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏** ‚Äî –≤–ª–∞–¥–µ–ª–µ—Ü –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
- –í **–¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏** ‚Äî –≤–ª–∞–¥–µ–ª–µ—Ü —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —è–≤–Ω–æ (–±–µ–∑ `mappedBy`).
- –ò–º–µ–Ω–Ω–æ **–≤–ª–∞–¥–µ–ª–µ—Ü** —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å—Ç–∞–≤–∫–æ–π/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º FK –≤ –ë–î.

---

### üîÑ `mappedBy` ‚Äî —É–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞:
–ù–∞ **–Ω–µ–≤–ª–∞–¥–µ—é—â–µ–π** —Å—Ç–æ—Ä–æ–Ω–µ –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@OneToOne`, `@OneToMany`, `@ManyToMany` —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `mappedBy`, —Å—Å—ã–ª–∞—é—â–∏–π—Å—è –Ω–∞ –∏–º—è –ø–æ–ª—è –≤–æ –≤–ª–∞–¥–µ–ª—å—Ü–µ.

> üìå –¢–æ–ª—å–∫–æ **–≤–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞** –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–≤—è–∑–∏ –≤ –ë–î.


---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–í –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –º–µ–∂–¥—É –¥–≤—É–º—è —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –æ–¥–Ω–∞ –≤–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞, –∞ –≤–ª–∞–¥–µ–µ–º–æ–π –º–æ–∂–µ—Ç –∏ –Ω–µ –±—ã—Ç—å, –µ—Å–ª–∏ —ç—Ç–æ –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è.
–ü–æ —Å—É—Ç–∏, —É –∫–æ–≥–æ –µ—Å—Ç—å –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ –¥—Ä—É–≥—É—é —Å—É—â–Ω–æ—Å—Ç—å - —Ç–æ—Ç –∏ –≤–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏. –¢–æ –µ—Å—Ç—å, –µ—Å–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –µ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –æ—Ç –¥—Ä—É–≥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, —Ç–æ –ø–µ—Ä–≤–∞—è —Å—É—â–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞—ë—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Å–≤—è–∑–∏, –≤—Ç–æ—Ä–∞—è —Å—É—â–Ω–æ—Å—Ç—å - –≤–ª–∞–¥–µ–µ–º–æ–π.
–í –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Å—Ç–æ—Ä–æ–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç –ø–æ–ª–µ —Å —Ç–∏–ø–æ–º –¥—Ä—É–≥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —ç—Ç–æ–π —Å–≤—è–∑–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
```
---
</details>



<details>
        <summary>16. –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞—Å–∫–∞–¥—ã?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞—Å–∫–∞–¥—ã?

‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞—Å–∫–∞–¥—ã –≤ JPA?
**–ö–∞—Å–∫–∞–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π 
—Å –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é –Ω–∞ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–µ–π —Å—É—â–Ω–æ—Å—Ç–∏.

–ö–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞–¥ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π `Entity` (_–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏ —Ç.–¥._), 
—Ç–∞ –∂–µ –æ–ø–µ—Ä–∞—Ü–∏—è –∫–∞—Å–∫–∞–¥–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –µ—ë —Å–≤—è–∑–∞–Ω–Ω—ã–º `Entity`, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã –∫–∞—Å–∫–∞–¥–∞.

---
### üß© –¢–∏–ø—ã –∫–∞—Å–∫–∞–¥–∏—Ä–æ–≤–∞–Ω–∏—è (_CascadeType_)

| **–¢–∏–ø**   | 	**–î–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å–≤—è–∑–∞–Ω–Ω—ã–º `Entity`** |
|-----------|------------------------------------------------------|
| `ALL`     | 	üí• –í—Å–µ –Ω–∏–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è                  |
| `PERSIST` | 	üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π             |
| `MERGE`   | 	üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ/–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π       |
| `REMOVE`  | 	üóë –£–¥–∞–ª–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π                     |
| `REFRESH` | 	‚ôªÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –ë–î                        |
| `DETACH`  | 	üì¥ –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏   |

---
### üìù –í–∞–∂–Ω–æ–µ:
* –ö–∞—Å–∫–∞–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å **—Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏** (_OneToOne, OneToMany –∏ —Ç.–¥._).
* –£–ø—Ä–∞–≤–ª—è—é—Ç **–∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º** –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
* –ù–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π** –∏ –∏–∑–±–µ–∂–∞–Ω–∏—è _boilerplate_-–∫–æ–¥–∞.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ö–∞—Å–∫–∞–¥–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –∫–æ–≥–¥–∞ –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–∞–∫–æ–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ —Å —Ü–µ–ª–µ–≤–æ–π Entity, —Ç–æ –∂–µ —Å–∞–º–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –∫ —Å–≤—è–∑–∞–Ω–Ω–æ–π Entity.
JPA CascadeType:
ALL -  –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç, —á—Ç–æ –≤—Å–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –æ–±—ä–µ–∫—Ç–µ, –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã –¥–æ—á–µ—Ä–Ω–µ–º—É –æ–±—ä–µ–∫—Ç—É.
PERSIST -  –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ save () –∏–ª–∏ persist () –∫–∞—Å–∫–∞–¥–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Å–≤—è–∑–∞–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º. (—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤—ã–π –æ–±—å–µ–∫—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è)
MERGE - –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ entity –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è, –∫–æ–≥–¥–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è entity-–≤–ª–∞–¥–µ–ª–µ—Ü. (—Å—É—â–Ω–æ —Å—Ç—å —é—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–æ–≤–æ–π –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é)

REMOVE - —É–¥–∞–ª—è–µ—Ç –≤—Å–µ entity, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —É–¥–∞–ª—è–µ–º–æ–π entity.
DETACH - –æ—Ç–∫–ª—é—á–∞–µ—Ç –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ entity, –µ—Å–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç ¬´—Ä—É—á–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ¬ª.
REFRESH - –ø–æ–≤—Ç–æ—Ä–Ω–æ —Å—á–∏—Ç—ã–≤–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –≤—ã–∑–æ–≤–µ refresh().
```
---
</details>



<details>
        <summary>17. –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É PERSIST –∏ MERGE?</summary>

## –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `PERSIST` –∏ `MERGE`?

### üîç –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `PERSIST` –∏ `MERGE` –≤ _JPA_

| –û–ø–µ—Ä–∞—Ü–∏—è   | 	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                          | 	–ü–æ–≤–µ–¥–µ–Ω–∏–µ                                                                                                                                                                                                       |
|------------|--------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `PERSIST`  | 	üÜï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—É—â–Ω–æ—Å—Ç–∏        | 	‚Äî –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –∫ –Ω–æ–≤—ã–º** (_transient_) –æ–±—ä–µ–∫—Ç–∞–º <br>‚Äî –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–∑–æ–≤–µ –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –æ–±—ä–µ–∫—Ç–µ: **–Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç** <br>‚Äî –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ `detached` –æ–±—ä–µ–∫—Ç—É ‚Äî `EntityExistsException` |
| `MERGE`    | 	üîÅ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—É—â–Ω–æ—Å—Ç–∏ | 	‚Äî –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö** (`detached`) –æ–±—ä–µ–∫—Ç–æ–≤ <br>‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—É–ø—Ä–∞–≤–ª—è–µ–º—É—é –∫–æ–ø–∏—é** –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ <br>‚Äî –ú–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫–∞–∫ –∫ –Ω–æ–≤—ã–º, —Ç–∞–∫ –∏ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –æ–±—ä–µ–∫—Ç–∞–º          |

---
### üßπ `orphanRemoval`
* `orphanRemoval = true` —É–¥–∞–ª—è–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ—á–µ—Ä–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏, –µ—Å–ª–∏ –æ–Ω–∏:
  * –±–æ–ª—å—à–µ **–Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã** –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—É—â–Ω–æ—Å—Ç–∏;
  * –∏–ª–∏ –µ—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Å—É—â–Ω–æ—Å—Ç—å **—É–¥–∞–ª–µ–Ω–∞**.

> üí° **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@OneToMany`) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è ¬´–æ—Å–∏—Ä–æ—Ç–µ–≤—à–∏—Ö¬ª –∑–∞–ø–∏—Å–µ–π –∏–∑ –ë–î.**

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
persist(entity) —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –≤ –ë–î (–ï—Å–ª–∏ –∂–µ –æ–±—ä–µ–∫—Ç —É–∂–µ –µ—Å—Ç—å –≤ –±–∞–∑–µ, —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç. –û–¥–Ω–∞–∫–æ  –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –±–∞–∑—É –æ–±—ä–µ–∫—Ç —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º Detached –∏—Å–∫–ª—é—á–µ–Ω–∏–µ EntityExistsException).
–ù–æ –≤ —Å–ª—É—á–∞–µ merge(entity) —Å—É—â–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–æ–≤–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π), –∏ –∫–æ–ø–∏—è —ç—Ç–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –≤–µ—Ä–Ω–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ. –ù–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π.

orphanRemoval. –î–∏—Ä–µ–∫—Ç–∏–≤–∞ orphanRemoval –æ–±—ä—è–≤–ª—è–µ—Ç, —á—Ç–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —Å—É—â–Ω–æ—Å—Ç–µ–π –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã, –∫–æ–≥–¥–∞ –æ–Ω–∏ –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω—ã –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è, –∏–ª–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ, –∫–æ–≥–¥–∞ —Ä–æ–¥–∏—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω
```
---
</details>



<details>
        <summary>18. –ö–∞–∫–∏–µ –¥–≤–∞ —Ç–∏–ø–∞ fetch —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤ JPA –≤—ã –∑–Ω–∞–µ—Ç–µ?</summary>

## –ö–∞–∫–∏–µ –¥–≤–∞ —Ç–∏–ø–∞ `fetch` —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤ `JPA` –≤—ã –∑–Ω–∞–µ—Ç–µ?

### ‚ö° –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ (_Fetch Types_) –≤ _JPA_
JPA –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–¥–≤–∞ —Ç–∏–ø–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤—ã–±–æ—Ä–∫–∏ (_fetching_)** –¥–ª—è –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π:

| **–¢–∏–ø —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**   | 	**–û–ø–∏—Å–∞–Ω–∏–µ**                                                                                      | 	**–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫:**                    |
|---------------------|----------------------------------------------------------------------------------------------------|-----------------------------------------------------|
| `LAZY` üí§           | 	–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö **–æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è** –¥–æ –ø–µ—Ä–≤–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –Ω–∏–º. <br>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç—ã**.  | 	`@OneToMany`, `@ManyToMany,` `@ElementCollection`  |
| `EAGER` ‚ö°           | 	–î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ**, –≤–º–µ—Å—Ç–µ —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é.                                   | 	`@OneToOne`, `@ManyToOne`, `@Basic`                |

### üìù –í–∞–∂–Ω–æ: 
> —Ö–æ—Ç—è `LAZY` —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π –¥–ª—è –º–Ω–æ–≥–∏—Ö –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–π, 
–ø—Ä–æ–≤–∞–π–¥–µ—Ä _JPA_ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ—ë, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ –≤ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
1) LAZY ‚Äî Hibernate –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å—Ä–∞–∑—É, –∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –Ω–∏–º, –Ω–æ —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ, —Ç–æ Hibernate –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏—Ö —Å—Ä–∞–∑—É. –≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–ª–µ–π, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö @OneToMany, @ManyToMany –∏ @ElementCollection. –í –æ–±—ä–µ–∫—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏ lazy-–ø–æ–ª—è.
2) EAGER ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ. –≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–æ–ª–µ–π, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö @Basic, @ManyToOne –∏ @OneToOne.
```
---
</details>



<details>
        <summary>19. –ö–∞–∫–∏–µ —á–µ—Ç—ã—Ä–µ —Å—Ç–∞—Ç—É—Å–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ Entity –æ–±—ä–µ–∫—Ç–∞ (Entity Instance‚Äôs Life Cycle) –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å?</summary>

## –ö–∞–∫–∏–µ —á–µ—Ç—ã—Ä–µ —Å—Ç–∞—Ç—É—Å–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ Entity –æ–±—ä–µ–∫—Ç–∞ (Entity Instance‚Äôs Life Cycle) –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å?

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª Entity –≤ JPA

| **–°–æ—Å—Ç–æ—è–Ω–∏–µ**  | **–û–ø–∏—Å–∞–Ω–∏–µ**                                               |
|----------------|------------------------------------------------------------|
| `Transient` üÜï | ‚Äî –û–±—ä–µ–∫—Ç **—Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω** (`new`)                     |                 
|                | ‚Äî **–ù–µ —Å–≤—è–∑–∞–Ω** —Å –ë–î                                       |                         
|                | ‚Äî –ù–µ –∏–º–µ–µ—Ç ID                                              |
| `Managed` ‚úÖ    | ‚Äî –û–±—ä–µ–∫—Ç **—Å–≤—è–∑–∞–Ω —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏**              | 
|                | ‚Äî –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `EntityManager`                              |     
|                | ‚Äî –ë—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ                 |
| `Detached` üîå  | ‚Äî –û–±—ä–µ–∫—Ç **–∏–º–µ–µ—Ç ID**, –Ω–æ **–≤–Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** |
|                | ‚Äî –ò–∑–º–µ–Ω–µ–Ω–∏—è **–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏               |
| `Removed` üóë   | ‚Äî –û–±—ä–µ–∫—Ç **–ø–æ–º–µ—á–µ–Ω –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ** (`em.remove(entity)`)     |
|                | ‚Äî –ë—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω –∏–∑ –ë–î –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ                           |

---
### üìù –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏:

`new` ‚Üí `persist()` ‚Üí `Managed`

`Managed` ‚Üí `detach()` ‚Üí `Detached`

`Managed` ‚Üí `remove()` ‚Üí `Removed` ‚Üí `Detached` (_–ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞_)

![–ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏](/ITM/ITM05_Hibernate/imgs/2025-04-08_18-02-16.png)

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Transient (New) ‚Äî —Å–≤–µ–∂–µ—Å–æ–∑–¥–∞–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º new() —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –∏–º–µ–µ—Ç —Å–≤—è–∑–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –∏–º–µ–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–µ –∏–º–µ–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π.
managed - –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω, —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –±–¥, –∏–º–µ–µ—Ç primary key, —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è JPA
detached -–æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω, –∏–º–µ–µ—Ç primary key, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è (–∏–ª–∏ –±–æ–ª—å—à–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è) —á–∞—Å—Ç—å—é –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (–Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è JPA);
removed - –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω, —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è JPA, –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω –ø—Ä–∏ commit-–µ –∏ —Å—Ç–∞—Ç—É—Å —Å—Ç–∞–Ω–µ—Ç –æ–ø—è—Ç—å detached
```
---
</details>



<details>
        <summary>20. –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è persist –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?</summary>

## –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è `persist` –Ω–∞ `Entity` –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?

### üß© –í–ª–∏—è–Ω–∏–µ `persist()` –Ω–∞ `Entity` –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

| **–°—Ç–∞—Ç—É—Å** `Entity` | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** `persist(entity)`                                                                   |
|---------------------|---------------------------------------------------------------------------------------------------|
| `Transient` üÜï      | ‚úÖ –°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `Managed` <br>üîÑ –í—Å—Ç–∞–≤–∫–∞ –≤ –ë–î –ø—Ä–∏ `flush()` –∏–ª–∏ `commit()`                           |
| `Managed` ‚úÖ         | üîÅ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è <br>‚ö† –û–¥–Ω–∞–∫–æ, –∫–∞—Å–∫–∞–¥–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`CascadeType.PERSIST`) –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã |
| `Detached` üîå       | ‚ùå –ë—Ä–æ—Å–∞–µ—Ç—Å—è `EntityExistsException` <br>(_–ª–∏–±–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ, –ª–∏–±–æ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ_)                     |
| `Removed` üóë        | ‚ö† –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –≤ `Managed` <br>–¢–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏                       |

---

### –°–æ—Å—Ç–æ—è–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–∏ –≤ JPA
–í JPA —Å—É—â–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π:
1. Transient (–ù–æ–≤–∞—è): –°—É—â–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∞, –Ω–æ –Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏ –∏ –Ω–µ –∏–º–µ–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.‚Äã
2. Managed (–£–ø—Ä–∞–≤–ª—è–µ–º–∞—è): –°—É—â–Ω–æ—Å—Ç—å —Å–≤—è–∑–∞–Ω–∞ —Å –∞–∫—Ç–∏–≤–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏; –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.‚Äã
3. Detached (–û—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–Ω–∞—è): –°—É—â–Ω–æ—Å—Ç—å —Ä–∞–Ω–µ–µ –±—ã–ª–∞ —É–ø—Ä–∞–≤–ª—è–µ–º–æ–π, –Ω–æ —Ç–µ–ø–µ—Ä—å –Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å —Ç–µ–∫—É—â–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏; –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è.‚Äã
4. Removed (–£–¥–∞–ª–µ–Ω–Ω–∞—è): –°—É—â–Ω–æ—Å—Ç—å –ø–æ–º–µ—á–µ–Ω–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö; —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏.

### –û–ø–µ—Ä–∞—Ü–∏–∏ JPA –∏ –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–µ
–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∞—è, –∫–∞–∫ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ JPA –≤–ª–∏—è—é—Ç –Ω–∞ —Å—É—â–Ω–æ—Å—Ç–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö:

| **–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ \ –û–ø–µ—Ä–∞—Ü–∏—è**   | 	`persist`                                            | 	`remove`                                            | 	`merge`                                                                             | 	`refresh`                                                | 	`detach`                                         |
|-------------------------------------|-------------------------------------------------------|------------------------------------------------------|--------------------------------------------------------------------------------------|-----------------------------------------------------------|---------------------------------------------------|
| **Transient** (_–ù–æ–≤–∞—è_)             | 	–°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Managed; SQL `INSERT` –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.	 | –û—à–∏–±–∫–∞ `IllegalArgumentException`.                   | 	–°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Managed; SQL `INSERT` –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.                                 | 	–û—à–∏–±–∫–∞ `EntityNotFoundException`.	                       | –ë–µ–∑ —ç—Ñ—Ñ–µ–∫—Ç–∞.                                      |
| **Managed** (_–£–ø—Ä–∞–≤–ª—è–µ–º–∞—è_)         | 	–ë–µ–∑ —ç—Ñ—Ñ–µ–∫—Ç–∞.                                         | 	–°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Removed; SQL `DELETE` –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. | 	–ë–µ–∑ —ç—Ñ—Ñ–µ–∫—Ç–∞.                                                                        | 	–ü–æ–ª—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∏–∑ –ë–î; –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ –∑–∞–ø–∏—Å—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç. | 	–°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Detached; –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è. |
| **Detached** (_–û—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–Ω–∞—è_)      | 	–û—à–∏–±–∫–∞ `IllegalArgumentException`.                   | 	–û—à–∏–±–∫–∞ `IllegalArgumentException`.                  | 	–°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Managed; –¥–∞–Ω–Ω—ã–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è; SQL `INSERT` –∏–ª–∏ `UPDATE` –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. | 	–û—à–∏–±–∫–∞ `IllegalArgumentException`.                       | 	–ë–µ–∑ —ç—Ñ—Ñ–µ–∫—Ç–∞.                                     |
| **Removed** (_–£–¥–∞–ª–µ–Ω–Ω–∞—è_)           | 	–°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Managed; SQL `INSERT` –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.  | 	–ë–µ–∑ —ç—Ñ—Ñ–µ–∫—Ç–∞.                                        | 	–û—à–∏–±–∫–∞ `IllegalArgumentException`.                                                  | 	–û—à–∏–±–∫–∞ `EntityNotFoundException`.                        | 	–°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Detached; –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è. |

**–ü–æ—è—Å–Ω–µ–Ω–∏—è –∫ –æ–ø–µ—Ä–∞—Ü–∏—è–º**
* `persist`: –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é —Å—É—â–Ω–æ—Å—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
* `remove`: –ü–æ–º–µ—á–∞–µ—Ç —É–ø—Ä–∞–≤–ª—è–µ–º—É—é —Å—É—â–Ω–æ—Å—Ç—å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º —Å—É—â–Ω–æ—Å—Ç—è–º.
* `merge`: –ö–æ–ø–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –≤ —É–ø—Ä–∞–≤–ª—è–µ–º—É—é —Å—É—â–Ω–æ—Å—Ç—å. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
* `refresh`: –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–ø—Ä–∞–≤–ª—è–µ–º–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç–º–µ–Ω—ã –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
* `detach`: –û—Ç—Å–æ–µ–¥–∏–Ω—è–µ—Ç —Å—É—â–Ω–æ—Å—Ç—å –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏, –ø—Ä–µ–∫—Ä–∞—â–∞—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
new ‚Üí managed, –∏ –æ–±—ä–µ–∫—Ç –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±–∞–∑—É –ø—Ä–∏ commit-–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–ª–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ flush –æ–ø–µ—Ä–∞—Ü–∏–π
managed ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –æ–¥–Ω–∞–∫–æ –∑–∞–≤–∏—Å–∏–º—ã–µ Entity –º–æ–≥—É—Ç –ø–æ–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ managed, –µ—Å–ª–∏ —É –Ω–∏—Ö –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
detached ‚Üí exception —Å—Ä–∞–∑—É –∏–ª–∏ –Ω–∞ —ç—Ç–∞–ø–µ commit-–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
removed ‚Üí managed, –Ω–æ —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. 
```
---
</details>



<details>
        <summary>21. –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è remove –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?</summary>

## –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è remove –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?

## üóëÔ∏è –í–ª–∏—è–Ω–∏–µ `remove()` –Ω–∞ Entity –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

| **–°—Ç–∞—Ç—É—Å** `Entity` | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** `remove(entity)`                                                                                |
|---------------------|---------------------------------------------------------------------------------------------------------------|
| `Transient` üÜï      | üîÅ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è <br>‚ö† –ó–∞–≤–∏—Å–∏–º—ã–µ `Managed`-—Å—É—â–Ω–æ—Å—Ç–∏ —Å `CascadeType.REMOVE` –º–æ–≥—É—Ç –ø–µ—Ä–µ–π—Ç–∏ –≤ `Removed`           |
| `Managed` ‚úÖ         | ‚úÖ –°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `Removed` <br>üîÑ –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –ë–î –ø—Ä–∏ `commit()` <br>üß© –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è –∑–∞–≤–∏—Å–∏–º—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π |
| `Detached` üîå       | ‚ùå –ë—Ä–æ—Å–∞–µ—Ç—Å—è `IllegalArgumentException` <br>(_–ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∏–ª–∏ –Ω–∞ —ç—Ç–∞–ø–µ_ `commit`)                               |
| `Removed` üóë        | üîÅ –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ `remove()` –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è                                                                    |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
new ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –æ–¥–Ω–∞–∫–æ –∑–∞–≤–∏—Å–∏–º—ã–µ Entity –º–æ–≥—É—Ç –ø–æ–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ removed, –µ—Å–ª–∏ —É –Ω–∏—Ö –µ—Å—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –æ–Ω–∏ –∏–º–µ–ª–∏ —Å—Ç–∞—Ç—É—Å managed
managed ‚Üí removed –∏ –∑–∞–ø–∏—Å—å –æ–±—ä–µ–∫—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞ –ø—Ä–∏ commit-–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (—Ç–∞–∫–∂–µ –ø—Ä–æ–∏–∑–æ–π–¥—É—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ remove –¥–ª—è –≤—Å–µ—Ö –∫–∞—Å–∫–∞–¥–Ω–æ –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤)
detached ‚Üí exception —Å—Ä–∞–∑—É –∏–ª–∏ –Ω–∞ —ç—Ç–∞–ø–µ commit-–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
removed ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
```
---
</details>



<details>
        <summary>22. –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è merge –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?</summary>

## –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è `merge` –Ω–∞ `Entity` –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?

## üîÑ –í–ª–∏—è–Ω–∏–µ `merge()` –Ω–∞ `Entity` –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

| **–°—Ç–∞—Ç—É—Å** `Entity` | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** `merge(entity)`                                                                                           |
|---------------------|-------------------------------------------------------------------------------------------------------------------------|
| `Transient` üÜï      | ‚úÖ –°–æ–∑–¥–∞—ë—Ç—Å—è **–Ω–æ–≤—ã–π `Managed` –æ–±—ä–µ–∫—Ç** <br>üîÑ –î–∞–Ω–Ω—ã–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∏–∑ `Transient`-–æ–±—ä–µ–∫—Ç–∞ –≤ –Ω–æ–≤—ã–π, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É |
| `Managed` ‚úÖ         | üîÅ –û–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è <br>‚öô –ù–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `merge()` –∫ –∑–∞–≤–∏—Å–∏–º—ã–º Entity, –µ—Å–ª–∏ —É –Ω–∏—Ö –Ω–µ—Ç —Å—Ç–∞—Ç—É—Å–∞ `Managed`            |
| `Detached` üîå       | ‚úÖ –ò—â–µ—Ç—Å—è –∏–ª–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è `Managed` Entity —Å —Ç–µ–º –∂–µ ID <br>üîÑ –î–∞–Ω–Ω—ã–µ –∏–∑ `Detached` –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ `Managed` –æ–±—ä–µ–∫—Ç           |
| `Removed` üóë        | ‚ùå –ë—Ä–æ—Å–∞–µ—Ç—Å—è `IllegalArgumentException` <br>(–ª–∏–±–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –ª–∏–±–æ –ø—Ä–∏ `commit()`)                                       |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
new ‚Üí –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π managed entity, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—à–ª–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
managed ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –æ–¥–Ω–∞–∫–æ –æ–ø–µ—Ä–∞—Ü–∏—è merge —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–∞—Å–∫–∞–¥–Ω–æ –∑–∞–≤–∏—Å–∏–º—ã–µ Entity, –µ—Å–ª–∏ –∏—Ö —Å—Ç–∞—Ç—É—Å –Ω–µ managed
detached ‚Üí –ª–∏–±–æ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π managed entity —Å —Ç–µ–º –∂–µ –ø–µ—Ä–≤–∏—á–Ω—ã–º –∫–ª—é—á–æ–º, –ª–∏–±–æ —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π managed –≤ –∫–æ—Ç–æ—Ä—ã–π —Å–∫–æ–ø–∏—Ä—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ
removed ‚Üí exception —Å—Ä–∞–∑—É –∏–ª–∏ –Ω–∞ —ç—Ç–∞–ø–µ commit-–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

```
---
</details>



<details>
        <summary>23. –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è refresh –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?</summary>

## –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è `refresh` –Ω–∞ `Entity` –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?

## üîÑ –í–ª–∏—è–Ω–∏–µ `refresh()` –Ω–∞ Entity –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

| **–°—Ç–∞—Ç—É—Å** `Entity` | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** `refresh(entity)`                                                                               |
|---------------------|---------------------------------------------------------------------------------------------------------------|
| `Managed` ‚úÖ         | ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑ –ë–î <br>üîÑ –¢–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞—Å–∫–∞–¥–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`CascadeType.REFRESH`) |
| `Transient` üÜï      | ‚ùå `IllegalArgumentException` ‚Äî –æ–±—ä–µ–∫—Ç –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –ë–î                                                        |
| `Detached` üîå       | ‚ùå `IllegalArgumentException` ‚Äî –æ–±—ä–µ–∫—Ç –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞                                                           |
| `Removed` üóë        | ‚ùå `IllegalArgumentException` ‚Äî –æ–±—ä–µ–∫—Ç –ø–æ–º–µ—á–µ–Ω –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ                                                     |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
managed ‚Üí –±—É–¥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω–æ–≥–æ Entity, —Ç–∞–∫–∂–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç refresh –≤—Å–µ—Ö –∫–∞—Å–∫–∞–¥–Ω–æ –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
new, removed, detached ‚Üí exception

```
---
</details>



<details>
        <summary>24. –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è detach –Ω–∞ Entity –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?</summary>

## –ö–∞–∫ –≤–ª–∏—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è `detach` –Ω–∞ `Entity` –æ–±—ä–µ–∫—Ç—ã –∫–∞–∂–¥–æ–≥–æ –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤?

## üîå –í–ª–∏—è–Ω–∏–µ `detach()` –Ω–∞ Entity –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö

| **–°—Ç–∞—Ç—É—Å** `Entity` | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ** `detach(entity)`                                                |
|---------------------|-------------------------------------------------------------------------------|
| `Managed` ‚úÖ         | ‚úÖ –°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `Detached` <br>üîÑ –û–±—ä–µ–∫—Ç –±–æ–ª—å—à–µ –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è `EntityManager` |
| `Removed` üóë        | ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ `Detached` <br>üîÅ –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è, –æ–±—ä–µ–∫—Ç –æ—Ç—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è     |
| `Transient` üÜï      | üîÅ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è ‚Äî –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞                 |
| `Detached` üîå       | üîÅ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è ‚Äî —É–∂–µ –æ—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω                                              |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
managed, removed ‚Üí detached.
new, detached ‚Üí –æ–ø–µ—Ä–∞—Ü–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
```
---
</details>



<details>
        <summary>25. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Basic?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Basic?

### üß© –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Basic` –≤ _JPA_?

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Basic` —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø–æ–ª–µ –º–∞–ø–ø–∏—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –∫–æ–ª–æ–Ω–∫—É —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö 
–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ **–ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–º —Ç–∏–ø–∞–º**, –∏—Ö –æ–±–µ—Ä—Ç–∫–∞–º, —Å—Ç—Ä–æ–∫–∞–º, `Date/Time`, 
–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è–º –∏ –ª—é–±—ã–º —Ç–∏–ø–∞–º, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–º `Serializable`.

> üí° **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é** –ª—é–±–æ–µ –ø–æ–ª–µ –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ `@Basic`, 
>–ø–æ—ç—Ç–æ–º—É –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é –º–æ–∂–Ω–æ **–Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å —è–≤–Ω–æ**.

---
### ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `@Basic`

| **–ê—Ç—Ä–∏–±—É—Ç** | **–¢–∏–ø**     | **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** | **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                                                                                                                             |
|-------------|-------------|---------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| `optional`  | `boolean`   | `true`                    | –£–∫–∞–∑—ã–≤–∞–µ—Ç, –º–æ–∂–µ—Ç –ª–∏ –ø–æ–ª–µ –±—ã—Ç—å `null`. –ü—Ä–∏–º–µ–Ω–∏–º–æ —Ç–æ–ª—å–∫–æ –∫ **–Ω–µ–ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–º** —Ç–∏–ø–∞–º. –ï—Å–ª–∏ `false` ‚Äî –ø—Ä–∏ `null` –∑–Ω–∞—á–µ–Ω–∏–∏ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ. |
| `fetch`     | `FetchType` | `EAGER`                   | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∑–∞–≥—Ä—É–∑–∫–∏: `EAGER` ‚Äî —Å—Ä–∞–∑—É, `LAZY` ‚Äî –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏. `LAZY` –∞–∫—Ç—É–∞–ª–µ–Ω –¥–ª—è **—Ç—è–∂–µ–ª—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤**.                          |

---
### üìå –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

- –ë–µ–∑ —è–≤–Ω–æ–≥–æ `@Basic`, –ø–æ–ª—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —Ç–∏–ø–∏—á–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π: `EAGER`.
- –î–∞–∂–µ –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å `LAZY`, **—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ**.
- `LAZY` –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Ç–æ–ª—å–∫–æ –¥–ª—è **—Ç—è–∂–µ–ª—ã—Ö Serializable-–æ–±—ä–µ–∫—Ç–æ–≤**, —á—Ç–æ–±—ã —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ.

---
### üß† –ó–∞–ø–æ–º–Ω–∏:

- `@Basic` ‚Äî —ç—Ç–æ **–¥–µ—Ñ–æ–ª—Ç–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∞–ø–ø–∏–Ω–≥–∞** –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø–æ–ª–µ–π.
- –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏:
  - –ù–∞—Å—Ç—Ä–æ–π–∫–µ `fetch = LAZY`
  - –ó–∞–ø—Ä–µ—Ç–µ `null` —á–µ—Ä–µ–∑ `optional = false`

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @Basic - —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–æ—Å—Ç–µ–π—à–∏–π —Ç–∏–ø –º–∞–ø–ø–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–æ–ª–æ–Ω–∫—É —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –¢–∞–∫–∂–µ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å fetch —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—é –∏ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ –ø–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –∏–ª–∏ –Ω–µ—Ç. –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫ –ø–æ–ª—é –ª—é–±–æ–≥–æ –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Ç–∏–ø–æ–≤:
1. –ü—Ä–∏–º–∏—Ç–∏–≤—ã –∏ –∏—Ö –æ–±–µ—Ä—Ç–∫–∏.
2. java.lang.String
3. java.math.BigInteger
4. java.math.BigDecimal
5. java.util.Date
6. java.util.Calendar
7. java.sql.Date
8. java.sql.Time
9. java.sql.Timestamp
10. byte[] or Byte[]
11. char[] or Character[]
12. enums
13. –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç Serializable.
–∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Basic –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –±–∞–∑–æ–≤—ã–π —Ç–∏–ø, –∏ Hibernate –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –µ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –í–æ–æ–±—â–µ, –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @Basic –º–æ–∂–Ω–æ –Ω–µ —Å—Ç–∞–≤–∏—Ç—å, –∫–∞–∫ —ç—Ç–æ –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. 


 –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @Basic –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç 2 –∞—Ç—Ä–∏–±—É—Ç–∞:
1. optional - boolean (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true) - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –º–æ–∂–µ—Ç –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è –∏–ª–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –±—ã—Ç—å null. –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤. –ù–æ –µ—Å–ª–∏ —Ç–∏–ø –ø–æ–ª—è –Ω–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–ø–∞, —Ç–æ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–∏ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
2. fetch - FetchType (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é EAGER) - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –¥–æ–ª–∂–µ–Ω –ª–∏ —ç—Ç–æ—Ç –∞—Ç—Ä–∏–±—É—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å—Å—è –Ω–µ–∑–∞–º–µ–¥–ª–∏—Ç–µ–ª—å–Ω–æ (EAGER) –∏–ª–∏ –ª–µ–Ω–∏–≤–æ (LAZY). –û–¥–Ω–∞–∫–æ, —ç—Ç–æ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ JPA, –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –Ω–µ–∑–∞–º–µ–¥–ª–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –¥–∞–∂–µ –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞.
–ë–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Basic –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–∑ –ë–î –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –µ—ë –ø–æ–ª—è –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ (EAGER) –∏ –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–∏—Ö –ø–æ–ª–µ–π –º–æ–≥—É—Ç –±—ã—Ç—å null                                                                                                                                                                                                                                  –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±—É–¥–µ—Ç –∏–º–µ—Ç—å —Å–º—ã—Å–ª —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å –±–æ–ª—å—à–æ–π Serializable –æ–±—ä–µ–∫—Ç, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–π –∫–∞–∫ –±–∞–∑–æ–≤—ã–π —Ç–∏–ø, —Ç–∞–∫ –∫–∞–∫ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—é –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π.
```
---
</details>



<details>
        <summary>26. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Column?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Column?

### üß± –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Column` –≤ JPA?

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Column` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **—Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—è –∫–ª–∞—Å—Å–∞ —Å–æ —Å—Ç–æ–ª–±—Ü–æ–º —Ç–∞–±–ª–∏—Ü—ã –ë–î** 
–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

> üìå –ï—Å–ª–∏ `@Column` –Ω–µ —É–∫–∞–∑–∞–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

---
### ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `@Column`

| **–ê—Ç—Ä–∏–±—É—Ç**   | **–¢–∏–ø / –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** | **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                    |
|---------------|---------------------------------|-----------------------------------|
| `name`        | –ò–º—è –ø–æ–ª—è                        | –ò–º—è —Å—Ç–æ–ª–±—Ü–∞ –≤ –ë–î                  |
| `nullable`    | `true`                          | –ú–æ–∂–µ—Ç –ª–∏ —Å—Ç–æ–ª–±–µ—Ü —Å–æ–¥–µ—Ä–∂–∞—Ç—å `NULL` |
| `unique`      | `false`                         | –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Å—Ç–æ–ª–±—Ü–µ   |
| `length`      | `255`                           | –î–ª–∏–Ω–∞ –¥–ª—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Ç–∏–ø–æ–≤         |
| `insertable`  | `true`                          | –£—á–∞—Å—Ç–≤—É–µ—Ç –ª–∏ —Å—Ç–æ–ª–±–µ—Ü –ø—Ä–∏ `INSERT` |
| `updatable`   | `true`                          | –£—á–∞—Å—Ç–≤—É–µ—Ç –ª–∏ —Å—Ç–æ–ª–±–µ—Ü –ø—Ä–∏ `UPDATE` |

---
### üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ `@Basic` vs `@Column`

| **–ê—Å–ø–µ–∫—Ç**        | `@Basic`                    | `@Column`                            |
|-------------------|-----------------------------|--------------------------------------|
| –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ        | –ü–æ–ª—è —Å—É—â–Ω–æ—Å—Ç–∏               | –°—Ç–æ–ª–±—Ü—ã —Ç–∞–±–ª–∏—Ü—ã –ë–î                   |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `null` | `optional` (_Java —É—Ä–æ–≤–µ–Ω—å_) | `nullable` (_–ë–î —É—Ä–æ–≤–µ–Ω—å_)            |
| –ó–∞–≥—Ä—É–∑–∫–∞          | `fetch` (_EAGER / LAZY_)    | –ù–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è                       |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ö–µ–º—ã   | ‚ùå                           | ‚úÖ (_–∏–º—è, –¥–ª–∏–Ω–∞, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏ –¥—Ä._) |

---

### üß† –í—ã–≤–æ–¥:

- `@Basic` ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç **–ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏** (fetch, optional).
- `@Column` ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç **—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –≤ –ë–î** (name, nullable, length –∏ –ø—Ä.).

---

### üí° –ü—Ä–∏–º–µ—Ä:
```java
@Column(name = "STUDENT_NAME", length = 50, nullable = false, unique = false)
private String name;
```

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @Column —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ –∫–ª–∞—Å—Å–∞ —Å—Ç–æ–ª–±—Ü—É —Ç–∞–±–ª–∏—Ü—ã, –∞ –µ—ë –∞—Ç—Ä–∏–±—É—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —ç—Ç–æ–º —Å—Ç–æ–ª–±—Ü–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
 
 @Basic vs @Column:
1. –ê—Ç—Ä–∏–±—É—Ç—ã @Basic –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ —Å—É—â–Ω–æ—Å—Ç—è–º JPA, —Ç–æ–≥–¥–∞ –∫–∞–∫ –∞—Ç—Ä–∏–±—É—Ç—ã @Column –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ —Å—Ç–æ–ª–±—Ü–∞–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
2. @Basic –∏–º–µ–µ—Ç –∞—Ç—Ä–∏–±—É—Ç optional, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, –º–æ–∂–µ—Ç –ª–∏ –ø–æ–ª–µ –æ–±—ä–µ–∫—Ç–∞ –±—ã—Ç—å null –∏–ª–∏ –Ω–µ—Ç; —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –∞—Ç—Ä–∏–±—É—Ç nullable –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Column —É–∫–∞–∑—ã–≤–∞–µ—Ç, –º–æ–∂–µ—Ç –ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å—Ç–æ–ª–±–µ—Ü –≤ —Ç–∞–±–ª–∏—Ü–µ –±—ã—Ç—å null.
3. –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @Basic, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –ø–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–æ –ª–µ–Ω–∏–≤–æ.
4. –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @Column –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —É–∫–∞–∑–∞—Ç—å –∏–º—è —Å—Ç–æ–ª–±—Ü–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ –∏ —Ä—è–¥ –¥—Ä—É–≥–∏—Ö —Å–≤–æ–π—Å—Ç–≤:
 a. insertable/updatable - –º–æ–∂–Ω–æ –ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–ª–æ–Ω–∫–µ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true;
 b. length - –¥–ª–∏–Ω–∞, –¥–ª—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 255.
–ö–æ—Ä–æ—Ç–∫–æ, –≤ Column (–∫–æ–ª—É–º) –º—ã –∑–∞–¥–∞–µ–º constraints (–∫–æ–Ω—Å—Ç—Ä–µ–π–Ω—Ç—Å), –∞ –≤ Basic (–±–µ–π—Å–∏–∫) - –§–ï–¢–ß –¢–ê–ô–ü

    @Column(name="STUDENT_NAME", length=50, nullable=false, unique=false)
    private String name;
```
---
</details>



<details>
        <summary>27. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Access?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `Access`?

## üéõÔ∏è –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Access` –≤ JPA?

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Access` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **—Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞ (access type)**, –∫–æ—Ç–æ—Ä—ã–π JPA –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Å—É—â–Ω–æ—Å—Ç–∏:

- `FIELD` ‚Äî –¥–æ—Å—Ç—É–ø –Ω–∞–ø—Ä—è–º—É—é –∫ **–ø–æ–ª—è–º**.
- `PROPERTY` ‚Äî –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ **–≥–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã**.

---
### üõ†Ô∏è –°–ø–æ—Å–æ–±—ã –¥–æ—Å—Ç—É–ø–∞:

| **–¢–∏–ø –¥–æ—Å—Ç—É–ø–∞** | **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**                                                                                                                                                                                                |
|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `FIELD`         | –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ (`@Id`, `@Column`_, –∏ –¥—Ä._) —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –Ω–∞–¥ **–ø–æ–ª—è–º–∏**. JPA —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å –Ω–∏–º–∏, –∏–≥–Ω–æ—Ä–∏—Ä—É—è –≥–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã.                                                                                     |
| `PROPERTY`      | –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –Ω–∞–¥ **–≥–µ—Ç—Ç–µ—Ä–∞–º–∏**. JPA –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–≥–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã** –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏. –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ JavaBeans (_–Ω–∞–ø—Ä–∏–º–µ—Ä,_ `getFirstName()` / `setFirstName(String)`). |

---
### ‚öôÔ∏è –ì–¥–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@Access`:

- –ù–∞ —É—Ä–æ–≤–Ω–µ **–∫–ª–∞—Å—Å–∞** (`Entity`, `MappedSuperclass`, `Embeddable`) ‚Äî –∑–∞–¥–∞—ë—Ç –æ–±—â–∏–π —Å–ø–æ—Å–æ–± –¥–æ—Å—Ç—É–ø–∞.
- –ù–∞ —É—Ä–æ–≤–Ω–µ **–æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—è –∏–ª–∏ –º–µ—Ç–æ–¥–∞** ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–º–µ—à–∏–≤–∞—Ç—å `FIELD` –∏ `PROPERTY`.

---
### üß† –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

> JPA –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Äî –ø–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Id`:
> - –ï—Å–ª–∏ `@Id` –Ω–∞–¥ –ø–æ–ª–µ–º ‚Üí `AccessType.FIELD`
> - –ï—Å–ª–∏ `@Id` –Ω–∞–¥ –≥–µ—Ç—Ç–µ—Ä–æ–º ‚Üí `AccessType.PROPERTY`

---
### ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- –ï—Å–ª–∏ –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–æ—Å—Ç—É–ø–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@Transient` –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –º–∞–ø–ø–∏–Ω–≥–∞ (–≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —Å–≤–æ–π—Å—Ç–≤–∞).
- –£–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è –ø–æ–ª—É—á–∞—é—Ç —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞.

---
### üí° –ü—Ä–∏–º–µ—Ä:

```java
@Entity
@Access(AccessType.PROPERTY)
public class Customer {

  private String firstName;

  @Id
  public Long getId() { ... }

  public String getFirstName() { ... }
  public void setFirstName(String name) { ... }
}
```

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–û–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞ (access type) –¥–ª—è –∫–ª–∞—Å—Å–∞ entity, Mapped Superclass, embeddable –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤, —Ç–æ –µ—Å—Ç—å –∫–∞–∫ JPA –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –∞—Ç—Ä–∏–±—É—Ç–∞–º entity, –∫–∞–∫ –∫ –ø–æ–ª—è–º –∫–ª–∞—Å—Å–∞ (FIELD) –∏–ª–∏ –∫–∞–∫ –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º –∫–ª–∞—Å—Å–∞ (PROPERTY), –∏–º–µ—é—â–∏–µ –≥–µ—Ç–µ—Ä—ã (getter) –∏ —Å–µ—Ç–µ—Ä—ã (setter).

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—è–º —Å—É—â–Ω–æ—Å—Ç–∏. –î–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ —ç—Ç–∏—Ö –ø–æ–ª–µ–π –µ—Å—Ç—å –¥–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:
1. Field access (–¥–æ—Å—Ç—É–ø –ø–æ –ø–æ–ª—è–º). –ü—Ä–∏ —Ç–∞–∫–æ–º —Å–ø–æ—Å–æ–±–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –º–∞–ø–ø–∏–Ω–≥–∞ (Id, Column,...) —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –Ω–∞–¥ –ø–æ–ª—è–º–∏, –∏ Hibernate –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–ª—è–º–∏ —Å—É—â–Ω–æ—Å—Ç–∏, —á–∏—Ç–∞—è –∏ –∑–∞–ø–∏—Å—ã–≤–∞—è –∏—Ö.
2. Property access (–¥–æ—Å—Ç—É–ø –ø–æ —Å–≤–æ–π—Å—Ç–≤–∞–º). –ü—Ä–∏ —Ç–∞–∫–æ–º —Å–ø–æ—Å–æ–±–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –Ω–∞–¥ –º–µ—Ç–æ–¥–∞–º–∏-–≥–µ—Ç—Ç–µ—Ä–∞–º–∏, –Ω–æ –Ω–∏–∫–∞–∫ –Ω–µ –Ω–∞–¥ —Å–µ—Ç—Ç–µ—Ä–∞–º–∏. Hibernate –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –∏ —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ –ø–æ–ª–µ–π —Å—É—â–Ω–æ—Å—Ç–∏. 


–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –º–µ—Å—Ç–æ–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Id. –ï—Å–ª–∏ –æ–Ω–∞ –±—É–¥–µ—Ç –Ω–∞–¥ –ø–æ–ª–µ–º - —ç—Ç–æ –±—É–¥–µ—Ç AccessType.FIELD, –µ—Å–ª–∏ –Ω–∞–¥ –≥–µ—Ç—Ç–µ—Ä–æ–º - —ç—Ç–æ AccessType.PROPERTY.
–ß—Ç–æ–±—ã —è–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞ —É —Å—É—â–Ω–æ—Å—Ç–∏, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @Access, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–∞ —É —Å—É—â–Ω–æ—Å—Ç–∏, Mapped Superclass –∏ Embeddable class, –∞ —Ç–∞–∫–∂–µ –Ω–∞–¥ –ø–æ–ª—è–º–∏ –∏–ª–∏ –º–µ—Ç–æ–¥–∞–º–∏.
–ü–æ–ª—è, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞, –∏–º–µ—é—Ç —Ç–∏–ø –¥–æ—Å—Ç—É–ø–∞ —ç—Ç–æ–≥–æ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–∞.
–ö–æ–≥–¥–∞ —É –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–æ—Å—Ç—É–ø–∞, —Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @Transient –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞–ø–ø–∏–Ω–≥–∞.


–ù–æ –µ—Å—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ - —É —Å—É—â–Ω–æ—Å—Ç–∏ —Å property access –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º JavaBeans. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É —Å—É—â–Ω–æ—Å—Ç–∏ Customer –µ—Å—Ç—å –ø–æ–ª–µ —Å –∏–º–µ–Ω–µ–º firstName, —Ç–æ —É —ç—Ç–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã getFirstName –∏ setFirstName –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—è firstName.
```
---
</details>



<details>
        <summary>28. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Cacheable?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Cacheable?

### üß† –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Cacheable` –≤ _JPA_?

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Cacheable` ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–∫–∞–∑–∞—Ç—å JPA (_–∏ Hibernate_), 
–Ω—É–∂–Ω–æ –ª–∏ **—Ö—Ä–∞–Ω–∏—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –≤ –∫—ç—à–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è** (2nd level cache).

> üìç **–ö—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è** ‚Äî –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ (`EntityManager`).  
> 
> üìç **–ö—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è** ‚Äî **–æ–±—â–∏–π** –¥–ª—è –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π (`SessionFactory`), –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å–∫–æ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∏ —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

---
### üè∑Ô∏è –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è?

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Cacheable` —Å—Ç–∞–≤–∏—Ç—Å—è **–Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º —Å—É—â–Ω–æ—Å—Ç–∏**:

```java
@Entity
@Cacheable(true)
public class Product {
    ...
}
```

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @Cacheable - –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è JPA, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ç–æ–≥–æ, –¥–æ–ª–∂–Ω–∞ –ª–∏ —Å—É—â–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –∫—ç—à–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è. JPA –≥–æ–≤–æ—Ä–∏—Ç –æ –ø—è—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è—Ö shared-cache-mode –∏–∑ persistence.xml, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è second-level cache:

‚ùñ ENABLE_SELECTIVE: (–¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ):—Ç–æ–ª—å–∫–æ —Å—É—â–Ω–æ—Å—Ç–∏ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Cacheable (—Ä–∞–≤–Ω–æ—Å–∏–ª—å–Ω–æ –∑–Ω–∞—á–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é @Cacheable(value=true)) –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –∫—ç—à–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.
‚ùñ DISABLE_SELECTIVE: –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –∫—ç—à–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å—É—â–Ω–æ—Å—Ç–µ–π, –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö @Cacheable(value=false) –∫–∞–∫ –Ω–µ–∫—ç—à–∏—Ä—É–µ–º—ã–µ.
‚ùñ ALL: —Å—É—â–Ω–æ—Å—Ç–∏ –≤—Å–µ–≥–¥–∞ –∫—ç—à–∏—Ä—É—é—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –Ω–µ–∫—ç—à–∏—Ä—É–µ–º—ã–µ.
‚ùñ NONE: –Ω–∏ –æ–¥–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ –∫—ç—à–∏—Ä—É–µ–º–∞—è. –ü—Ä–∏ –¥–∞–Ω–Ω–æ–π –æ–ø—Ü–∏–∏ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –≤–æ–æ–±—â–µ –æ—Ç–∫–ª—é—á–∏—Ç—å –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.
‚ùñ UNSPECIFIED: –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫—ç—à–∞ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ Hibernate. –≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ —Ç–æ–º—É, —á—Ç–æ –≤–æ–æ–±—â–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è shared-cache-mode, —Ç–∞–∫ –∫–∞–∫ Hibernate –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∂–∏–º UNSPECIFIED.

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @Cacheable —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º —Å—É—â–Ω–æ—Å—Ç–∏. –ï—ë –¥–µ–π—Å—Ç–≤–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ —ç—Ç—É —Å—É—â–Ω–æ—Å—Ç—å –∏ –µ—ë –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –¥—Ä—É–≥–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.


–ö–∞–∫ –∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å–Ω–∞—â–µ–Ω–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º ORM, Hibernate –∏–º–µ–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –∫—ç—à–∞ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è. –≠—Ç–æ –∫—ç—à —Å –æ–±–ª–∞—Å—Ç—å—é –¥–µ–π—Å—Ç–≤–∏—è —Å–µ–∞–Ω—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Å—É—â–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –∏–º–µ–µ—Ç –æ–±–ª–∞—Å—Ç—å SessionFactory -, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–∏–º –¥–ª—è –≤—Å–µ—Ö —Å–µ–∞–Ω—Å–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Ñ–∞–±—Ä–∏–∫–∏ —Å–µ–∞–Ω—Å–æ–≤. 
```
---
</details>



<details>
        <summary>29. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Cache?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Cache`?

### üß† Hibernate: –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Cache`

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Cache` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `Hibernate` –¥–ª—è **–≥–∏–±–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è (_L2 Cache_)**.

> –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —Å–≤—è–∑–∫–µ —Å `@Cacheable`, –∫–æ—Ç–æ—Ä–∞—è –≤–∫–ª—é—á–∞–µ—Ç —Å–∞–º –º–µ—Ö–∞–Ω–∏–∑–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–∏.

---
### ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| **–ü–∞—Ä–∞–º–µ—Ç—Ä** | **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                                                                        |
|--------------|---------------------------------------------------------------------------------------|
| `usage`      | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º.                  |
| `region`     | –ò–º—è –æ–±–ª–∞—Å—Ç–∏ (_—Ä–µ–≥–∏–æ–Ω–∞_) –∫—ç—à–∞, –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ —Ä–∞–∑–Ω—ã–µ –≥—Ä—É–ø–ø—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è. |
| `include`    | –£–∫–∞–∑—ã–≤–∞–µ—Ç, –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –ª–∏ –ª–µ–Ω–∏–≤—ã–µ –ø–æ–ª—è (`lazy`) –∏–ª–∏ —Ç–æ–ª—å–∫–æ eagerly-–∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ.        |

---
### üß© –ó–Ω–∞—á–µ–Ω–∏—è `usage` (_—Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è_)

| **–ó–Ω–∞—á–µ–Ω–∏–µ**           | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                    |
|------------------------|---------------------------------------------------------------------------------|
| `READ_ONLY`            | –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–ø–∏—Å–∏. |
| `NONSTRICT_READ_WRITE` | –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –±–µ–∑ —Å—Ç—Ä–æ–≥–æ–π –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏. –í–æ–∑–º–æ–∂–Ω—ã "**–≥—Ä—è–∑–Ω—ã–µ**" —á—Ç–µ–Ω–∏—è.       |
| `READ_WRITE`           | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å.          |
| `TRANSACTIONAL`        | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å JTA. –ü–æ–ª–Ω–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤. |

---
### üóÇÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `region`

- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–∏ **—Ä–∞–∑–¥–µ–ª—è—Ç—å –∫—ç—à –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º**, –∑–∞–¥–∞–≤–∞—è —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ 
(_–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏, –æ–±—ä–µ–º, –ø–æ–ª–∏—Ç–∏–∫—É –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è –∏ —Ç.–ø._).
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `Hibernate` —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–≥–∏–æ–Ω —Å –∏–º–µ–Ω–µ–º –ø–æ–ª–Ω–æ–≥–æ –∏–º–µ–Ω–∏ –∫–ª–∞—Å—Å–∞.
- **–ü—Ä–∏–º–µ—Ä**: —Å—É—â–Ω–æ—Å—Ç—å `Foo` –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ —Ä–µ–≥–∏–æ–Ω–µ `com.example.model.Foo`.

---
### üö´ –ü–∞—Ä–∞–º–µ—Ç—Ä `include`

| **–ó–Ω–∞—á–µ–Ω–∏–µ**  | **–ü–æ–≤–µ–¥–µ–Ω–∏–µ**                                                                                |
|---------------|----------------------------------------------------------------------------------------------|
| `all`         | –ö—ç—à–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –ø–æ–ª—è —Å—É—â–Ω–æ—Å—Ç–∏, –≤–∫–ª—é—á–∞—è –ª–µ–Ω–∏–≤—ã–µ (`lazy`). *(–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)*                     |
| `non-lazy`    | –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è –ª–µ–Ω–∏–≤—ã–µ –ø–æ–ª—è –∏–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∑–∞—Ç—Ä–∞—Ç –Ω–∞ —Ç—è–∂–µ–ª—ã–µ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏. |

---
### ‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```java
@Entity
@Cacheable
@Cache(usage = CacheConcurrencyStrategy.READ_WRITE, region = "users", include = "all")
public class User {
  @Id
  private Long id;

  private String name;

  // ...
}
```

---
```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–≠—Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Hibernate, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—â–∞—è —Ç–æ–Ω–∫–æ—Å—Ç–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –≤ –∫—ç—à–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è Hibernate. @Cache –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
‚ùñ        include - –∏–º–µ–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–Ω–∞—á–µ–Ω–∏–µ all –∏ –æ–∑–Ω–∞—á–∞—é—â–∏–π –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –í—Ç–æ—Ä–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - non-lazy, –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–µ–Ω–∏–≤–æ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –ö—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è –Ω–µ –æ–±—Ä–∞—â–∞–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è –Ω–∞ —ç—Ç—É –¥–∏—Ä–µ–∫—Ç–∏–≤—É –∏ –≤—Å–µ–≥–¥–∞ –∫—ç—à–∏—Ä—É–µ—Ç –ª–µ–Ω–∏–≤–æ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã.
‚ùñ        region - –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –∏–º—è —Ä–µ–≥–∏–æ–Ω–∞ –∫—ç—à–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–∏. –†–µ–≥–∏–æ–Ω –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –∫—ç—à–∞, –∏–º–µ—é—â–∏–µ —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫—ç—à–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã —Å–æ–∑–¥–∞—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ehcache –¥–≤–∞ —Ä–µ–≥–∏–æ–Ω–∞, –æ–¥–∏–Ω —Å –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤, –¥—Ä—É–≥–æ–π —Å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —á–∞—Å—Ç–æ –∏–∑–º–µ–Ω—è—é—â–∏–µ—Å—è –æ–±—ä–µ–∫—Ç—ã –≤ –ø–µ—Ä–≤—ã–π —Ä–µ–≥–∏–æ–Ω, –∞ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ - –≤–æ –≤—Ç–æ—Ä–æ–π. Ehcache –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–≥–∏–æ–Ω –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ —Å –∏–º–µ–Ω–µ–º –∫–ª–∞—Å—Å–∞ —ç—Ç–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –≤ —ç—Ç–æ–º —Ä–µ–≥–∏–æ–Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ —ç—Ç–∏ —Å—É—â–Ω–æ—Å—Ç–∏. –ö –ø—Ä–∏–º–µ—Ä—É, —ç–∫–∑–µ–º–ø–ª—è—Ä—ã Foo —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Ehcache –≤ –∫—ç—à–µ —Å –∏–º–µ–Ω–µ–º ‚Äúcom.baeldung.hibernate.cache.model.Foo‚Äù.
‚ùñ        usage - –∑–∞–¥–∞—ë—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç–∞–º.
transactional
read-write
nonstrict-read-write
read-only
```
---
</details>



<details>
        <summary>30. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Embedded –∏ @Embeddable?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Embedded –∏ @Embeddable?

## üß± –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Embeddable` –∏ `@Embedded` –≤ JPA

**_JPA_** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@Embeddable` –∏ `@Embedded` –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ 
**–≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (_–∫–æ–º–ø–æ–∑–∏—Ü–∏—è_)**, —Ö—Ä–∞–Ω–∏–º—ã—Ö –≤ **–æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ** —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é.

---
### üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π

| **–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è**  | **–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** | **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                                                    |
|----------------|----------------------|-------------------------------------------------------------------|
| `@Embeddable`  | –ù–∞–¥ –∫–ª–∞—Å—Å–æ–º          | –û–±–æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω –≤ —Å—É—â–Ω–æ—Å—Ç—å.              |
| `@Embedded`    | –ù–∞–¥ –ø–æ–ª–µ–º –≤ —Å—É—â–Ω–æ—Å—Ç–∏ | –û–±–æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –ø–æ–ª–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –¥—Ä—É–≥–æ–π (_–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π_) –æ–±—ä–µ–∫—Ç. |

---
### üì¶ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

–≠—Ç–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ **–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏**, –∫–æ–≥–¥–∞ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç **–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ** –æ—Ç –¥—Ä—É–≥–æ–≥–æ.

**–ù–∞–ø—Ä–∏–º–µ—Ä**:
- –ê–¥—Ä–µ—Å (`Address`) –∫–∞–∫ —á–∞—Å—Ç—å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`User`)
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã (`BankDetails`) –∫–∞–∫ —á–∞—Å—Ç—å –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ (`Customer`)

---
### üìê –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –º–∞–ø–ø–∏–Ω–≥–µ

- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ `@Embeddable` **–∏–Ω–ª–∞–π–Ω-–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è** –≤ —Ç–∞–±–ª–∏—Ü–µ —Å—É—â–Ω–æ—Å—Ç–∏, –∫–∞–∫ –±—É–¥—Ç–æ –æ–Ω–∏ –µ—ë —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ.
- –ù–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞, –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ ‚Äî –≤ **–æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ** –ë–î.

---
### ‚úÖ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```java
// –í—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å
@Embeddable
public class Address {
  private String street;
  private String city;
  private String zip;
}

// –°—É—â–Ω–æ—Å—Ç—å, –≤ –∫–æ—Ç–æ—Ä—É—é –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è Address
@Entity
public class User {
  @Id
  private Long id;

  @Embedded
  private Address address;
}
```

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
@Embeddable - –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è JPA, —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –≤ –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã.
@Embedded - –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è JPA, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞–¥ –ø–æ–ª–µ–º –≤ –∫–ª–∞—Å—Å–µ-—Å—É—â–Ω–æ—Å—Ç–∏ –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ –º—ã –≤–Ω–µ–¥—Ä—è–µ–º –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å.

–î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –≤ –æ–±—â—É—é —Ç–∞–±–ª–∏—Ü—É —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Embedable –∏ @Embeded. –ü–µ—Ä–≤–∞—è —Å—Ç–∞–≤–∏—Ç—Å—è –Ω–∞–¥ –ø–æ–ª–µ–º, –∞ –≤—Ç–æ—Ä–∞—è –Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º. –û–Ω–∏ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–µ. (–ö–æ–º–ø–æ–∑–∏—Ü–∏—è, –∫–æ–≥–¥–∞ –Ω–µ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ)
```
---
</details>



<details>
        <summary>31. –ö–∞–∫ —Å–º–∞–ø–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á?</summary>

## –ö–∞–∫ —Å–º–∞–ø–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á?

## üîê –°–æ—Å—Ç–∞–≤–Ω–æ–π (–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –≤ JPA

**–°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á** (_composite primary key_) ‚Äî —ç—Ç–æ **–Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ª–æ–Ω–æ–∫**, 
–∫–æ—Ç–æ—Ä—ã–µ –≤–º–µ—Å—Ç–µ –æ–±—Ä–∞–∑—É—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ.

---
### üß≠ –°–ø–æ—Å–æ–±—ã –º–∞–ø–ø–∏–Ω–≥–∞ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –∫–ª—é—á–∞

–í JPA –µ—Å—Ç—å **–¥–≤–∞ —Å–ø–æ—Å–æ–±–∞** –∑–∞–¥–∞–Ω–∏—è —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –∫–ª—é—á–∞:

| **–°–ø–æ—Å–æ–±**        | **–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è**                | **–ö–ª–∞—Å—Å –∫–ª—é—á–∞**   | **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**                                                |
|-------------------|------------------------------|-------------------|----------------------------------------------------------------|
| üîπ `@IdClass`     | `@IdClass(ClassName.class)`  | –û–±—ã—á–Ω—ã–π **POJO**  | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–æ–ª—è –∫–ª—é—á–∞ **–æ–±—ä—è–≤–ª–µ–Ω—ã –ø—Ä—è–º–æ –≤ —Å—É—â–Ω–æ—Å—Ç–∏**. |
| üîπ `@EmbeddedId`  | `@EmbeddedId`                | `@Embeddable`     | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∫–ª—é—á –æ—Ñ–æ—Ä–º–ª–µ–Ω –∫–∞–∫ **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç**.   |

---
### üß© 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@IdClass`

#### üìå –®–∞–≥–∏:
1. –°–æ–∑–¥–∞—ë–º –∫–ª–∞—Å—Å –∫–ª—é—á–∞ —Å –Ω—É–∂–Ω—ã–º–∏ –ø–æ–ª—è–º–∏, `equals()` –∏ `hashCode()`.
2. –ê–Ω–Ω–æ—Ç–∏—Ä—É–µ–º —Å—É—â–Ω–æ—Å—Ç—å `@IdClass(–ò–º—è–ö–ª–∞—Å—Å–∞.class)`.
3. –ü–æ–º–µ—á–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è –≤ —Å—É—â–Ω–æ—Å—Ç–∏ `@Id`.

#### ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ò–º–µ–Ω–∞ –∏ —Ç–∏–ø—ã –ø–æ–ª–µ–π –≤ –∫–ª–∞—Å—Å–µ –∫–ª—é—á–∞ –¥–æ–ª–∂–Ω—ã **—Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –ø–æ–ª—è–º–∏ –≤ —Å—É—â–Ω–æ—Å—Ç–∏**.
- –ö–ª–∞—Å—Å –∫–ª—é—á–∞ –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `Serializable`.

```java
// –ö–ª–∞—Å—Å –∫–ª—é—á–∞
public class AccountId implements Serializable {
  private String accountNumber;
  private String accountType;

  // equals() –∏ hashCode() –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
}

// –°—É—â–Ω–æ—Å—Ç—å
@Entity
@IdClass(AccountId.class)
public class Account {
  @Id
  private String accountNumber;

  @Id
  private String accountType;

  private BigDecimal balance;
}
```

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–°–æ—Å—Ç–∞–≤–Ω–æ–π –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —Ç–∞–∫–∂–µ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π —Å–æ—Å—Ç–∞–≤–Ω—ã–º –∫–ª—é—á–æ–º, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏—é –∏–∑ –¥–≤—É—Ö –∏–ª–∏ –±–æ–ª–µ–µ —Å—Ç–æ–ª–±—Ü–æ–≤ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ —Ç–∞–±–ª–∏—Ü—ã.

 @IdClass
–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–º–µ–Ω–µ–º Account, –∏ –æ–Ω–∞ –∏–º–µ–µ—Ç –¥–≤–∞ —Å—Ç–æ–ª–±—Ü–∞ - accountNumber –∏ accountType, –∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á. –ß—Ç–æ–±—ã –æ–±–æ–∑–Ω–∞—á–∏—Ç—å –æ–±–∞ —ç—Ç–∏—Ö –ø–æ–ª—è –∫–∞–∫ —á–∞—Å—Ç–∏ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –∫–ª—é—á–∞ –º—ã –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä, ComplexKey —Å —ç—Ç–∏–º–∏ –ø–æ–ª—è–º–∏.
–ó–∞—Ç–µ–º –Ω–∞–º –Ω—É–∂–Ω–æ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç—å Account –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @IdClass(ComplexKey.class). –ú—ã —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω—ã –æ–±—ä—è–≤–∏—Ç—å –ø–æ–ª—è –∏–∑ –∫–ª–∞—Å—Å–∞ ComplexKey –≤ —Å—É—â–Ω–æ—Å—Ç–∏ Account —Å —Ç–∞–∫–∏–º–∏ –∂–µ –∏–º–µ–Ω–∞–º–∏ –∏ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —Å –ø–æ–º–æ—â—å—é @Id.

 @EmbeddedId
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä, –≤ –∫–æ—Ç–æ—Ä–æ–º –º—ã –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–Ω–∏–≥–µ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ —è–∑—ã–∫–æ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–ª–µ–π –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∫–ª–∞—Å—Å –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞, BookId, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω @Embeddable.
–ó–∞—Ç–µ–º –Ω–∞–º –Ω—É–∂–Ω–æ –≤—Å—Ç—Ä–æ–∏—Ç—å —ç—Ç–æ—Ç –∫–ª–∞—Å—Å –≤ —Å—É—â–Ω–æ—Å—Ç—å Book, –∏—Å–ø–æ–ª—å–∑—É—è @EmbeddedId.
```
---
</details>



<details>
        <summary>32. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è ID? –ö–∞–∫–∏–µ @GeneratedValue –≤—ã –∑–Ω–∞–µ—Ç–µ?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `ID`? –ö–∞–∫–∏–µ `@GeneratedValue` –≤—ã –∑–Ω–∞–µ—Ç–µ?

## üÜî `@Id` –∏ `@GeneratedValue` –≤ JPA / Hibernate

### üîπ @Id

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Id` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç **–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á** (**_PK_**) —Å—É—â–Ω–æ—Å—Ç–∏.

**–î–æ–ø—É—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã –¥–ª—è PK:**

- –ü—Ä–∏–º–∏—Ç–∏–≤—ã –∏ –æ–±–µ—Ä—Ç–∫–∏ (`int`, `long`, `Integer`, `Long`)
- `String`
- `BigDecimal`, `BigInteger`
- `java.util.Date`, `java.sql.Date`

---
### üîπ @GeneratedValue

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@GeneratedValue` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π PK**.

#### üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

| **–°—Ç—Ä–∞—Ç–µ–≥–∏—è** | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                            | **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**                                                              |
|---------------|-------------------------------------------------------------------------|------------------------------------------------------------------------------|
| `AUTO`        | Hibernate –≤—ã–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–∏–∞–ª–µ–∫—Ç–∞ –ë–î –∏ —Ç–∏–ø–∞ –ø–æ–ª—è   | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é. –£–¥–æ–±–Ω–æ –¥–ª—è –∫—Ä–æ—Å—Å-–ë–î —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.                             |
| `IDENTITY`    | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è IDENTITY-—Å—Ç–æ–ª–±–µ—Ü –ë–î. –ó–Ω–∞—á–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –°–£–ë–î | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–Ω–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ù–µ–ª—å–∑—è –ø–æ–ª—É—á–∏—Ç—å ID –¥–æ `persist()`.                 |
| `SEQUENCE`    | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç `SEQUENCE` –≤ –ë–î                                     | –û–ø—Ç–∏–º–∞–ª–µ–Ω. –ó–Ω–∞—á–µ–Ω–∏–µ ID –ø–æ–ª—É—á–∞–µ—Ç—Å—è –¥–æ –≤—Å—Ç–∞–≤–∫–∏. –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ SEQUENCE.  |
| `TABLE`       | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É (`hibernate_sequence`)              | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, —Å–Ω–∏–∂–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |

> ‚ÑπÔ∏è –ù–∞—á–∏–Ω–∞—è —Å **Hibernate 5.0**, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è `AUTO` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `SEQUENCE` (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ë–î).

---
### üî∏ –ö—Ä–∞—Ç–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

| **–°—Ç—Ä–∞—Ç–µ–≥–∏—è** | **–¢—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É SEQUENCE** | **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º –ë–î** | **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | **–í–∏–¥–∏–º–æ—Å—Ç—å `ID` –¥–æ –≤—Å—Ç–∞–≤–∫–∏** |
|---------------|--------------------------------|-------------------------------|------------------------|-------------------------------|
| `AUTO`        | –ù–µ—Ç                            | –î–∞                            | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã–±–æ—Ä–∞      | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã–±–æ—Ä–∞             |
| `IDENTITY`    | –ù–µ—Ç                            | –î–∞                            | –í—ã—Å–æ–∫–∞—è                | ‚ùå –ù–µ—Ç                         |
| `SEQUENCE`    | ‚úÖ –î–∞                           | –ù–µ –≤–æ –≤—Å–µ—Ö –ë–î                 | ‚úÖ –í—ã—Å–æ–∫–∞—è              | ‚úÖ –î–∞                          |
| `TABLE`       | –ù–µ—Ç                            | –î–∞                            | ‚ùå –ù–∏–∑–∫–∞—è               | ‚úÖ –î–∞                          |

---
### üìå –í—ã–≤–æ–¥

- `@Id` ‚Äî –ø–æ–º–µ—á–∞–µ—Ç –ø–æ–ª–µ –∫–∞–∫ **–ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á**.
- `@GeneratedValue` ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç **–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∑–Ω–∞—á–µ–Ω–∏–π –∫–ª—é—á–µ–π**.
- –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç:
  - –î–∏–∞–ª–µ–∫—Ç–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  - –¢—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∏ SEQUENCE –≤ –ë–î

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @Id –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–π (–Ω–µ —Å–æ—Å—Ç–∞–≤–Ω–æ–π) –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è. –í —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å JPA, –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞:
1.        –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã –∏ –∏—Ö –æ–±–µ—Ä—Ç–∫–∏;
2.        —Å—Ç—Ä–æ–∫–∏;
3.        BigDecimal –∏ BigInteger;
4.        java.util.Date –∏ java.sql.Date.


–ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–æ—Å—å –¥–ª—è –Ω–∞—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤–∏—á–Ω–æ–º—É –∫–ª—é—á—É, –æ—Ç–º–µ—á–µ–Ω–Ω–æ–º—É –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Id, –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @GeneratedValue.
–í–æ–∑–º–æ–∂–Ω–æ 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞: 
AUTO(default) - –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ Hibernate –¥–æ–ª–∂–µ–Ω –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —É—á–∏—Ç—ã–≤–∞—è –µ—ë –¥–∏–∞–ª–µ–∫—Ç, —Ç–∞–∫ –∫–∞–∫ —É —Ä–∞–∑–Ω—ã—Ö –ë–î —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –∏—Å—Ö–æ–¥–∏—Ç—å –∏–∑ —Ç–∏–ø–∞ –ø–æ–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞. 
IDENTITY - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å—Ç–æ–ª–±–µ—Ü IDENTITY, –∏–º–µ—é—â–∏–π—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ó–Ω–∞—á–µ–Ω–∏—è –≤ —Å—Ç–æ–ª–±—Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –≤–Ω–µ —Ç–µ–∫—É—â–µ–π –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏(–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –±–∞–∑—ã, —Ç–∞–∫ —á—Ç–æ —ç—Ç–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ –º—ã –Ω–µ —É–≤–∏–¥–∏–º), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—Å—Ç–∞–≤–∫–∏. –í –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å—É—â–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞.


SEQUENCE - —Ç–∏–ø –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π Hibernate. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ Hibernate –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ—é—â–∏–µ—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (Sequence). –í –±–¥ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–≤–∏–¥–µ—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É. –ù–æ –µ—Å–ª–∏ –Ω–∞—à–∞ –ë–î –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–∏–ø SEQUENCE, —Ç–æ Hibernate –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ —Ç–∏–ø TABLE. –í –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞, —Ç–∞–∫ –∫–∞–∫ —Ö–∏–±–µ—Ä –≤–æ–∑—å–º–µ—Ç –∏–∑ —Ç–∞–±–ª–∏—Ü—ã id hibernate-sequence –∏ –≤–µ—Ä–Ω—ë—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
SEQUENCE - —ç—Ç–æ –æ–±—ä–µ–∫—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–æ—Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—Ä–æ—Å–µ. 
TABLE - Hibernate –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∞—Ç—å –ø–µ—Ä–≤–∏—á–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–∑ —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–π –¥–ª—è —ç—Ç–∏—Ö —Ü–µ–ª–µ–π —Ç–∞–±–ª–∏—Ü—ã, —Å–ø–æ—Å–æ–±–Ω–æ–π —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ª—é–±–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π. –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–µ—â–∞—é—Ç –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏ –∑–∞–º–µ–¥–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
```
---
</details>



<details>
        <summary>33. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @JoinColumn –∏ @JoinTable? –ì–¥–µ –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?</summary>

## –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@JoinColumn` –∏ `@JoinTable`? –ì–¥–µ –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?

## üîó –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ JPA: `@JoinColumn`, `@JoinColumns`, `@JoinTable`

### üìå –û–±—â–∞—è –∏–¥–µ—è

–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@JoinColumn`, `@JoinColumns` –∏ `@JoinTable` –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ JPA/Hibernate 
–¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ **—Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏** –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏–µ–º **–≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π** 
–∏ **—Å–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

---
## üî∏ `@JoinColumn`

> –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞ (**_FK_**), —Å–≤—è–∑—ã–≤–∞—é—â–µ–≥–æ —Ç–µ–∫—É—â—É—é —Å—É—â–Ω–æ—Å—Ç—å —Å –¥—Ä—É–≥–æ–π.

### üí° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:

```java
@JoinColumn(name = "author_id")
private Author author;
```
### üìã –ü–æ–≤–µ–¥–µ–Ω–∏–µ:
* –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ **–≤–ª–∞–¥–µ—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω–µ —Å–≤—è–∑–∏**.
* –°–æ–∑–¥–∞—ë—Ç **–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á** –≤ —Ç–∞–±–ª–∏—Ü–µ —ç—Ç–æ–π —Å—É—â–Ω–æ—Å—Ç–∏.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏: `@OneToOne`, `@ManyToOne`, `@OneToMany` (_–∏–Ω–æ–≥–¥–∞_).

### üß© –ì–¥–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å—Ç–æ–ª–±–µ—Ü?
* **–í —Ç–∞–±–ª–∏—Ü–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞**, –¥–∞–∂–µ –µ—Å–ª–∏ `@JoinColumn` —É–∫–∞–∑–∞–Ω–∞ –Ω–∞ –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω–∞—Ö.

---
## üî∏ `@JoinColumns`
> **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π, –∫–æ–≥–¥–∞ –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–ª–æ–Ω–æ–∫.**

### üí° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
```java
@JoinColumns({
  @JoinColumn(name = "dept_id", referencedColumnName = "id"),
  @JoinColumn(name = "dept_code", referencedColumnName = "code")
})
private Department department;
```
### üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ **PK** –∏–ª–∏ **FK** —Å–æ—Å—Ç–∞–≤–Ω–æ–π (_–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–ª–±—Ü–æ–≤_).
* –ö–∞–∂–¥–∞—è `@JoinColumn` —É–∫–∞–∑—ã–≤–∞–µ—Ç `name` (_—Å—Ç–æ–ª–±–µ—Ü –≤ —Ç–µ–∫—É—â–µ–π —Ç–∞–±–ª–∏—Ü–µ_) 
–∏ `referencedColumnName` (_—Å—Ç–æ–ª–±–µ—Ü –≤–æ –≤–Ω–µ—à–Ω–µ–π —Ç–∞–±–ª–∏—Ü–µ_).

---
## üî∏ `@JoinTable`
> **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–π (_—Å–≤–æ–¥–Ω–æ–π_) —Ç–∞–±–ª–∏—Ü—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ `@ManyToMany`.**

### üí° –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
```java
@JoinTable(
name = "catalog",
joinColumns = @JoinColumn(name = "id_book"),
inverseJoinColumns = @JoinColumn(name = "id_student")
)
private Student student;
```

### üìã –ü–æ–≤–µ–¥–µ–Ω–∏–µ:
* –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º—è —Å–≤–æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–∞—Ä—ã `joinColumns` / `inverseJoinColumns`.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–≤—è–∑—è—Ö:
  * `@ManyToMany` (_–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ_)
  * –ò–Ω–æ–≥–¥–∞ –≤ `@OneToMany`, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

---
## üìò –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º
| **–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è**  | 	**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                                | 	**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**             | 	**–ì–¥–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è FK/—Ç–∞–±–ª–∏—Ü–∞**    |
|----------------|------------------------------------------------|-------------------------------------|----------------------------------|
| `@JoinColumn`  | 	–û–¥–∏–Ω –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á                             | 	`@OneToOne`, `@ManyToOne`          | 	–í —Ç–∞–±–ª–∏—Ü–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞             |
| `@JoinColumns` | 	–ù–µ—Å–∫–æ–ª—å–∫–æ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π (_—Å–æ—Å—Ç–∞–≤–Ω–æ–π **FK**_) | 	–°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á                     | 	–í —Ç–∞–±–ª–∏—Ü–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞             |
| `@JoinTable`   | 	–¢–∞–±–ª–∏—Ü–∞-—Å–≤—è–∑–∫–∞                                | 	`@ManyToMany`, –∏–Ω–æ–≥–¥–∞ `@OneToMany` | 	–û—Ç–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ |

---
## ‚úÖ –†–µ–∑—é–º–µ
üîπ `@JoinColumn` ‚Äî –æ–¥–∏–Ω –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á.

üîπ `@JoinColumns` ‚Äî —Å–æ—Å—Ç–∞–≤–Ω–æ–π –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á.

üîπ `@JoinTable` ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—É-—Å–≤—è–∑–∫—É.

> üß† –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ—é—â–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –∏–ª–∏ —Ç–∞–±–ª–∏—Ü—É-—Å–≤—è–∑–∫—É.
> –í–∞–∂–Ω–æ –≥—Ä–∞–º–æ—Ç–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `mappedBy`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

---
```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @JoinColumn –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Å—Ç–æ–ª–±—Ü–∞ FOREIGN KEY, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∏–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏. –ú—ã –ø–æ–º–Ω–∏–º, —á—Ç–æ —Ç–æ–ª—å–∫–æ —Å—É—â–Ω–æ—Å—Ç—å-–≤–ª–∞–¥–µ–ª–µ—Ü —Å–≤—è–∑–∏ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –æ—Ç –¥—Ä—É–≥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ (–≤–ª–∞–¥–µ–µ–º–æ–π). –û–¥–Ω–∞–∫–æ, –º—ã –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å @JoinColumn –∫–∞–∫ –≤–æ –≤–ª–∞–¥–µ—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ, —Ç–∞–∫ –∏ –≤–æ –≤–ª–∞–¥–µ–µ–º–æ–π, –Ω–æ —Å—Ç–æ–ª–±–µ—Ü —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –≤–æ –≤–ª–∞–¥–µ—é—â–µ–π —Ç–∞–±–ª–∏—Ü–µ. 
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

‚ùñ        @OneToOne: –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ—è–≤–∏—Ç—Å—è —Å—Ç–æ–ª–±–µ—Ü –≤ —Ç–∞–±–ª–∏—Ü–µ —Å—É—â–Ω–æ—Å—Ç–∏-–≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–≤—è–∑–∏, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞—é—â–∏–π—Å—è –Ω–∞ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –≤–ª–∞–¥–µ–µ–º–æ–π —Å—É—â–Ω–æ—Å—Ç–∏.

‚ùñ        @OneToMany/@ManyToOne: –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å –Ω–∞ –≤–ª–∞–¥–µ–µ–º–æ–π —Å—Ç–æ—Ä–æ–Ω–µ —Å–≤—è–∑–∏ –∞—Ç—Ä–∏–±—É—Ç mappedBy, —Å–æ–∑–¥–∞–µ—Ç—Å—è joinTable —Å –∫–ª—é—á–∞–º–∏ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü. –ù–æ –ø—Ä–∏ —ç—Ç–æ–º –∂–µ —É –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å—Ç–æ–ª–±–µ—Ü —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏.

 @JoinColumns –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π @JoinColumn, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∏–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ—Å—Ç–∞–≤–Ω–æ–π –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞.
–í –∫–∞–∂–¥–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @JoinColumn –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã name –∏ referencedColumnName.

 @JoinTable –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Å–≤—è–∑—ã–≤–∞—é—â–µ–π (—Å–≤–æ–¥–Ω–æ–π, —Ç—Ä–µ—Ç—å–µ–π) —Ç–∞–±–ª–∏—Ü—ã –º–µ–∂–¥—É –¥–≤—É–º—è –¥—Ä—É–≥–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏.                                @JoinTable(name = "CATALOG", joinColumns = @JoinColumn(name = "ID_BOOK"), inverseJoinColumns = @JoinColumn(name = "ID_STUDENT"))
 private Student student;
```
---
</details>



<details>
        <summary>34. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @OrderBy –∏ @OrderColumn, —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@OrderBy` –∏ `@OrderColumn`, —á–µ–º –æ–Ω–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è?

## üî¢ –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ JPA: `@OrderBy` vs `@OrderColumn`

### üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–û–±–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç **–ø–æ—Ä—è–¥–∫–æ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤** –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö –ø—Ä–∏ –º–∞–ø–ø–∏–Ω–≥–µ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ JPA/Hibernate. 
–û–¥–Ω–∞–∫–æ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É.

---
## üîπ `@OrderBy`

> **–£–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.**

### üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ **SQL-–∑–∞–ø—Ä–æ—Å–∞**: –¥–æ–±–∞–≤–ª—è–µ—Ç `ORDER BY` –≤ SELECT.
- –î–µ–π—Å—Ç–≤—É–µ—Ç **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –ë–î**.
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ **–≤—Ç–æ—Ä–∏—á–Ω–æ–≥–æ –∫—ç—à–∞** —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–æ–∂–µ—Ç **–Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è**.
- –ü—Ä–∏–º–µ–Ω–∏–º–∞ –∫:
  - `@ElementCollection`
  - `@OneToMany`
  - `@ManyToMany`

### üß† –°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```java
@OneToMany
@OrderBy("name ASC")
private List<Employee> employees;
```
### üìå –ü–æ–≤–µ–¥–µ–Ω–∏–µ:
* –ë–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –ø–µ—Ä–≤–∏—á–Ω–æ–º—É –∫–ª—é—á—É.
* –î–ª—è @Embeddable ‚Äî –º–æ–∂–Ω–æ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª—è ("address.city").
* –î–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π ‚Äî –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è ("supervisor.name" –≤—ã–∑–æ–≤–µ—Ç RuntimeException).

---
## üî∏ `@OrderColumn`
> **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ —Ç–∞–±–ª–∏—Ü—ã.**

### üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
* –î–æ–±–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π **—Å—Ç–æ–ª–±–µ—Ü –∏–Ω–¥–µ–∫—Å–∞ –ø–æ—Ä—è–¥–∫–∞** (_–Ω–∞–ø—Ä–∏–º–µ—Ä, `order_column`_) –≤ —Ç–∞–±–ª–∏—Ü—É.
* Hibernate **–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞** (_–≤—Å—Ç–∞–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ_).
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏, –≥–¥–µ –ø–æ—Ä—è–¥–æ–∫ **–¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ**.
* –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ **—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö**, –∞ –Ω–µ SQL-–∑–∞–ø—Ä–æ—Å–∞.

üß† –°–∏–Ω—Ç–∞–∫—Å–∏—Å:
```java
@OrderColumn(name = "order_index")
@OneToMany
private List<Chapter> chapters;
```

> üì¶ **–ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–∏.**

---
## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ `@OrderBy` –∏ `@OrderColumn`

| **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞**          | 	`@OrderBy`                                        | 	`@OrderColumn`                           |
|-----------------------------|----------------------------------------------------|-------------------------------------------|
| –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ø–æ—Ä—è–¥–æ–∫        | 	–í –∑–∞–ø—Ä–æ—Å–µ `ORDER BY`                              | 	–í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ —Ç–∞–±–ª–∏—Ü—ã              |
| –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ–ª—è | 	‚úÖ (_–≤_ `@Embeddable`), ‚ùå (_–≤ —Å—É—â–Ω–æ—Å—Ç—è—Ö_)          | 	‚úÖ (_–Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ ‚Äî –∏–Ω–¥–µ–∫—Å_)              |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞          | 	–ù–µ –≤–ª–∏—è–µ—Ç                                         | 	Hibernate –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ |
| –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ                 | 	–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑–≤–ª–µ—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞        | 	–†–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞, –ø–æ—Ä—è–¥–æ–∫ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î   |
| –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å              | 	`@ElementCollection`, `@OneToMany`, `@ManyToMany` | 	`@OneToMany`, `@ElementCollection`       |
| –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –º–µ—Ö–∞–Ω–∏–∑–º       | 	`SQL`-—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞                                  | 	–§–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ  |

---
## ‚úÖ –†–µ–∑—é–º–µ
| **–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è**  | 	**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**                         | 	**–ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î?** | 	**–†–∞–±–æ—Ç–∞–µ—Ç —Å –∫—ç—à–µ–º?** |
|----------------|-----------------------------------------|--------------------------------|------------------------|
| `@OrderBy`     | 	–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ                | 	‚ùå –ù–µ—Ç                         | 	‚ùå –ù–µ—Ç                 |
| `@OrderColumn` | 	–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –¥–∞–Ω–Ω—ã—Ö | 	‚úÖ –î–∞                          | 	‚úÖ –î–∞                  |

> üß† **–ï—Å–ª–∏ –≤–∞–∂–µ–Ω —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è ‚Äî –≤—ã–±–∏—Ä–∞–π `@OrderColumn`.** 
> **–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ `@OrderBy`.**

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @OrderBy —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫, –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ—Ç–æ—Ä—ã–º –¥–æ–ª–∂–Ω—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ–ª–ª–µ–∫—Ü–∏–π —Å—É—â–Ω–æ—Å—Ç–µ–π, –±–∞–∑–æ–≤—ã—Ö –∏–ª–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–∏ –∏—Ö –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ –∏–∑ –ë–î. –ï—Å–ª–∏ –≤ –∫—ç—à–µ –µ—Å—Ç—å –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ç–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –Ω–µ –±—É–¥–µ—Ç. –¢–∞–∫ –∫–∞–∫ @OrderBy –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫ sql-–∑–∞–ø—Ä–æ—Å—É Order By, –∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫—ç—à–∞, –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –±–¥ –Ω–µ—Ç. –≠—Ç–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ @ElementCollection, @OneToMany, @ManyToMany.
–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –±–∞–∑–æ–≤—ã—Ö —Ç–∏–ø–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @ElementCollection, —ç–ª–µ–º–µ–Ω—Ç—ã —ç—Ç–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –±—É–¥—É—Ç –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –±–∞–∑–æ–≤—ã—Ö —Ç–∏–ø–æ–≤.

–ï—Å–ª–∏ —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤ (@Embeddable), —Ç–æ –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ—á–∫—É (".") –º—ã –º–æ–∂–µ–º —Å–æ—Å–ª–∞—Ç—å—Å—è –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç –≤–Ω—É—Ç—Ä–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞. 
–ï—Å–ª–∏ —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π, —Ç–æ —É –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @OrderBy –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏–º—è –ø–æ–ª—è —Å—É—â–Ω–æ—Å—Ç–∏, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∏ —Å–∞–º—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:
–ï—Å–ª–∏ –º—ã –Ω–µ —É–∫–∞–∂–µ–º —É @OrderBy –ø–∞—Ä–∞–º–µ—Ç—Ä, —Ç–æ —Å—É—â–Ω–æ—Å—Ç–∏ –±—É–¥—É—Ç —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã –ø–æ –ø–µ—Ä–≤–∏—á–Ω–æ–º—É –∫–ª—é—á—É.
–í —Å–ª—É—á–∞–µ —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—é –ø–æ —Ç–æ—á–∫–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä @OrderBy ("supervisor.name") –ø–æ–≤–ª–µ—á–µ—Ç Runtime Exceprtion.

 @OrderColumn —Å–æ–∑–¥–∞–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ —Å—Ç–æ–ª–±–µ—Ü —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –ø–æ—Ä—è–¥–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –≤ —Å–ø–∏—Å–∫–µ, –Ω–æ —ç—Ç–æ—Ç —Å—Ç–æ–ª–±–µ—Ü –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–∏ –∏–ª–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –∫–ª–∞—Å—Å–∞.
Hibernate –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∫–∞–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å—Ç–æ–ª–±—Ü–∞, —Ç–∞–∫ –∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–∑ –ë–î. Hibernate –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –æ—Ç—Ä–∞–∑–∏—Ç—å –ª—é–±–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞, –≤–ª–∏—è—é—â–µ–µ –Ω–∞ —Å–ø–∏—Å–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ.

 @OrderBy vs @OrderColumn
–ü–æ—Ä—è–¥–æ–∫, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ @OrderBy, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î, –¢–æ –µ—Å—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ @OrderColumn, –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π –≤—Å—Ç–∞–≤–∫–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
```
---
</details>



<details>
        <summary>35. –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Transient?</summary>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `Transient`?

## üö´ –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Transient` –≤ JPA

### üìå –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Transient` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è **–∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ª—è –∏–∑ –º–∞–ø–ø–∏–Ω–≥–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**. 
–¢–∞–∫–∏–µ –ø–æ–ª—è **–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –∏ **–Ω–µ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è** –∏–∑ –ë–î.

---
### üß© –ì–¥–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

- –í **Entity**-–∫–ª–∞—Å—Å–∞—Ö
- –í–æ **–≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –∫–ª–∞—Å—Å–∞—Ö** (`@Embeddable`)
- –í **MappedSuperclass**

---
### üîç –û—Ç–ª–∏—á–∏–µ `Persistent` –∏ `Transient` –ø–æ–ª–µ–π

| **–¢–∏–ø –ø–æ–ª—è**  | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                         |
|---------------|--------------------------------------------------------------------------------------|
| `Persistent`  | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –≤—Å–µ `non-static`, `non-transient`, `non-final` –ø–æ–ª—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î. |
| `Transient`   | –ü–æ–ª—è, –∏—Å–∫–ª—é—á–∞–µ–º—ã–µ –∏–∑ –º–∞–ø–ø–∏–Ω–≥–∞ ‚Äî –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏.                           |

---
### üß† –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª–µ `transient`?

| **–°–ø–æ—Å–æ–±**                          | **–û–ø–∏—Å–∞–Ω–∏–µ**                                    |
|-------------------------------------|-------------------------------------------------|
| `@Transient`                        | –Ø–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ JPA, —á—Ç–æ –ø–æ–ª–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.      |
| `transient` (_–∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ Java_) | –ò—Å–∫–ª—é—á–∞–µ—Ç—Å—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, **–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ JPA**. |
| `static` –∏–ª–∏ `final`                | JPA –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Ö –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç.                 |

> ‚òùÔ∏è –õ—É—á—à–µ **–≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@Transient`**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä `transient`, 
–¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è JPA-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏.

---
### üß™ –ü—Ä–∏–º–µ—Ä

```java
@Entity
public class User {
  private String login;
  private String password;

  @Transient
  private String sessionToken;

  // sessionToken –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ –ë–î
}
```

---
### üì¶ –ü—Ä–∏–º–µ—Ä –∏–∑ –∂–∏–∑–Ω–∏ (_—Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏_)
```java
User{firstName='Stefan', ..., password='gemma_arterton_4ever_in_my_heart91'}
// –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ —Ñ–∞–π–ª–∞ –∏–ª–∏ –ë–î
User{firstName='Stefan', ..., password='null'} // password transient
```

---
### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
* –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è **–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö**, **–≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö**, **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö**.
* –ï—Å–ª–∏ –ø–æ–ª–µ **–Ω–µ –¥–æ–ª–∂–Ω–æ –ø–æ–ø–∞–¥–∞—Ç—å –≤ –ë–î** (_–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–∫–µ–Ω—ã, —Ñ–ª–∞–≥–∏, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è_).
* –ü—Ä–∏ **—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏**.

---
### üõ†Ô∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ `@Transient` –∏ `transient` (_Java_)

| **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å**               | 	`@Transient` (_JPA_) | 	`transient` (_Java_)                       |
|-------------------------------|-----------------------|---------------------------------------------|
| –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è JPA               | 	‚úÖ                    | 	‚ùå                                          |
| –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π     | 	‚ùå                    | 	‚úÖ                                          |
| –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤ –ë–î | 	–ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è	      | –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ, –µ—Å–ª–∏ –Ω–µ—Ç `@Transient` |

---
> **üí° –ò—Å–ø–æ–ª—å–∑—É–π `@Transient`, –µ—Å–ª–∏ –ø–æ–ª–µ –Ω–µ –¥–æ–ª–∂–Ω–æ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏, –∏  
> `transient`, –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –¥–æ–ª–∂–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ Java.**

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
 @Transient –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Ç–æ–≥–æ, –∫–∞–∫–∏–µ –ø–æ–ª—è —É —Å—É—â–Ω–æ—Å—Ç–∏, –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏–ª–∏ Mapped SuperClass –ù–ï –ë–£–î–£–¢ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
Persistent fields (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–æ–ª—è) - —ç—Ç–æ –ø–æ–ª—è, –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ë–î. –ò–º–∏ —è–≤–ª—è—é—Ç—Å—è –ª—é–±—ã–µ –Ω–µ static –∏ –Ω–µ final –ø–æ–ª—è.
Transient fields (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–ª—è):
‚ùñ        static –∏ final –ø–æ–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π;
‚ùñ        –∏–Ω—ã–µ –ø–æ–ª—è, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ —è–≤–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Java-–º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ transient, –ª–∏–±–æ JPA-–∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Transient.


Initial user: User{firstName='Stefan', lastName='Smith', email='ssmith@email.com', birthDate=1991-07-16, login='ssmith', password='gemma_arterton_4ever_in_my_heart91'} Loaded user from file: User{firstName='Stefan', lastName='Smith', email='ssmith@email.com', birthDate=1991-07-16, login='ssmith', password='null'}
```
---
</details>



<details>
        <summary>36. –ö–∞–∫–∏–µ —à–µ—Å—Ç—å –≤–∏–¥–æ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (lock) –æ–ø–∏—Å–∞–Ω—ã –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ JPA (–∏–ª–∏ –∫–∞–∫–∏–µ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —É enum LockModeType –≤ JPA)?</summary>

## –ö–∞–∫–∏–µ —à–µ—Å—Ç—å –≤–∏–¥–æ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (_lock_) –æ–ø–∏—Å–∞–Ω—ã –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ JPA (_–∏–ª–∏ –∫–∞–∫–∏–µ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —É enum LockModeType –≤ JPA_)?

## üîê LockModeType –≤ JPA ‚Äî –†–µ–∂–∏–º—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

JPA –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 6 —É—Ä–æ–≤–Ω–µ–π –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –≤ `enum javax.persistence.LockModeType`. 
–û–Ω–∏ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –ø–æ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---
### üìã –¢–∞–±–ª–∏—Ü–∞: —Ä–µ–∂–∏–º—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ JPA

| **LockModeType**              | **–¢–∏–ø –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**             | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                               |
|-------------------------------|--------------------------------|--------------------------------------------------------------------------------------------|
| `NONE`                        | üîì –ë–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏              | –î–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –Ω–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏.                             |
| `OPTIMISTIC`                  | ‚úÖ –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è                | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—è `@Version` –ø—Ä–∏ commit. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å ‚Äî `OptimisticLockException`. |
| `OPTIMISTIC_FORCE_INCREMENT`  | üîÅ –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è + –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç   | –ê–Ω–∞–ª–æ–≥ `OPTIMISTIC`, –Ω–æ –ø–æ–ª–µ `@Version` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.          |
| `PESSIMISTIC_READ`            | üîí –ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–∞—è (_—á—Ç–µ–Ω–∏–µ_)   | –î–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –Ω–∞ —á—Ç–µ–Ω–∏–µ. –î—Ä—É–≥–∏–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å, –Ω–æ –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å.                         |
| `PESSIMISTIC_WRITE`           | üîê –ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–∞—è (_–∑–∞–ø–∏—Å—å_)   | –î–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é. –ù–∏ —á—Ç–µ–Ω–∏–µ, –Ω–∏ –∑–∞–ø–∏—Å—å –¥—Ä—É–≥–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã.        |
| `PESSIMISTIC_FORCE_INCREMENT` | üîê‚ûï –ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–∞—è + –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç | –ö–∞–∫ `PESSIMISTIC_WRITE`, –Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `@Version`.                          |

---
### ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

```java
EntityManager em = entityManagerFactory.createEntityManager();
em.getTransaction().begin();

Company company = em.find(Company.class, 1L);
em.lock(company, LockModeType.OPTIMISTIC);

em.getTransaction().commit();
```

---
## üß† –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (_Optimistic Lock_)
* –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –ë–î.
* –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª–µ `@Version` –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
* –ò–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º —Å **–Ω–∏–∑–∫–∏–º —É—Ä–æ–≤–Ω–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–∞**.

```java
@Version
private long version;
```

üß™ –ü—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–π ‚Äî `OptimisticLockException`.

---
## üß± –ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (_Pessimistic Lock_)
* –ê–∫—Ç–∏–≤–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–æ–º–µ–Ω—Ç —á—Ç–µ–Ω–∏—è –∏–ª–∏ –∑–∞–ø–∏—Å–∏.
* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∑–∞—â–∏—Ç—É –æ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ **–≤—ã—Å–æ–∫–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏** –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–æ–ª—è—Ü–∏–∏.

üìå –¢—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ë–î.

---
## üÜö –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: `Optimistic` vs `Pessimistic`

| **–ö—Ä–∏—Ç–µ—Ä–∏–π**       | 	`Optimistic`                  | 	`Pessimistic`                        |
|--------------------|--------------------------------|---------------------------------------|
| –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤ –ë–î    | 	‚ùå –ù–µ—Ç                         | 	‚úÖ –î–∞                                 |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 	üîº –í—ã—à–µ                       | 	üîΩ –ù–∏–∂–µ                              |
| –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã          | 	–û–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ    | 	–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç—Å—è –∑–∞—Ä–∞–Ω–µ–µ              |
| –†–∏—Å–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π    | 	`OptimisticLockException`     | 	`PessimisticLockException`, deadlock |
| –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è       | 	–ß—Ç–µ–Ω–∏–µ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º | 	–í—ã—Å–æ–∫–æ–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º            |

---

> **üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–π `OPTIMISTIC`, 
> –∞ `PESSIMISTIC` ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å—Ç—Ä–æ–≥–æ–π –∏–∑–æ–ª—è—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.**

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–í –ø–æ—Ä—è–¥–∫–µ –æ—Ç —Å–∞–º–æ–≥–æ –Ω–µ–Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∏ –±—ã—Å—Ç—Ä–æ–≥–æ, –¥–æ —Å–∞–º–æ–≥–æ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∏ –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ:
1.        NONE ‚Äî –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
2.        OPTIMISTIC (—Å–∏–Ω–æ–Ω–∏–º READ –≤ JPA 1) ‚Äî –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∞—è  –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–∫: –µ—Å–ª–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∫—Ç–æ-—Ç–æ –∏–∑–≤–Ω–µ –∏–∑–º–µ–Ω–∏—Ç –ø–æ–ª–µ @Version, —Ç–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω RollBack —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ OptimisticLockException.
3.        OPTIMISTIC_FORCE_INCREMENT (—Å–∏–Ω–æ–Ω–∏–º WRITE –≤ JPA 1) ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ç–æ–º—É –∂–µ –∞–ª–≥–æ—Ä–∏—Ç–º—É, —á—Ç–æ –∏ LockModeType.OPTIMISTIC –∑–∞ —Ç–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º, —á—Ç–æ –ø–æ—Å–ª–µ commit –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª–µ Version –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1. –í –∏—Ç–æ–≥–µ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ –ø–æ–ª–µ —É–≤–µ–ª–∏—á–∏—Ç—Å—è –Ω–∞ 2(—É–≤–µ–ª–∏—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≤ Post-Update + –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ).
4.        PESSIMISTIC_READ ‚Äî –¥–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç —á—Ç–µ–Ω–∏—è –∏ —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–∏–∫—Ç–æ –≤ —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ —Å–º–æ–∂–µ—Ç –∏—Ö –∏–∑–º–µ–Ω–∏—Ç—å. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Ç–µ–º –Ω–µ –º–µ–Ω–µ–µ, —Å–º–æ–≥—É—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —á–∏—Ç–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥–æ–ª–≥–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏–ª–∏ –¥–∞–∂–µ –≤—ã–∫–∏–¥—ã–≤–∞–Ω–∏–µ PessimisticLockException.
5.        PESSIMISTIC_WRITE ‚Äî –¥–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç –∑–∞–ø–∏—Å–∏ –∏ –Ω–∏–∫—Ç–æ —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞—Ö–≤–∞—Ç–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–µ –º–æ–∂–µ—Ç –≤ –Ω–∏—Ö –ø–∏—Å–∞—Ç—å –∏ –Ω–µ –º–æ–∂–µ—Ç –∏—Ö —á–∏—Ç–∞—Ç—å –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –≤–ª–∞–¥–µ—é—â–µ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥–æ–ª–≥–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
6.        PESSIMISTIC_FORCE_INCREMENT ‚Äî –≤–µ–¥—ë—Ç —Å–µ–±—è –∫–∞–∫ PESSIMISTIC_WRITE, –Ω–æ –≤ –∫–æ–Ω—Ü–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è @Version, –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Å—É—â–Ω–æ—Å—Ç—å –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å.


–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ - –ø–æ–¥—Ö–æ–¥ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—â–∏–µ—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ä–µ–¥–∫–æ –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –¥–∞–Ω–Ω—ã–º –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–º —Å–≤–æ–±–æ–¥–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ª—é–±—ã–µ —á—Ç–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ù–æ –ø—Ä–∏ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞, –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏, –µ—Å–ª–∏ –¥–∞, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è OptimisticLockException. –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ JPA —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø—É—Ç—ë–º –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤ —Å—É—â–Ω–æ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—è –≤–µ—Ä—Å–∏–∏:
    @Version
    private long version;
–ü–æ–ª–µ, –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ @Version, –º–æ–∂–µ—Ç –±—ã—Ç—å —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–´–º. –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –µ—Å–ª–∏ —Å—É—â–Ω–æ—Å—Ç—å –±—ã–ª–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ, –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ, –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ @Version –∫–µ–º-–ª–∏–±–æ –µ—â—ë, –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –ø—Ä–æ—á–∏—Ç–∞–Ω—ã, –∏, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å, –±—É–¥–µ—Ç –≤—ã–∫–∏–Ω—É—Ç–æ OptimisticLockException. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –ø–æ–ª—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–¥–µ–ª–∞—Ç—å –≤—Å—ë –Ω–∞ —É—Ä–æ–≤–Ω–µ JPA, —É–ª—É—á—à–∞—è —É—Ä–æ–≤–µ–Ω—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏.
–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫–∞–∑–∞—Ç—å—Å—å –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î –∏ –¥–µ–ª–∞—Ç—å –≤—Å—ë —Å JPA.

–ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ - –ø–æ–¥—Ö–æ–¥ –Ω–∞–ø—Ä–æ—Ç–∏–≤, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—Ç –∑–∞ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ—ç—Ç–æ–º—É –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç –∫–æ–≥–¥–∞ —á–∏—Ç–∞–µ—Ç –∏—Ö. –î—Ä—É–≥–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è, –∫–æ–≥–¥–∞ –ø—ã—Ç–∞—é—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º –∏ –∂–¥—É—Ç —Å–Ω—è—Ç–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–∏–ª–∏ –∫–∏–¥–∞—é—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ). –ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –∏ –ø–æ—ç—Ç–æ–º—É –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤ –≤ –∫–æ–¥ —Å—É—â–Ω–æ—Å—Ç–∏.


–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å—Ç–∞–≤—è—Ç—Å—è –ø—É—Ç—ë–º –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ lock() —É EntityManager, –≤ –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç—å, —Ç—Ä–µ–±—É—é—â–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ —É—Ä–æ–≤–µ–Ω—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:
EntityManager em = entityManagerFactory.createEntityManager();
em.lock(company1, LockModeType.OPTIMISTIC);
```
---
</details>



<details>
        <summary>37. –ö–∞–∫–∏–µ –¥–≤–∞ –≤–∏–¥–∞ –∫—ç—à–µ–π (cache) –≤—ã –∑–Ω–∞–µ—Ç–µ –≤ JPA –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –Ω—É–∂–Ω—ã?</summary>

## –ö–∞–∫–∏–µ –¥–≤–∞ –≤–∏–¥–∞ –∫—ç—à–µ–π (_cache_) –≤—ã –∑–Ω–∞–µ—Ç–µ –≤ JPA –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –Ω—É–∂–Ω—ã?

## üß† –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ JPA: `First-Level` –∏ `Second-Level` Cache

–í JPA –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã **–¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —É—Ä–æ–≤–Ω—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è** + –∫—ç—à –∑–∞–ø—Ä–æ—Å–æ–≤. 
–û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –ë–î –∏ –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

---
### üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞: –∫—ç—à–∏ –≤ JPA

| **–£—Ä–æ–≤–µ–Ω—å –∫—ç—à–∞**   | **–ù–∞–∑–≤–∞–Ω–∏–µ**           | **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                             |
|--------------------|------------------------|------------------------------------------------------------------------------------------|
| ü•á –ü–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å  | **First-Level Cache**  | –í—Å—Ç—Ä–æ–µ–Ω –≤ `EntityManager` / `Session`. –û–±—è–∑–∞—Ç–µ–ª–µ–Ω. –†–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. |
| ü•à –í—Ç–æ—Ä–æ–π —É—Ä–æ–≤–µ–Ω—å  | **Second-Level Cache** | –†–∞—Å—à–∏—Ä—è–µ–º—ã–π. –û–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π `SessionFactory`. –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.   |
| üí¨ –ö—ç—à –∑–∞–ø—Ä–æ—Å–æ–≤    | **Query Cache**        | –ö—ç—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã HQL/JPQL-–∑–∞–ø—Ä–æ—Å–æ–≤. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.         |

---
## ü•á First-Level Cache (_Persistence Context_)

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ **–í–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**, –æ—Ç–∫–ª—é—á–∏—Ç—å –Ω–µ–ª—å–∑—è.
- üîó –ü—Ä–∏–≤—è–∑–∞–Ω –∫ —Å–µ—Å—Å–∏–∏ (`EntityManager`, `Session`).
- üîÑ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π.
- üóëÔ∏è –û—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å–µ—Å—Å–∏–∏ (`clear()` ‚Äî –≤—Ä—É—á–Ω—É—é, `evict()` ‚Äî —Ç–æ—á–µ—á–Ω–æ).
- üîç –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Å—É—â–Ω–æ—Å—Ç–∏ **–Ω–µ –¥–µ–ª–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π SQL-–∑–∞–ø—Ä–æ—Å**, –µ—Å–ª–∏ –æ–Ω–∞ —É–∂–µ –≤ –∫—ç—à–µ.
- üîí –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

**–ü—Ä–∏–º–µ—Ä –ø–æ–≤–µ–¥–µ–Ω–∏—è:**
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—à—å —Å—É—â–Ω–æ—Å—Ç—å ‚Üí –æ–Ω–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∫—ç—à.
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å ‚Üí –æ–±—ä–µ–∫—Ç –±–µ—Ä—ë—Ç—Å—è –∏–∑ –∫—ç—à–∞.
- –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–µ—Å—Å–∏–∏ ‚Üí –∫—ç—à –æ—á–∏—â–∞–µ—Ç—Å—è.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:**
- –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ª–µ–Ω–∏–≤—ã–º–∏ –ø–æ–ª—è–º–∏ (`@OneToMany(fetch = LAZY)` –∏ –¥—Ä.), –≤–º–µ—Å—Ç–æ –¥–∞–Ω–Ω—ã—Ö –≤ –∫—ç—à–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω `Proxy`, –∫–æ—Ç–æ—Ä—ã–π "–¥–æ–±–∏—Ä–∞–µ—Ç" –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏.

---
## ü•à Second-Level Cache (_Session Factory Level_)

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚ùå **–ù–µ –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** ‚Äî —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
- üîÅ **–û–±—â–∏–π** –¥–ª—è –≤—Å–µ—Ö `EntityManager` –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ `SessionFactory`.
- üíæ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç in-memory –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (`Ehcache`, `Hazelcast`, `Infinispan`, `Caffeine` –∏ –¥—Ä.).
- üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è **—Å—É—â–Ω–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏**.
- üîß –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ –∏–ª–∏ XML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.

```java
@Cacheable
@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)
@Entity
public class Product {
    ...
}
```

---
## üí¨ Query Cache (–ö—ç—à –∑–∞–ø—Ä–æ—Å–æ–≤)
* ‚öôÔ∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.
* üìÑ –ö—ç—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã HQL/JPQL-–∑–∞–ø—Ä–æ—Å–æ–≤, –∞ –Ω–µ —Å–∞–º–∏ —Å—É—â–Ω–æ—Å—Ç–∏.
* üîÅ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã—Ö –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.

```java
Query query = em.createQuery("FROM Product p WHERE p.active = true");
query.setHint("org.hibernate.cacheable", true);
```

---
## üß† –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

| **–°—Ü–µ–Ω–∞—Ä–∏–π**                                     | 	**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**                        |
|--------------------------------------------------|------------------------------------------|
| –†–∞–±–æ—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏                   | 	‚úÖ First-Level Cache (_–≤—Å–µ–≥–¥–∞ –≤ —Ä–∞–±–æ—Ç–µ_) |
| –ß–∞—Å—Ç—ã–µ —á—Ç–µ–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏       | 	‚úÖ Second-Level Cache                    |
| –ß–∞—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–ø—Ä–æ—Å—ã —Å –æ–¥–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ | 	‚úÖ Query Cache                           |

> üí° **–°–æ–≤–µ—Ç: –í—Å–µ–≥–¥–∞ —É—á–∏—Ç—ã–≤–∞–π, —á—Ç–æ –∫—ç—à ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ –≥–∞—Ä–∞–Ω—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏. 
> –ò—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.**

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
1. first-level cache (–∫—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è) ‚Äî –∫—ç—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏;
2. second-level cache (–∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è) ‚Äî –∫—ç—à–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –æ—Ç –æ–¥–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–∏ —Å–µ—Å—Å–∏–π. –ü—Ä–æ–≤–∞–π–¥–µ—Ä JPA –º–æ–∂–µ—Ç, –Ω–æ –Ω–µ –æ–±—è–∑–∞–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –∫—ç—à–µ–º –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è.
3. –ö—ç—à –∑–∞–ø—Ä–æ—Å–æ–≤.


–ö—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è ‚Äì —ç—Ç–æ –∫—ç—à —Å–µ—Å—Å–∏–∏ (Session), –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º, —ç—Ç–æ –∏ –µ—Å—Ç—å PersistenceContext. –ß–µ—Ä–µ–∑ –Ω–µ–≥–æ –ø—Ä–æ—Ö–æ–¥—è—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã.
–í —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ–±—ä–µ–∫—Ç–∞, Hibernate —Å—Ç–∞—Ä–∞–µ—Ç—Å—è –æ—Ç—Å—Ä–æ—á–∏—Ç—å (–Ω–∞—Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ) –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø—è—Ç–∏ –∏—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –æ–±—ä–µ–∫—Ç–∞ –∏–∑ –ë–î –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ persistence context, –∑–∞–ø—Ä–æ—Å –≤ –ë–î –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –æ–¥–∏–Ω —Ä–∞–∑, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —á–µ—Ç—ã—Ä–µ –∑–∞–≥—Ä—É–∑–∫–∏ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∏–∑ –∫—ç—à–∞. –ï—Å–ª–∏ –º—ã –∑–∞–∫—Ä–æ–µ–º —Å–µ—Å—Å–∏—é, —Ç–æ –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ –∫—ç—à–µ, —Ç–µ—Ä—è—é—Ç—Å—è, –∞ –¥–∞–ª–µ–µ ‚Äì –ª–∏–±–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î, –ª–∏–±–æ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è.


–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫—ç—à–∞ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è:
‚ùñ        –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ–≥–æ –Ω–µ–ª—å–∑—è –æ—Ç–∫–ª—é—á–∏—Ç—å;
‚ùñ        —Å–≤—è–∑–∞–Ω —Å —Å–µ—Å—Å–∏–µ–π (–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏), —Ç–æ –µ—Å—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã –∏–∑ —Å–≤–æ–µ–≥–æ –∫—ç—à–∞, –∏ –Ω–µ –≤–∏–¥—è—Ç –æ–±—ä–µ–∫—Ç—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ –∫—ç—à–∞—Ö –¥—Ä—É–≥–∏—Ö —Å–µ—Å—Å–∏–π;
‚ùñ        –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å–µ—Å—Å–∏–∏ PersistenceContext –æ—á–∏—â–∞–µ—Ç—Å—è - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, –Ω–∞—Ö–æ–¥–∏–≤—à–∏–µ—Å—è –≤ –Ω–µ–º, —É–¥–∞–ª—è—é—Ç—Å—è;
‚ùñ        –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–∑ –ë–î, –æ–Ω–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –∫—ç—à, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å —ç—Ç–æ–π —Å–µ—Å—Å–∏–µ–π;
‚ùñ        –µ—Å–ª–∏ –≤ —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–π –∂–µ —Å–µ—Å—Å–∏–∏ –º—ã —Å–Ω–æ–≤–∞ –∑–∞–ø—Ä–æ—Å–∏–º —ç—Ç—É –∂–µ —Å—É—â–Ω–æ—Å—Ç—å –∏–∑ –ë–î, —Ç–æ –æ–Ω–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏–∑ –∫—ç—à–∞, –∏ –Ω–∏–∫–∞–∫–æ–≥–æ –≤—Ç–æ—Ä–æ–≥–æ SQL-–∑–∞–ø—Ä–æ—Å–∞ –≤ –ë–î —Å–¥–µ–ª–∞–Ω–æ –Ω–µ –±—É–¥–µ—Ç;
‚ùñ        —Å—É—â–Ω–æ—Å—Ç—å –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ –∫—ç—à–∞ —Å–µ—Å—Å–∏–∏ –º–µ—Ç–æ–¥–æ–º evict(), –ø–æ—Å–ª–µ —á–µ–≥–æ —Å–ª–µ–¥—É—é—â–∞—è –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å —ç—Ç—É –∂–µ —Å—É—â–Ω–æ—Å—Ç—å –ø–æ–≤–ª–µ—á–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö;
‚ùñ        –º–µ—Ç–æ–¥ clear() –æ—á–∏—â–∞–µ—Ç –≤–µ—Å—å –∫—ç—à —Å–µ—Å—Å–∏–∏.


–ï—Å–ª–∏ –∫—ç—à –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –æ–±—ä–µ–∫—Ç—É —Å–µ—Å—Å–∏–∏, —Ç–æ –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –æ–±—ä–µ–∫—Ç—É-—Ñ–∞–±—Ä–∏–∫–µ —Å–µ—Å—Å–∏–π (Session Factory object) –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–µ–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Å—Å–∏—è—Ö –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏. –ö—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø–æ—ç—Ç–æ–º—É –Ω–µ –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—ç—à–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫—ç—à–∞ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç—è–º –±—ã—Ç—å –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏.
Hibernate –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–∞–º –Ω–∏–∫–∞–∫–æ–≥–æ in-memory —Åache, –∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫—ç—à–µ–π.

```
---
</details>



<details>
        <summary>38. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–µ—à–µ–º 2 —É—Ä–æ–≤–Ω—è?</summary>

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–µ—à–µ–º 2 —É—Ä–æ–≤–Ω—è?

## üß† –†–∞–±–æ—Ç–∞ —Å –∫—ç—à–µ–º –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –≤ JPA / Hibernate

---
### üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ `Second-Level Cache`?

**–ö—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, –¥–æ—Å—Ç—É–ø–Ω—ã–π **–º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏ `EntityManager`**, 
–æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ `SessionFactory`.

> ‚ùó –ß—Ç–µ–Ω–∏–µ –∏–∑ –∫—ç—à–∞ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç 
**—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫—ç—à–µ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è (Persistence Context)**.

---
### üîå –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫—ç—à-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

Hibernate **–Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–∞–º –∫—ç—à**, –Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é `RegionFactory`. 
–î–ª—è —Ä–∞–±–æ—Ç—ã —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–Ω–µ—à–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (_–∫—ç—à-–ø—Ä–æ–≤–∞–π–¥–µ—Ä_), –Ω–∞–ø—Ä–∏–º–µ—Ä:

- **Ehcache** ‚úÖ (_–æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö_)
- **Infinispan**
- **JCache (JSR-107)**
- **OSCache**, **SwarmCache**, **JBoss Cache** (_—É—Å—Ç–∞—Ä–µ–≤—à–∏–µ_)

---
### ‚öôÔ∏è –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è?

### 1. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (_–Ω–∞–ø—Ä–∏–º–µ—Ä, Ehcache_)

```xml
<dependency>
  <groupId>org.hibernate.orm</groupId>
  <artifactId>hibernate-ehcache</artifactId>
  <version>5.6.15.Final</version> <!-- —É–∫–∞–∂–∏ —Å–≤–æ—é –≤–µ—Ä—Å–∏—é Hibernate -->
</dependency>
```

### 2. –í–∫–ª—é—á–∏—Ç—å –∫—ç—à –≤–æ `persistence.xml` –∏–ª–∏ `hibernate.cfg.xml`

```properties
hibernate.cache.use_second_level_cache=true
hibernate.cache.region.factory_class=org.hibernate.cache.ehcache.EhCacheRegionFactory
```
–ò–ª–∏ —á–µ—Ä–µ–∑ `persistence.xml`:
```xml
<property name="hibernate.cache.use_second_level_cache" value="true"/>
<property name="hibernate.cache.region.factory_class" value="org.hibernate.cache.ehcache.EhCacheRegionFactory"/>
```

---
### üìå –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç—è—Ö

```java
import org.hibernate.annotations.Cache;
import org.hibernate.annotations.CacheConcurrencyStrategy;

@Entity
@Cacheable
@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)
public class Product {
    ...
}
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏:**
* `@Cacheable` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è JPA-–∞–Ω–Ω–æ—Ç–∞—Ü–∏—è, —Ä–∞–∑—Ä–µ—à–∞—é—â–∞—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏.
* `@Cache` ‚Äî Hibernate-–∞–Ω–Ω–æ—Ç–∞—Ü–∏—è, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∞—è **—Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è** (_—Å–º. –Ω–∏–∂–µ_).

---
### üß© –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (`CacheConcurrencyStrategy`)
1. `READ_ONLY`
* –¢–æ–ª—å–∫–æ –¥–ª—è **–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö** (_–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏_).
* –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ, –Ω–æ –ª—é–±—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∏–∑–º–µ–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—é.

2. `NONSTRICT_READ_WRITE`
* –ö—ç—à –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è **–ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**.
* –í–æ–∑–º–æ–∂–Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ **–¥—Ä—É–≥–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–∏–¥–∏—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ**.
* –ë—ã—Å—Ç—Ä–µ–µ `READ_WRITE`, –Ω–æ –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ.

3. `READ_WRITE`
* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–≥—É—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é –º—è–≥–∫–∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
* –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —É–≤–∏–¥–µ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É, –∏–¥—É—Ç –≤ –ë–î.
* –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.

4. `TRANSACTIONAL`
* –¢—Ä–µ–±—É–µ—Ç JTA –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, JBoss/Infinispan).
* –ü–æ–ª–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è, –Ω–æ —Å —Å–Ω–∏–∂–µ–Ω–∏–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

---
### üß† Shared Cache Mode (JPA)
–í persistence.xml –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫—ç—à–∞:

```xml
<shared-cache-mode>ENABLE_SELECTIVE</shared-cache-mode>
```

–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

| **–ó–Ω–∞—á–µ–Ω–∏–µ**        | 	**–ü–æ–≤–µ–¥–µ–Ω–∏–µ**                                      |
|---------------------|-----------------------------------------------------|
| `ALL`               | 	–í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è                            |
| `NONE`              | 	–ù–∏–∫–∞–∫–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è                     |
| `ENABLE_SELECTIVE`  | 	–ö—ç—à–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—É—â–Ω–æ—Å—Ç–∏ —Å `@Cacheable`          |
| `DISABLE_SELECTIVE` | 	–í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è, –∫—Ä–æ–º–µ `@Cacheable(false)` |
| `UNSPECIFIED`       | 	–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é JPA-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏               |

---
### üõ† –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```java
@Entity
@Cacheable
@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)
public class Category {
    @Id
    private Long id;

    private String name;

    ...
}
```

```properties
# application.properties / hibernate.cfg.xml
hibernate.cache.use_second_level_cache=true
hibernate.cache.region.factory_class=org.hibernate.cache.ehcache.EhCacheRegionFactory

```

---
### üìå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –∫—ç—à –∫–æ–ª–ª–µ–∫—Ü–∏–π
Hibernate —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏:

```java
@OneToMany(mappedBy = "category")
@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)
private Set<Product> products;
```

---
### üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã

| **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**                   | 	**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**                   |
|------------------------------------------|-------------------------------------|
| –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏           | 	‚úÖ `READ_ONLY`                      |
| –ò–∑–º–µ–Ω—è–µ–º—ã–µ, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | 	‚úÖ `NONSTRICT_READ_WRITE`           |
| –°—Ç—Ä–æ–≥–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å                  | 	‚úÖ `READ_WRITE` –∏–ª–∏ `TRANSACTIONAL` |

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ß—Ç–µ–Ω–∏–µ –∏–∑ –∫—ç—à–∞ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã–π –æ–±—ä–µ–∫—Ç –Ω–µ –±—ã–ª –Ω–∞–π–¥–µ–Ω –≤ –∫—ç—à–µ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è.
Hibernate –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è Java JCache, –∞ —Ç–∞–∫–∂–µ –¥–≤—É—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è: Ehcache –∏ Infinispan.

–í Hibernate –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –≤–∏–¥–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, —Ç–æ –µ—Å—Ç—å –º—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ª—é–±—É—é –µ—ë —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –≤–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤: Ehcache, OSCache, SwarmCache, JBoss TreeCache. –î–ª—è Hibernate —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ org.hibernate.cache.spi.RegionFactory, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –≤—Å–µ –¥–µ—Ç–∞–ª–∏, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º. –ü–æ —Å—É—Ç–∏, RegionFactory –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –º–æ—Å—Ç –º–µ–∂–¥—É Hibernate –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏ –∫—ç—à–∞. –í –ø—Ä–∏–º–µ—Ä–∞—Ö –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ehcache. 
–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å: 
‚ùñ –¥–æ–±–∞–≤–∏—Ç—å –º–∞–≤–µ–Ω-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∫—ç—à-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω—É–∂–Ω–æ–π –≤–µ—Ä—Å–∏–∏ 
‚ùñ –≤–∫–ª—é—á–∏—Ç—å –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ hibernate.cache.use_second_level_cache=true hibernate.cache.region.factory_class=org.hibernate.cache.ehcache.EhCacheRegionFactory 
‚ùñ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É –Ω—É–∂–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π JPA-–∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @Cacheable, –æ–±–æ–∑–Ω–∞—á–∞—é—â—É—é, —á—Ç–æ —Å—É—â–Ω–æ—Å—Ç—å –Ω—É–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å, –∏ Hibernate-–∞–Ω–Ω–æ—Ç–∞—Ü–∏—é @Cache, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—â—É—é –¥–µ—Ç–∞–ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, —É –∫–æ—Ç–æ—Ä–æ–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —É–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞" –Ω–∞ "–ß—Ç–µ–Ω–∏–µ –∏–∑ –∫—ç—à–∞ –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã–π –æ–±—ä–µ–∫—Ç –Ω–µ –±—ã–ª –Ω–∞–π–¥–µ–Ω –≤ –∫—ç—à–µ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è. Hibernate –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è Java JCache, –∞ —Ç–∞–∫–∂–µ –¥–≤—É—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è: Ehcache –∏ Infinispan. Shared Cache Mode  ENABLE_SELECTIVE,  ALL, NONE, UNSPECIFIED

–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç–∞–º –ü—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –∫—ç—à –≤—Ç–æ—Ä–æ–≥–æ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Å—Å–∏–π —Å—Ä–∞–∑—É –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º—ã –º–æ–≥—É—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ —Ä–∞–∑–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –æ–±—ä–µ–∫—Ç–æ–º. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–¥–æ –∫–∞–∫-—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –∏—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. 
‚ùñ READ_ONLY: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è (–±—É–¥–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —Ç–∞–∫—É—é —Å—É—â–Ω–æ—Å—Ç—å). –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è. 
‚ùñ NONSTRICT_READ_WRITE: –ö—ç—à –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –∏–∑–º–µ–Ω–∏–ª–∞ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î –∏ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª–∞ –∏—Ö. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å—Ç—Ä–æ–≥–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, –∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ–±–æ–ª—å—à–æ–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö –≤ –∫—ç—à–µ, –≤–æ –≤—Ä–µ–º—è –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –∫—ç—à–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ. 
‚ùñ READ_WRITE: –≠—Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–≥—É—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –æ–Ω–∞ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É—è ¬´–º—è–≥–∫–∏–µ¬ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏: –∫–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å, –Ω–∞ –Ω–µ–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –º—è–≥–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–Ω–∏–º–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –í—Å–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—ã—Ç–∞—é—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∑–∞–ø–∏—Å—è–º –≤ –∫—ç—à–µ —Å –Ω–∞–ª–æ–∂–µ–Ω–Ω–æ–π –º—è–≥–∫–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π, –Ω–µ —Å–º–æ–≥—É—Ç –∏—Ö –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–ª–∏ –∑–∞–ø–∏—Å–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤—è—Ç –∑–∞–ø—Ä–æ—Å –≤ –ë–î. Ehcache –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. 
‚ùñ TRANSACTIONAL: –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –ö–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è –∏ –∫–∞–∂–¥–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–∏–¥—è—Ç –æ–±—ä–µ–∫—Ç—ã, —Å–ª–æ–≤–Ω–æ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å –Ω–∏–º–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –æ–¥–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∑–∞ –¥—Ä—É–≥–æ–π. –ü–ª–∞—Ç–∞ –∑–∞ —ç—Ç–æ ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –ø–æ—Ç–µ—Ä—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```
---
</details>



<details>
        <summary>39. –ß—Ç–æ —Ç–∞–∫–æ–µ JPQL/HQL –∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç SQL?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ JPQL/HQL –∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç SQL?

### üìò –ß—Ç–æ —Ç–∞–∫–æ–µ JPQL –∏ HQL?

| **–Ø–∑—ã–∫**  | 	**–û–ø–∏—Å–∞–Ω–∏–µ**                                                                                                 |
|-----------|---------------------------------------------------------------------------------------------------------------|
| `JPQL`    | 	(_Java Persistence Query Language_) ‚Äî –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ JPA.     |
| `HQL`     | 	(_Hibernate Query Language_) ‚Äî –Ω–∞–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ JPQL, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –≤ Hibernate —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏. |

–û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã **–Ω–µ –∫ —Ç–∞–±–ª–∏—Ü–∞–º**, –∞ **–∫ —Å—É—â–Ω–æ—Å—Ç—è–º Java** (`Entity`).

---
### ‚öôÔ∏è JPQL/HQL vs SQL

| `SQL`                | 	`JPQL` / `HQL`                          |
|----------------------|------------------------------------------|
| –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ | 	–†–∞–±–æ—Ç–∞–µ—Ç —Å Java —Å—É—â–Ω–æ—Å—Ç—è–º–∏ (`@Entity`)  |
| –û–ø–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–ª–æ–Ω–∫–∞–º–∏  | 	–û–ø–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–ª—è–º–∏ –∫–ª–∞—Å—Å–∞                 |
| –ù–µ—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞     | 	–ï—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º         |
| JOIN –ø–æ –∫–ª—é—á–∞–º       | 	JOIN —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç–Ω—ã–µ —Å–≤—è–∑–∏              |
| –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ë–î   | 	–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ –ë–î —á–µ—Ä–µ–∑ JPA / Hibernate |

> üí° **–í JPQL/HQL –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ —á–µ—Ä–µ–∑ –ø–æ–ª—è, –∞ –Ω–µ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏.**

---
### üîÅ –û—Ç–ª–∏—á–∏–µ `JPQL` –æ—Ç `HQL`

| **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞**    | 	`JPQL`                        | 	`HQL`                              |
|-----------------------|--------------------------------|-------------------------------------|
| –°—Ç–∞–Ω–¥–∞—Ä—Ç              | 	–î–∞ (JPA)                      | 	–ù–µ—Ç (_—á–∞—Å—Ç—å `Hibernate`_)          |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ Hibernate | 	‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è    | 	‚úÖ                                  |
| –†–∞—Å—à–∏—Ä–µ–Ω–∏—è            | 	‚ùå –¢–æ–ª—å–∫–æ –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏      | 	‚úÖ –†–∞—Å—à–∏—Ä—è–µ—Ç—Å—è Hibernate-—Å–ø–µ—Ü–∏—Ñ–∏–∫–æ–π |
| –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞     | 	E`ntityManager.createQuery()` | 	`Session.createQuery()`            |
| –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã   | 	`@NamedQuery`                 | 	`Session.getNamedQuery()`          |

---
### üß™ –ü—Ä–∏–º–µ—Ä: JPQL vs SQL
#### üìå SQL:
```sql
SELECT name FROM users WHERE age > 30;
```

#### ‚úÖ JPQL / HQL:
```java
SELECT u.name FROM User u WHERE u.age > 30
```
> **–ó–¥–µ—Å—å `User` ‚Äî Java-–∫–ª–∞—Å—Å —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@Entity`, –∞ `name`, `age` ‚Äî –µ–≥–æ –ø–æ–ª—è.**

---
### üîß –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ JPQL-–∑–∞–ø—Ä–æ—Å–∞
```java
TypedQuery<User> query = entityManager.createQuery(
    "SELECT u FROM User u WHERE u.age > :age", User.class);
query.setParameter("age", 30);
List<User> results = query.getResultList();
```

---
### üß¨ –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ JPQL
JPQL –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏, –Ω–æ –∏ –≤—Å–µ—Ö –µ—ë –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤:
```java
SELECT a FROM Animal a
```
> –í–µ—Ä–Ω—ë—Ç –∏ `Cat`, –∏ `Dog`, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç `Animal`.

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
Hibernate Query Language (HQL) –∏ Java Persistence Query Language (JPQL) - –æ–±–∞ —è–≤–ª—è—é—Ç—Å—è –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤, —Å—Ö–æ–∂–∏–º–∏ –ø–æ –ø—Ä–∏—Ä–æ–¥–µ —Å SQL. JPQL - —ç—Ç–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ HQL.

JPQL - —ç—Ç–æ —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ç–∞–∫–æ–π –∂–µ –∫–∞–∫ SQL, –æ–¥–Ω–∞–∫–æ, –≤–º–µ—Å—Ç–æ –∏–º–µ–Ω –∏ –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞–±–ª–∏—Ü –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–º–µ–Ω–∞ –∫–ª–∞—Å—Å–æ–≤ Entity –∏ –∏—Ö –∞—Ç—Ä–∏–±—É—Ç—ã. –í –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ Entity, –∞ –Ω–µ –ø–æ–ª–µ–π –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö. –í –æ—Ç–ª–∏—á–∏–∏ –æ—Ç SQL –≤ JPQL –µ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º, —Ç–æ –µ—Å—Ç—å –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∫ Entity –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã —ç—Ç–æ–≥–æ Entity, –Ω–æ —Ç–∞–∫–∂–µ –æ–±—ä–µ–∫—Ç—ã –≤—Å–µ—Ö –µ–≥–æ –∫–ª–∞—Å—Å–æ–≤-–ø–æ—Ç–æ–º–∫–æ–≤, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –í JPA –∑–∞–ø—Ä–æ—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ javax.persistence.Query –∏–ª–∏ javax.persistence.TypedQuery, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏–∑ EntityManager. 

–í Hibernate HQL-–∑–∞–ø—Ä–æ—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω org.hibernate.query.Query, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–∑ Session. –ï—Å–ª–∏ HQL —è–≤–ª—è–µ—Ç—Å—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º, —Ç–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è Session#getNamedQuery, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è Session#createQuery.
```
---
</details>



<details>
        <summary>40. –ß—Ç–æ —Ç–∞–∫–æ–µ Criteria API –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ `Criteria API` –∏ –¥–ª—è —á–µ–≥–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?

**Criteria API** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å—Ç–∏–ª–µ, 
–æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤.

---
### üï∞ –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
üî∏ Hibernate Criteria API (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π —Å –≤–µ—Ä—Å–∏–∏ 5.2)
üî∏ üÜï JPA Criteria API ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞, –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é JPA
üëâ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤–º–µ—Å—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ API Hibernate.

---
### üåü –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ _JPA_ `Criteria API`:

| üíé **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å**          | 	üìã **–û–ø–∏—Å–∞–Ω–∏–µ**                              |
|-----------------------------|-----------------------------------------------|
| üõ° **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**     | 	–û—à–∏–±–∫–∏ –º–æ–∂–Ω–æ –æ—Ç–ª–æ–≤–∏—Ç—å —É–∂–µ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ üß†  |
| üîÑ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã** | 	–§–æ—Ä–º–∏—Ä—É—é—Ç—Å—è ¬´–Ω–∞ –ª–µ—Ç—É¬ª –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è üîß |

---
### ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ _JPA_ `Criteria API`:

| ‚ùå **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫**                     | 	üìã **–û–ø–∏—Å–∞–Ω–∏–µ**                                                      |
|--------------------------------------|-----------------------------------------------------------------------|
| üìú **–ú–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ—Å—Ç—å**                | 	–ö–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –≥—Ä–æ–º–æ–∑–¥–∫–∏–º –∏ —Ç—Ä—É–¥–Ω—ã–º –¥–ª—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è üëÄ                |
| üïπ **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ SQL** | 	–¢—Ä—É–¥–Ω–µ–µ –¥–æ–±–∏—Ç—å—Å—è –ø–æ–ª–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –°–£–ë–î ‚öôÔ∏è  |
|

### –û–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è JPA `Criteria API`:

| üß© **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å**   | 	üìã **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç**                                                 |
|----------------------|--------------------------------------------------------------------|
| üìä **–ê–≥—Ä–µ–≥–∞—Ü–∏—è**     | 	`sum()`, `min()`, `max()` –∏ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏                        |
| üéØ **–í—ã–±–æ—Ä –∫–æ–ª–æ–Ω–æ–∫** | 	–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π —Å `ProjectionList`                 |
| üîó **JOIN'—ã**        | 	–†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏: `createAlias()`, `setFetchMode()` |
| üö¶ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**    | 	–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `add()` + `Restrictions`                        |
| üìà **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**    | 	`addOrder()` ‚Äî –∑–∞–¥–∞—ë—Ç –ø–æ—Ä—è–¥–æ–∫ –≤—ã–≤–æ–¥–∞                              |

---
### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JPA `Criteria API`, –µ—Å–ª–∏:
* üîπ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –º–µ–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
* üîπ –Ω—É–∂–µ–Ω —Å—Ç—Ä–æ–≥–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–∏–ø–æ–≤

ü§è –û—Ç–¥–∞–π—Ç–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ **JPQL/HQL**, –µ—Å–ª–∏:
* üîπ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Å—Ç—ã–µ –∏ –∑–∞—Ä–∞–Ω–µ–µ –∏–∑–≤–µ—Å—Ç–Ω—ã
* üîπ –≤–∞–∂–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞

> ‚ú® **–¢–∏–ø–∏—á–Ω—ã–π –≤—ã–±–æ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**:
> * **–ü—Ä–æ—Å—Ç—ã–µ** —Å—Ç–∞—Ç–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚Äî `JPQL`
> * **–°–ª–æ–∂–Ω—ã–µ**, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ, —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ ‚Äî `Criteria API`

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ 5.2 Hibernate Criteria API –æ–±—ä—è–≤–ª–µ–Ω deprecated. –í–º–µ—Å—Ç–æ –Ω–µ–≥–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JPA Criteria API.
JPA Criteria API - —ç—Ç–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π API, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—ã–±–æ—Ä–∫–∏(select) —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–∑ –ë–î –≤ –±–æ–ª–µ–µ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å—Ç–∏–ª–µ.
–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ JPA Criteria API:
‚ùñ        –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏;
‚ùñ        –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —ç—Ç–∞–ø–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
‚ùñ        –Ω–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –∑–∞–ø—Ä–æ—Å–æ–º, —Å–ª–æ–∂–Ω–æ –æ—Ç–ª–æ–≤–∏—Ç—å –æ—à–∏–±–∫—É
‚ùñ        –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤

–î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ - —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è - JPA Criteria API —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–π. 


–í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è Criteria API:
Criteria API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–µ–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤—Ä–æ–¥–µ sum(), min(), max() –∏ —Ç.–¥.
Criteria API –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ProjectionList –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫.
Criteria API –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –¥–ª—è join –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–º–æ—â—å—é —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥—ã createAlias(), setFetchMode() –∏ setProjection().
Criteria API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—ã–±–æ—Ä–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ —É—Å–ª–æ–≤–∏—è–º (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º). –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ add() —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (Restrictions).
Criteria API –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É) –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ addOrder().        
```
---
</details>



<details>
        <summary>41. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º—É N+1 Select –∏ –ø—É—Ç—è—Ö –µ–µ —Ä–µ—à–µ–Ω–∏—è.</summary>

## –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º—É N+1 Select –∏ –ø—É—Ç—è—Ö –µ–µ —Ä–µ—à–µ–Ω–∏—è.

## üê¢ –ü—Ä–æ–±–ª–µ–º–∞ N+1 Select –≤ Hibernate
### ‚ùóÔ∏è –í —á—ë–º —Å—É—Ç—å?
üëâ **–ü—Ä–æ–±–ª–µ–º–∞ N+1 –≤–æ–∑–Ω–∏–∫–∞–µ—Ç**, –∫–æ–≥–¥–∞ –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (_–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –ø–æ—Å—Ç—ã_) 
`Hibernate` –≤—ã–ø–æ–ª–Ω—è–µ—Ç **1 –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—Ä–æ—Å –∏ N –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö** –¥–ª—è –∫–∞–∂–¥–æ–π —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏.

üîé –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ **—Å–∏–ª—å–Ω–æ–º—É –ø–∞–¥–µ–Ω–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä—ë–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

---
### üõ† –ü—É—Ç–∏ —Ä–µ—à–µ–Ω–∏—è
| **‚Ññ**  | 	üîß **–ü–æ–¥—Ö–æ–¥**                                          | 	üìã **–û–ø–∏—Å–∞–Ω–∏–µ**                                                                                                                                                                       |
|--------|---------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1Ô∏è‚É£    | 	üîó **JOIN FETCH**                                      | 	–ò—Å–ø–æ–ª—å–∑—É–µ—Ç `JOIN FETCH` –≤ JPQL –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π **–≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ.** <br>–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–≤—è–∑–µ–π –∏ 1‚Äì3 —É—Ä–æ–≤–Ω–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.                            |
| 2Ô∏è‚É£    | 	üß† **EntityGraph**                                     | 	–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–∏—Å–∞—Ç—å –≥—Ä–∞—Ñ —Å—É—â–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å.<br>–•–æ—Ä–æ—à –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö.                                                                 |
| 3Ô∏è‚É£    | 	üì¶ **@Fetch(FetchMode.SUBSELECT)**                     | 	–†–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏**.<br>–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è 1 –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ 1 –ø–æ–¥–∑–∞–ø—Ä–æ—Å –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π.<br>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –Ω—É–∂–Ω—ã **–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.**            |
| 4Ô∏è‚É£    | 	üìö **Batch Fetching**                                  | 	–£–∫–∞–∑—ã–≤–∞–µ—Ç `Hibernate`, —Å–∫–æ–ª—å–∫–æ —Å—É—â–Ω–æ—Å—Ç–µ–π –∑–∞–≥—Ä—É–∂–∞—Ç—å –∑–∞ —Ä–∞–∑.<br>–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ª–µ–Ω–∏–≤—ã–º –∫–æ–ª–ª–µ–∫—Ü–∏—è–º –≤ **–º–µ–Ω—å—à–µ–µ —á–∏—Å–ª–æ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤.**<br>–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è: `@BatchSize(size = N)` |
| 5Ô∏è‚É£    | 	üìù **SqlResultSetMapping / HibernateSpecificMapping**  | 	–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å **–Ω–∞—Ç–∏–≤–Ω—ã–º–∏ SQL-–∑–∞–ø—Ä–æ—Å–∞–º–∏**.<br>–ü–æ–∑–≤–æ–ª—è—é—Ç —è–≤–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –∏—Ö –º–∞–ø–ø–∏–Ω–≥.                                                                         |
| üí°     | 	üßæ **DTO + Custom Queries**                            | 	–í —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **DTO** (_Data Transfer Object_) –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.<br>–û—Å–æ–±–µ–Ω–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏ REST API –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö.        |

---
### üí° –†–µ–∑—é–º–µ

> üî• –ü—Ä–æ–±–ª–µ–º–∞ N+1 ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –ø—Ä–∏—á–∏–Ω –º–µ–¥–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã ORM.   
> ‚úÖ –õ—É—á—à–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:   
> * **`JOIN FETCH`** ‚Äî –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤.   
> * `EntityGraph` ‚Äî –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫.   
> * DTO + –Ω–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚Äî –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å.   

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–ü—Ä–æ–±–ª–µ–º–∞ N+1 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞ N –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω—ã –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ SQL-–∑–∞–ø—Ä–æ—Å–∞.


1.        JOIN FETCH
–ò –ø—Ä–∏ FetchType.EAGER –∏ –ø—Ä–∏ FetchType.LAZY –Ω–∞–º –ø–æ–º–æ–∂–µ—Ç JPQL-–∑–∞–ø—Ä–æ—Å —Å JOIN FETCH. –û–ø—Ü–∏—é ¬´FETCH¬ª –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ JOIN (INNER JOIN –∏–ª–∏ LEFT JOIN) –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ –≤–º–µ—Å—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–µ–Ω–∏–≤—ã–º –ø–æ–ª—è–º –æ–±—ä–µ–∫—Ç–∞.
–õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (1-3 —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤).

select pc
    from PostComment pc
    join fetch pc.post p
    
    
2.        EntityGraph
–í —Å–ª—É—á–∞—è—Ö, –∫–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö, –∏ —É –Ω–∞—Å jpql –∑–∞–ø—Ä–æ—Å - –ª—É—á—à–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å EntityGraph.


3.        @Fetch(FetchMode.SUBSELECT)
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è Hibernate. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏. –ë—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω –æ–¥–∏–Ω sql-–∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ—Ä–Ω–µ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏, –µ—Å–ª–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –±—É–¥–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ª–µ–Ω–∏–≤—ã–º –ø–æ–ª—è–º-–∫–æ–ª–ª–µ–∫—Ü–∏—è–º, —Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –µ—â–µ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π:

@Fetch(value = FetchMode.SUBSELECT)
    private Set<Order> orders = new HashSet<>();
    
    
4.        Batch fetching
–≠—Ç–æ –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è Hibernate, –≤ JPA –µ—ë –Ω–µ—Ç. –£–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞–¥ –∫–ª–∞—Å—Å–æ–º —Å—É—â–Ω–æ—Å—Ç–∏ –∏–ª–∏ –Ω–∞–¥ –ø–æ–ª–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π. –ë—É–¥–µ—Ç —Å–¥–µ–ª–∞–Ω –æ–¥–∏–Ω sql-–∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ—Ä–Ω–µ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏, –µ—Å–ª–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –±—É–¥–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –ª–µ–Ω–∏–≤—ã–º –ø–æ–ª—è–º-–∫–æ–ª–ª–µ–∫—Ü–∏—è–º, —Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –µ—â–µ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏.

@BatchSize(size=5)
private Set<Order> orders = new HashSet<>();

–•–æ—Ç—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @BatchSize –ª—É—á—à–µ, —á–µ–º —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å –ø—Ä–æ–±–ª–µ–º–æ–π –∑–∞–ø—Ä–æ—Å–∞ N+1, –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –≥–æ—Ä–∞–∑–¥–æ –ª—É—á—à–µ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DTO –∏–ª–∏ JOIN FETCH, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–ª—É—á–∞—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º.


5.        HibernateSpecificMapping, SqlResultSetMapping
–î–ª—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ –∏—Ö.

```
---
</details>



<details>
        <summary>42. –ß—Ç–æ —Ç–∞–∫–æ–µ Entity Graph</summary>

## –ß—Ç–æ —Ç–∞–∫–æ–µ `Entity Graph`

### üß≠ –ß—Ç–æ —Ç–∞–∫–æ–µ `Entity Graph` –≤ JPA/Hibernate?
üìå **Entity Graph** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π **–≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–≥—Ä—É–∑–∫–æ–π —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π** 
(_fetching strategy_) **–Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–ø—Ä–æ—Å–∞, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –≤ –º–æ–¥–µ–ª—è—Ö**.

---
### üéØ –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
> **‚ö° –ü–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—É—Ç—ë–º —É–∫–∞–∑–∞–Ω–∏—è, –∫–∞–∫–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤ –æ–¥–Ω–æ–º SELECT-–∑–∞–ø—Ä–æ—Å–µ.**

---
### üõ†Ô∏è –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
| **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞**     | 	**–û–ø–∏—Å–∞–Ω–∏–µ**                                                                  |
|------------------------|--------------------------------------------------------------------------------|
| üîÑ **–î–∏–Ω–∞–º–∏—á–Ω–æ—Å—Ç—å**    | 	–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å `LAZY` ‚Üí `EAGER` –Ω–∞ –ª–µ—Ç—É, –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ       |
| üîó **–ì–∏–±–∫–æ—Å—Ç—å**        | 	–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å, **–∫–∞–∫–∏–µ –ø–æ–ª—è –∏–ª–∏ —Å–≤—è–∑–∏ –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å**, –∞ –∫–∞–∫–∏–µ –æ—Å—Ç–∞–≤–∏—Ç—å –ª–µ–Ω–∏–≤—ã–º–∏ |
| üì¶ **–û–¥–∏–Ω SQL-–∑–∞–ø—Ä–æ—Å** | 	–í—Å—ë –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –≤ —Ä–∞–º–∫–∞—Ö **–æ–¥–Ω–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞**, –±–µ–∑ N+1!         |
| üéõ **–¢–∏–ø—ã –≥—Ä–∞—Ñ–æ–≤**     | 	`NamedEntityGraph` (_—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏_) –∏ `EntityGraph` (_–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –≤ –∫–æ–¥–µ_)     |

---
### üí° –ü—Ä–∏–º–µ—Ä –ø–æ–ª—å–∑—ã:
–ï—Å–ª–∏ —Å—É—â–Ω–æ—Å—Ç—å User –∏–º–µ–µ—Ç List<Order> –∏ Profile, —Ç—ã –º–æ–∂–µ—à—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å–≤—è–∑–∏ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ Profile, –∏–≥–Ω–æ—Ä–∏—Ä—É—è Order, ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–∞–º–æ–π —Å—É—â–Ω–æ—Å—Ç–∏. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏ –±—ã—Å—Ç—Ä–æ!

---
### ‚úÖ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
* –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –≥–ª—É–±–∏–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏).
* –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ä–∞–∑–Ω—ã–º–∏ use-case'–∞–º–∏, –≥–¥–µ –Ω—É–∂–Ω—ã —Ä–∞–∑–Ω—ã–µ —Å–≤—è–∑–∏.
* –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ JOIN FETCH, –∫–æ–≥–¥–∞ –Ω–µ —Ö–æ—á–µ—Ç—Å—è –ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é JPQL-–∑–∞–ø—Ä–æ—Å—ã.

---
### ‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `JOIN FETCH`:

|                           | **JOIN FETCH**      | 	**Entity Graph**                                |
|---------------------------|---------------------|--------------------------------------------------|
| üìÑ –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ JPQL        | 	–î–∞                 | 	–ù–µ—Ç                                             |
| üß† –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–µ–µ –≤—ã–±–æ—Ä | 	‚ùå –í—Å–µ–≥–¥–∞ –≤—Å–µ —Å–≤—è–∑–∏ | 	‚úÖ –¢–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ                              |
| üõ†Ô∏è –ì–∏–±–∫–æ—Å—Ç—å              | 	–ù–∏–∑–∫–∞—è             | 	–í—ã—Å–æ–∫–∞—è                                         |
| üìö –£–¥–æ–±—Å—Ç–≤–æ –¥–ª—è DTO       | 	–ú–µ–Ω—å—à–µ             | 	–õ—É—á—à–µ —Å–æ–≤–º–µ—Å—Ç–∏–º —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏ —Ç–∏–ø–∞ Spring Data |

---
### üß© –ó–∞–∫–ª—é—á–µ–Ω–∏–µ:
**Entity Graph** ‚Äî —ç—Ç–æ –∫–∞–∫ –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ –ø–æ–ª–æ–∂–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω–∫—É üß∫ –ø—Ä–∏ –ø–æ—Ö–æ–¥–µ –≤ –ë–î-—Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç: 
–Ω–µ –Ω—É–∂–Ω–æ —Ç–∞—â–∏—Ç—å –≤—Å—ë –ø–æ–¥—Ä—è–¥, –±–µ—Ä–∏ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ ‚Äî –±—ã—Å—Ç—Ä–æ, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏ —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º üòé

---

---
### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è EntityGraph –≤ JPA (_Hibernate_)
–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞—ë–º EntityGraph –∏ —Å –µ–≥–æ –ø–æ–º–æ—â—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É —Å—É—â–Ω–æ—Å—Ç–∏ Post —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –ø—Ä–∏ –µ—ë –∑–∞–≥—Ä—É–∑–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –ø–æ–ª—è subject, user, comments. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –º—ã —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ comments —Ç–∞–∫–∂–µ –∑–∞–≥—Ä—É–∂–∞–ª–æ—Å—å –ø–æ–ª–µ user. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è subgraphs.

#### –°–æ–∑–¥–∞–Ω–∏–µ EntityGraph —Å –ø–æ–º–æ—â—å—é JPA API
EntityGraph –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ, –±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, –∏—Å–ø–æ–ª—å–∑—É—è EntityManager:
```java
EntityGraph<Post> entityGraph = entityManager.createEntityGraph(Post.class);
entityGraph.addAttributeNodes("subject");
entityGraph.addAttributeNodes("user");
entityGraph.addSubgraph("comments").addAttributeNodes("user");
```

#### –°–ø–æ—Å–æ–±—ã –∑–∞–≥—Ä—É–∑–∫–∏ –≥—Ä–∞—Ñ–∞ —Å—É—â–Ω–æ—Å—Ç–∏ –≤ JPA
JPA –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ —É–∫–∞–∑–∞–Ω–∏—è, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–≤–ª–µ—á—ë–Ω –≥—Ä–∞—Ñ —Å—É—â–Ω–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

* `fetchgraph` ‚Äî –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –≥—Ä–∞—Ñ–µ –∞—Ç—Ä–∏–±—É—Ç—ã.
  > _–ü–æ—Å–∫–æ–ª—å–∫—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Hibernate, —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π JPA, 
  > –∞—Ç—Ä–∏–±—É—Ç—ã, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–∞–∫ `EAGER`, —Ç–∞–∫–∂–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è._

* `loadgraph` ‚Äî –ø–æ–º–∏–º–æ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ –≥—Ä–∞—Ñ–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤, —Ç–∞–∫–∂–µ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∞—Ç—Ä–∏–±—É—Ç—ã, 
–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–∞–∫ `EAGER` –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—É—â–Ω–æ—Å—Ç–∏.

> **–í –ª—é–±–æ–º —Å–ª—É—á–∞–µ, –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –∏ –≤–µ—Ä—Å–∏—è (_–µ—Å–ª–∏ —Ç–∞–∫–æ–≤—ã–µ –∏–º–µ—é—Ç—Å—è_) –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ–≥–¥–∞.**

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —à–∞–±–ª–æ–Ω –ø—É—Ç–µ–º –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å, –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –≤—ã–±–∏—Ä–∞—Ç—å —Ç–∏–ø –≥—Ä–∞—Ñ–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å JPA Entity Graph - —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ä–∞–Ω—Ç–∞–π–º–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –±–∞–∑–æ–≤—ã—Ö –ø–æ–ª–µ–π —Å—É—â–Ω–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–π. 
–í–∫—Ä–∞—Ç—Ü–µ, Hibernate –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–µ—Å—å –≥—Ä–∞—Ñ –≤ –æ–¥–Ω–æ–º SELECT-–∑–∞–ø—Ä–æ—Å–µ, —Ç–æ –µ—Å—Ç—å –≤—Å–µ —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Å–≤—è–∑–∏ –æ—Ç –Ω—É–∂–Ω–æ–π –Ω–∞–º —Å—É—â–Ω–æ—Å—Ç–∏:

Entity Graphs ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è fetchType –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
```
---
</details>



---

<details>
        <summary>Head</summary>

---

```text
***** –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ *****
```
---
</details>

[JPA –∏ Hibernate –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö –∏ –æ—Ç–≤–µ—Ç–∞—Ö](https://habr.com/ru/articles/265061/)

