<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/26.2.15 Chrome/134.0.6998.205 Electron/35.2.1 Safari/537.36" version="26.2.15">
  <diagram name="Страница — 1" id="L-nUax7BzOYgVKW15NpX">
    <mxGraphModel dx="6531" dy="4565" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="lrduzPoeeq-9IfDoq5pU-23" value="" style="shape=partialRectangle;whiteSpace=wrap;html=1;left=0;right=0;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-460" y="980" width="1570" height="10" as="geometry" />
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-24" value="" style="shape=partialRectangle;whiteSpace=wrap;html=1;left=0;right=0;fillColor=none;rotation=-90;" vertex="1" parent="1">
          <mxGeometry x="136.88" y="590.63" width="766.25" height="10" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-147" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="620" y="1702.5" width="440" height="146" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-145" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="620" y="1516.5" width="440" height="146" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-142" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eeeeee;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="1120" y="1470" width="760" height="500" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-12" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1060" y="790" as="sourcePoint" />
            <mxPoint x="520" y="790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="10" y="130" width="190" height="360" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-4" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="30" y="150" width="150" height="240" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-23" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.208;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="xT-c-EVdMDdMauQ4JP2Y-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="80" as="sourcePoint" />
            <mxPoint x="60.00000000000003" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-24" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" parent="1" source="xT-c-EVdMDdMauQ4JP2Y-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="340" as="sourcePoint" />
            <mxPoint x="130" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-5" value="FilterChain" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="30" y="130" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-6" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="40" y="200" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-7" value="SecurityContext&lt;br&gt;HolderFilter" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="60" y="205" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-9" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="36.25" y="415" width="125" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-10" value="DispatcherServlet" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="41.25" y="425" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-13" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="40" y="240" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-14" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="40" y="350" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-15" value="Filter n" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="60" y="355" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-16" value="UsernamePassword&amp;nbsp;&lt;div&gt;AuthenticationFiltr&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="60" y="245" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-17" value="&lt;b&gt;SERVER&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="65" y="462.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-18" value="" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="10" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-19" value="" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="20" y="10" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-20" value="" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="30" y="20" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-22" value="&lt;b&gt;CLIENT&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="75" y="30" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-26" value="Reqwest" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#3333FF;labelBackgroundColor=#FFF4C3;" parent="1" vertex="1">
          <mxGeometry x="30" y="100" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-28" value="Response" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#3333FF;labelBackgroundColor=#FFF4C3;" parent="1" vertex="1">
          <mxGeometry x="100" y="100" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-29" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=#C4D5C3;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="38.75" y="672.5" width="420" height="195" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-30" value="&lt;font style=&quot;color: rgb(52, 152, 219);&quot;&gt;Security Context Holder&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#1ABC9C;" parent="1" vertex="1">
          <mxGeometry x="36.88" y="672.5" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-31" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#DBEEDA;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="58.75" y="702.5" width="380" height="137.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-32" value="&lt;font style=&quot;color: rgb(52, 152, 219);&quot;&gt;Security Context&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="51.88" y="702.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-33" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8FFE7;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="78.75" y="730" width="340" height="82.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-34" value="&lt;font style=&quot;color: rgb(52, 152, 219);&quot;&gt;Authenticated object&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="78.75" y="727.5" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-38" value="&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;font-size: 10px;&quot;&gt;1.&amp;nbsp;&lt;/b&gt;&lt;span style=&quot;font-size: 10px;&quot;&gt;&lt;b&gt;Principal &lt;/b&gt;(&lt;b&gt;идентификатор &lt;/b&gt;пользователя: объект типа &lt;b&gt;UserDetails&lt;/b&gt;)&lt;/span&gt;&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent; font-size: 10px;&quot;&gt;&lt;b&gt;2. Credentials&lt;/b&gt;(обычно пароль, кот-й &lt;b&gt;зануляется &lt;/b&gt;после аунтефикации)&lt;br&gt;&lt;/font&gt;&lt;b style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent; font-size: 10px;&quot;&gt;3. Authorities&amp;nbsp;&lt;/b&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent; font-size: 10px;&quot;&gt;(список прав доступа)&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent; font-size: 10px;&quot;&gt;&lt;b&gt;4.&amp;nbsp;&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 10px;&quot;&gt;&lt;b&gt;Details&lt;/b&gt;: (дополнительные данные, &lt;i&gt;например IP-адрес, сессия&lt;/i&gt;).&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="80" y="750" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-39" value="" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.cloud_callout;verticalAlign=top;fontSize=8;" parent="1" vertex="1">
          <mxGeometry x="180" y="75" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-40" value="&lt;span style=&quot;font-size: 8px;&quot;&gt;Рассмотрим только:&lt;/span&gt;&lt;br style=&quot;font-size: 8px;&quot;&gt;&lt;span style=&quot;font-size: 8px;&quot;&gt;Цепочку фильтров &lt;b&gt;безопасности&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="185" y="85" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-41" value=". . ." style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="55" y="275" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-42" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=5;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="280" y="235" width="190" height="85" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-43" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Authentication Manager&lt;br&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 9px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;lt;интерфейс&amp;gt;&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="280" y="240" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-44" value="" style="endArrow=classic;html=1;rounded=0;exitX=1.006;exitY=0.169;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1" source="xT-c-EVdMDdMauQ4JP2Y-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="170" y="245" as="sourcePoint" />
            <mxPoint x="280" y="245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-45" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.999;entryY=0.787;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1" target="xT-c-EVdMDdMauQ4JP2Y-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="265" as="sourcePoint" />
            <mxPoint x="170.00000000000003" y="263.9999999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-47" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="1" vertex="1">
          <mxGeometry x="278.75" y="345" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-48" value="Provider&amp;nbsp;Manager&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); font-size: 9px;&quot;&gt;&amp;lt;реализация&amp;gt;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;i style=&quot;&quot;&gt;(&lt;/i&gt;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; font-size: 8px;&quot;&gt;&lt;i&gt;По умолчанию и&amp;nbsp;&lt;/i&gt;&lt;/span&gt;&lt;i style=&quot;font-size: 8px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;наболее распространенная)&lt;/i&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="278.75" y="350" width="191.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-51" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.493;entryY=1.008;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="xT-c-EVdMDdMauQ4JP2Y-47" target="xT-c-EVdMDdMauQ4JP2Y-42" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="340" as="sourcePoint" />
            <mxPoint x="360" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-52" value="" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.cloud_callout" parent="1" vertex="1">
          <mxGeometry x="360" y="100" width="220" height="135" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-53" value="&lt;b&gt;Менеджер аунтефикации&lt;/b&gt;&lt;br&gt;Просматривает всех поставщиков&amp;nbsp;&lt;br&gt;и проверяет, кто из них поддерживает&amp;nbsp;&lt;div&gt;нужную стратегию аутентификации&amp;nbsp;&lt;br&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;i&gt;(просто перебирает циклом FOR)&lt;/i&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="360" y="120" width="220" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-55" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=5;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="570" y="235" width="150" height="315" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-46" value="Authentication Provider(s)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="610" y="240" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-57" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.156;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="245.11999999999995" as="sourcePoint" />
            <mxPoint x="570" y="245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-58" value="" style="endArrow=classic;html=1;rounded=0;entryX=1.011;entryY=0.411;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="264.31" as="sourcePoint" />
            <mxPoint x="470" y="264.3099999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-59" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="590" y="280" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-60" value="&lt;b&gt;Dao &lt;/b&gt;Authentication Provider" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="590" y="285" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-61" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="590" y="342.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-62" value="&lt;b&gt;OAuth2Login &lt;/b&gt;&lt;br&gt;Authentication Provider" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="590" y="350" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-63" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="590" y="410" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-64" value="&lt;b&gt;LDAP&lt;/b&gt;&lt;br&gt;Authentication Provider" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="590" y="415" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-65" value=". . ." style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="610" y="450" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-78" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=5;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="880" y="237.5" width="160" height="322.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-79" value="UserDetails&lt;br&gt;Service" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="920" y="242.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-80" value="" style="endArrow=classic;html=1;rounded=0;entryX=-0.014;entryY=0.022;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1" target="xT-c-EVdMDdMauQ4JP2Y-78">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="720" y="245" as="sourcePoint" />
            <mxPoint x="860" y="245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-81" value="" style="endArrow=classic;html=1;rounded=0;exitX=-0.005;exitY=0.084;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1" source="xT-c-EVdMDdMauQ4JP2Y-78">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="860" y="264.6" as="sourcePoint" />
            <mxPoint x="720" y="264.8" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-82" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="900" y="282.5" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-83" value="&lt;b&gt;InMemory&lt;br&gt;&lt;/b&gt;UserDetails&lt;br&gt;Manager" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="910" y="288.75" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-84" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="900" y="345" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-85" value="&lt;b&gt;JDBC&lt;br&gt;&lt;/b&gt;UserDetails&lt;br&gt;Manager" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="910" y="350" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-86" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="900" y="412.5" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-87" value="&lt;b&gt;LDAP&lt;br&gt;&lt;/b&gt;UserDetails&lt;br&gt;Manager" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="910" y="417.5" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-88" value=". . ." style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="930" y="460" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-91" value="" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.cloud_callout" parent="1" vertex="1">
          <mxGeometry x="870" y="100" width="240" height="137.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-92" value="&lt;b&gt;Менеджер аунтефикации&lt;/b&gt;&lt;br&gt;Интерфейс с единственным методом&lt;div&gt;Отвечает за поиск пользователя в БД &lt;br&gt;по имени пользователя.&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Возвращает объект UserDetail со всеи полями&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="870" y="110" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-93" value="&lt;span style=&quot;font-size: 10px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;UserDetail&amp;nbsp;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="760" y="250" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-95" value="&lt;font style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); font-size: 9px;&quot;&gt;loadUserByUsername(username)&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="730" y="225" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-99" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.3;exitY=0.002;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.2;entryY=1.058;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="xT-c-EVdMDdMauQ4JP2Y-102" target="xT-c-EVdMDdMauQ4JP2Y-167" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="677.5" as="sourcePoint" />
            <mxPoint x="600" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-100" value="" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.cloud_callout" parent="1" vertex="1">
          <mxGeometry x="607" y="560" width="233" height="90" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-101" value="&lt;b&gt;Кодер Паролей&lt;/b&gt;&lt;br&gt;Добавляется к поставщику аутентификаций.&amp;nbsp;&lt;div&gt;Исп-ся для получения &lt;b&gt;хэшей&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;из открытого пароля&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="616.25" y="570" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-102" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=5;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="570" y="650" width="100" height="130" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-103" value="Password encoder" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="590" y="650" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-104" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="590" y="680" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-105" value="&lt;b&gt;BCrypt&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="585" y="682.5" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-106" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="590" y="725" width="60" height="35" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-107" value="&lt;b&gt;Argon2&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="590" y="733.75" width="60" height="17.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-110" value=". . ." style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="590" y="760" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-113" value="&lt;span style=&quot;font-size: 10px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;Authentication&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="490" y="250" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-114" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;" parent="1" vertex="1">
          <mxGeometry x="680" y="-340" width="350" height="400" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-115" value="&lt;ul style=&quot;margin: 13.716px 0px; padding-left: 27.432px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;li style=&quot;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-left: 0px; line-height: 28.575px; margin-bottom: 0px !important;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;font&gt;&lt;code style=&quot;font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;UserDetails&lt;/code&gt;&amp;nbsp;предоставляет базовую информацию&amp;nbsp;&lt;br&gt;о&amp;nbsp;аутентифицированном&amp;nbsp; пользователе&lt;/font&gt;&lt;br&gt;&lt;/p&gt;&lt;pre style=&quot;font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; overflow: auto; padding: 9.144px 13.716px; text-wrap-mode: wrap; word-break: break-all; color: rgb(73, 73, 73); margin-top: 0px !important; margin-bottom: 0px !important;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;UserDetails&lt;/span&gt; &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Возвращает коллекцию прав/ролей пользователя&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;getAuthorities&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Возвращает пароль пользователя&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;getPassword&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Возвращает имя пользователя (логин)&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;getUsername&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Проверяет, не истек ли срок действия аккаунта&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;isAccountNonExpired&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Проверяет, не заблокирован ли аккаунт&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;isAccountNonLocked&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Проверяет, не истекли ли учетные данные&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;isCredentialsNonExpired&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Проверяет, активен ли пользователь&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;isEnabled&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="685" y="-330" width="340" height="380" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-116" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=12 12;" parent="1" vertex="1">
          <mxGeometry x="230" y="-340" width="430" height="400" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-117" value="&lt;ul style=&quot;margin: 13.716px 0px; padding-left: 27.432px; text-align: start; background-color: rgb(255, 255, 255); color: rgb(64, 64, 64);&quot;&gt;&lt;li style=&quot;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-left: 0px; line-height: 28.575px; margin-bottom: 0px !important;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif;&quot;&gt;&lt;span style=&quot;background-color: rgb(236, 236, 236); font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif;&quot;&gt;Authentication&lt;/span&gt;&amp;nbsp;предоставляет токен аутентификации.&lt;br&gt;&lt;/font&gt;&lt;font face=&quot;DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Oxygen, Open Sans, sans-serif&quot; color=&quot;#404040&quot;&gt;Интерфейс, представляющий &lt;b&gt;результат &lt;/b&gt;процесса аутентификации. Сод-т информацию о &lt;b&gt;Principal&lt;/b&gt;, &lt;b&gt;Credentials &lt;/b&gt;и &lt;b&gt;Granted Authorities&lt;/b&gt;.&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;&lt;pre style=&quot;color: rgb(73, 73, 73); font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; overflow: auto; padding: 9.144px 13.716px; text-wrap-mode: wrap; word-break: break-all; margin-top: 0px !important; margin-bottom: 0px !important;&quot;&gt;&lt;pre style=&quot;font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; overflow: auto; padding: 9.144px 13.716px; text-wrap-mode: wrap; word-break: break-all; margin-top: 0px !important; margin-bottom: 0px !important;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;&lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;Authentication&lt;/span&gt; &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Возвращает права/роли аутентифицированного пользователя&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;getAuthorities&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Возвращает учетные данные (обычно пароль или токен)&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;getCredentials&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Возвращает дополнительные детали аутентификации&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;getDetails&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Возвращает идентификатор пользователя (Principal)&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;getPrincipal&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Проверяет, аутентифицирован ли пользователь&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;    &lt;br&gt;    &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Устанавливает статус аутентификации&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;setAuthenticated&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="240" y="-330" width="420" height="380" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-120" value="&lt;span style=&quot;font-size: 10px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;Principle&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="208.75" y="250" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-129" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font&gt;&lt;b&gt;SecurityContextHolder &lt;/b&gt;по умолчанию использует &lt;b&gt;ThreadLocal &lt;/b&gt;для хранения контекста.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font&gt;У негог есть статические методы:&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-weight: 700; background-color: transparent; text-align: center;&quot;&gt;SecurityContextHolder.getContext()&lt;/span&gt;&lt;span style=&quot;background-color: transparent; text-align: center;&quot;&gt;&amp;nbsp;и&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; text-align: center; font-weight: 700;&quot;&gt;SecurityContextHolder.setContext()&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="36.88" y="845" width="420" height="22.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-130" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="40" y="160" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-131" value="Filter 1" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="60" y="165" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-132" value="" style="endArrow=classic;html=1;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="xT-c-EVdMDdMauQ4JP2Y-31" target="xT-c-EVdMDdMauQ4JP2Y-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="350" as="sourcePoint" />
            <mxPoint x="10" y="220" as="targetPoint" />
            <Array as="points">
              <mxPoint y="700" />
              <mxPoint y="215" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-133" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.861;exitY=0.989;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="xT-c-EVdMDdMauQ4JP2Y-13" target="xT-c-EVdMDdMauQ4JP2Y-31" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="110" y="510" as="sourcePoint" />
            <mxPoint x="160" y="460" as="targetPoint" />
            <Array as="points">
              <mxPoint x="249" y="450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-128" value="Как только объект аутентификации&amp;nbsp;был успешно возвращен обратно в фильтр, фильтр добавит текущего аутенцированного пользователя в контекст безопасности&amp;nbsp;&lt;span style=&quot;font-weight: 700;&quot;&gt;Security Context&lt;/span&gt;&amp;nbsp;&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="60" y="587.5" width="280" height="70" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-135" value="При последующих запросах этот фильтр пыта-ется загрузить нашего пользователя &lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 10px;&quot;&gt;(&lt;i&gt;аутентифи-цированного&amp;nbsp;&lt;/i&gt;)&lt;/span&gt;&lt;/font&gt;&amp;nbsp;из сеанса. Если это удалось - то пользователю не нужно повторно проходить процедуру Authentication (&lt;font style=&quot;font-size: 9px;&quot;&gt;т.к. он есть&amp;nbsp;&lt;span style=&quot;font-weight: 700;&quot;&gt;Security Context&lt;/span&gt;)&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="-37.5" y="485" width="277.5" height="100" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-137" value="&lt;b&gt;ХРАНИЛИЩЕ&amp;nbsp;&lt;/b&gt;&lt;div&gt;контекста безопасности&lt;/div&gt;" style="text;html=1;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#999999;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="272.5" y="672.5" width="183.75" height="22.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-142" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=5;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="880" y="600" width="160" height="80" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-143" value="UserDetails&lt;br&gt;&lt;b style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent; text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 9px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;lt;интерфейс&amp;gt;&lt;/span&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="920" y="605" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-149" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=5;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="905" y="703.75" width="100" height="77.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-150" value="User" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="930" y="711.25" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-156" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="40" y="305" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-157" value="Exception&amp;nbsp;&lt;br&gt;TranslationFilter" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="60" y="310" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-158" value="&lt;b&gt;Exeption&amp;nbsp;&lt;/b&gt;&lt;span style=&quot;background-color: light-dark(rgb(255, 255, 204), rgb(24, 24, 0)); color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;b&gt;Translation Filter &lt;/b&gt;&lt;br&gt;Обрабатывает все случаи, когда аунтефикация по тем либо иным причинам не пройдена.&lt;br&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;Может вернуть клиенту ошибку:&lt;/font&gt;&lt;/span&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;AccessDeniedException → &lt;b style=&quot;&quot;&gt;403&lt;/b&gt;, AuthenticationException → &lt;b style=&quot;&quot;&gt;401&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFCC;labelBorderColor=none;textShadow=0;" parent="1" vertex="1">
          <mxGeometry x="278.75" y="485" width="190" height="100" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-159" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="xT-c-EVdMDdMauQ4JP2Y-156" target="xT-c-EVdMDdMauQ4JP2Y-158" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="410" as="sourcePoint" />
            <mxPoint x="290" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-163" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.507;exitY=-0.037;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.507;entryY=1.008;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="xT-c-EVdMDdMauQ4JP2Y-142" target="xT-c-EVdMDdMauQ4JP2Y-78" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="860" y="590" as="sourcePoint" />
            <mxPoint x="949" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-164" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.576;entryY=1.039;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.553;exitY=0.012;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="xT-c-EVdMDdMauQ4JP2Y-149" target="xT-c-EVdMDdMauQ4JP2Y-173" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="961" y="700" as="sourcePoint" />
            <mxPoint x="910" y="540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-166" value="authenticate()" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#67AB9F;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="393.13" y="297.5" width="80" height="22.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-167" value="&lt;font style=&quot;font-size: 8px;&quot;&gt;поддерживает-ли?: &lt;/font&gt;&lt;b&gt;supports()&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 8px;&quot;&gt;Если вернулось &lt;/span&gt;&lt;b style=&quot;&quot;&gt;&lt;font&gt;да &lt;/font&gt;&lt;/b&gt;&lt;span style=&quot;font-size: 8px;&quot;&gt;, то&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;идентифицировать: &lt;/font&gt;&lt;b&gt;authenticate()&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#67AB9F;" parent="1" vertex="1">
          <mxGeometry x="570" y="507.5" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-169" value="&lt;b&gt;loadUserByUsername (...)&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#67AB9F;" parent="1" vertex="1">
          <mxGeometry x="910" y="540" width="130" height="22.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-170" value="" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.cloud_callout;verticalAlign=top;fontSize=8;" parent="1" vertex="1">
          <mxGeometry x="202.5" y="135" width="170" height="110" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-171" value="&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 6px;&quot;&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;&lt;b style=&quot;&quot;&gt;UsernamePasswordAuthenticationToken&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;b style=&quot;font-size: 8px;&quot;&gt;Principal &lt;/b&gt;&lt;span style=&quot;font-size: 8px;&quot;&gt;— логин.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;b&gt;Credentials &lt;/b&gt;— пароль &lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 6px;&quot;&gt;(удаляется после аутентификации)&lt;/font&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;.&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="215.63" y="155" width="147.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-172" value="Все настоящие данные о пользовател" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#67AB9F;" parent="1" vertex="1">
          <mxGeometry x="905" y="732.5" width="100" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-173" value="Объект со свдениями&amp;nbsp;&lt;br&gt;о пользователе" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#67AB9F;" parent="1" vertex="1">
          <mxGeometry x="880" y="637.5" width="140" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="xT-c-EVdMDdMauQ4JP2Y-174" value="&lt;font style=&quot;font-size: 10px;&quot;&gt;&lt;b&gt;КОНТЕЙНЕР&lt;/b&gt;&amp;nbsp;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;Доступен на протяжении всего сеанса&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#999999;" parent="1" vertex="1">
          <mxGeometry x="200" y="700" width="238.75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-1" value="users&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fontColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="50" y="30" width="15" height="25" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-8" value="" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.cloud_callout" parent="1" vertex="1">
          <mxGeometry x="590" y="120" width="230" height="115" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-10" value="&lt;font&gt;&lt;b style=&quot;&quot;&gt;Поставщик аунтефикаций&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;font&gt;Каждая реализация провайдера отвечает за выполнение&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;своего собственного/&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;конкретного типа&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;аутентификации&amp;nbsp;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="600" y="130" width="220" height="63.75" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-16" value="Сценарий 1" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1020" y="745" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-17" value="Сценарий 2" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#ffcd28;gradientColor=#ffa500;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="1020" y="797.5" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-18" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.rect;fillColor2=none;strokeWidth=1;size=20;indent=5;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="570" y="840" width="150" height="110" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-19" value="Authentication Provider(s)" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="610" y="845" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-20" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.156;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="470" y="920.1199999999999" as="sourcePoint" />
            <mxPoint x="570" y="920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-21" value="" style="endArrow=classic;html=1;rounded=0;entryX=1.011;entryY=0.411;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="939.31" as="sourcePoint" />
            <mxPoint x="470" y="939.31" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-22" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="590" y="885" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-23" value="&lt;b&gt;Jwt&lt;/b&gt;&lt;div&gt;Authentication Provider&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="590" y="890" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-29" value="&lt;span style=&quot;font-size: 10px;&quot;&gt;Authentication&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="490" y="930" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-44" value="&lt;span style=&quot;font-size: 10px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;Credentials&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="490" y="225" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-45" value="&lt;span style=&quot;font-size: 10px;&quot;&gt;Credentials&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="490" y="900" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-46" value="" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;direction=south;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="330" y="880" width="143.13" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-47" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Authentication Manager&lt;br&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 9px; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;lt;интерфейс&amp;gt;&lt;/span&gt;&lt;/b&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="312.5" y="895" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-48" value="" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.cloud_callout" parent="1" vertex="1">
          <mxGeometry x="720" y="820" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-49" value="&lt;font&gt;&lt;b&gt;Токен аутентификации&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;div&gt;Проверяется лишь подпись &lt;b&gt;&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ZZZ&lt;/font&gt;&lt;br&gt;XXX.YYY.&lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;ZZZ&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="715" y="835" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-51" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry y="1110" width="220" height="360" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-52" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="20" y="1130" width="182.5" height="240" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-53" value="ServletFilterChain" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="36.25" y="1109" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-56" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="26.25" y="1395" width="166.25" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-85" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="30" y="1190" width="162.5" height="120" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-57" value="DispatcherServlet" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="31.25" y="1405" width="161.25" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-58" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="36.25" y="1240" width="146.25" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-61" value="&lt;b&gt;DelegatingFilterProxy&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;Главный фильтр Spring, делегирующий обработку Spring-бинам.&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="36.25" y="1190" width="156.25" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-62" value="&lt;b&gt;SERVER&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="80" y="1442.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-64" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="30" y="1140" width="162.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-65" value="Filter 1" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="32.5" y="1145" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-68" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="260" y="1000" width="370" height="470" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-69" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="1020" width="330" height="400" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-70" value="Security Filter Chain" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="280" y="1000" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-74" value="&lt;div&gt;Фильтры выполняются в порядке их объявления:&lt;/div&gt;&lt;div&gt;Порядок фильтров влияет на обработку запроса&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;(например, CSRF-токен проверяется до аутентификации)&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="286.25" y="1430" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-81" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="290" y="1030" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-82" value="&lt;b&gt;CorsFilter &lt;/b&gt;→ &lt;font style=&quot;font-size: 8px;&quot;&gt;Обрабатывает CORS (кросс-доменные запросы).&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="290" y="1040" width="300" height="10" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-87" value="&lt;b&gt;FilterChainProxy&lt;/b&gt;&lt;div&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;Управляет цепочкой фильтров безопасности (&lt;b&gt;Security Filter Chain&lt;/b&gt;).&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="41.25" y="1245" width="141.25" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-90" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="31.25" y="1330" width="162.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-91" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="30" y="1330" width="162.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-92" value="Filter 2" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="31.25" y="1335" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-95" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="290" y="1070" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-96" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="290" y="1110" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-98" value="&lt;b&gt;CsrfFilter &lt;/b&gt;→ &lt;font style=&quot;font-size: 8px;&quot;&gt;Защита от CSRF-атак (проверяет токены).&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="290" y="1080" width="300" height="10" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-99" value="&lt;b&gt;LogoutFilter &lt;/b&gt;→ &lt;font style=&quot;font-size: 8px;&quot;&gt;Обрабатывает выход пользователя (URL /logout).&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="290" y="1119" width="300" height="10" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-100" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="290" y="1180" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-101" value="&lt;b&gt;UsernamePasswordAuthenticationFilter&amp;nbsp;&lt;/b&gt;→ &lt;font style=&quot;font-size: 8px;&quot;&gt;Перехватывает POST-запросы на /login (логин/пароль).&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="290" y="1185" width="310" height="25" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-105" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="290" y="1230" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-106" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="290" y="1280" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-107" value="&lt;b&gt;BasicAuthenticationFilter &lt;/b&gt;→ &lt;font style=&quot;font-size: 8px;&quot;&gt;Обрабатывает Basic Authentication (заголовок Authorization: Basic).&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="290" y="1237.5" width="310" height="25" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-108" value="&lt;b&gt;BearerTokenAuthenticationFilter&amp;nbsp;&lt;/b&gt;→ &lt;font style=&quot;font-size: 8px;&quot;&gt;Проверяет Bearer Token (OAuth2/JWT в заголовке Authorization: Bearer).&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="290" y="1287.5" width="310" height="25" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-109" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="290" y="1360" width="310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-110" value="&lt;b&gt;JwtAuthFilter&amp;nbsp;&lt;/b&gt;→ &lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;i&gt;Кастомный &lt;/i&gt;фильтр для валидации &lt;b&gt;JWT &lt;/b&gt;(если добавлен в конфигурацию). Можно разместить/ передвинуть в любом месте цепочки.&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 8px;&quot;&gt;обычно добавляется перед BearerTokenAuthenticationFilter или заменяет его.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="290" y="1365" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-111" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.005;entryY=0.576;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="0vVxcxslvsv8Diaj_jdv-87" target="0vVxcxslvsv8Diaj_jdv-68" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="281.25" y="1252.5" as="sourcePoint" />
            <mxPoint x="250" y="1270.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-113" value="&lt;h3 style=&quot;font-weight: 500; font-size: 18.288px; line-height: 1.5; margin: 18.288px 0px 13.716px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; text-align: start;&quot;&gt;&lt;strong&gt;Как это работает&lt;/strong&gt;&lt;/h3&gt;&lt;ul style=&quot;margin: 13.716px 0px; padding-left: 27.432px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start;&quot;&gt;&lt;li&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Запрос проходит через&amp;nbsp;&lt;strong&gt;DelegatingFilterProxy&lt;/strong&gt;, который передает управление&amp;nbsp;&lt;strong&gt;FilterChainProxy&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;strong&gt;FilterChainProxy&lt;/strong&gt;&amp;nbsp;выбирает подходящую цепочку фильтров (например, для&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;/api/**&lt;/code&gt;&amp;nbsp;или&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;/admin/**&lt;/code&gt;).&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Каждый фильтр в&amp;nbsp;&lt;strong&gt;Security Filter Chain&lt;/strong&gt;&amp;nbsp;выполняет свою задачу (проверка токенов, аутентификация и т.д.).&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Если все проверки пройдены — запрос попадает в ваш сервлет/контроллер.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFF4C3;textShadow=1;labelBorderColor=#0000FF;" parent="1" vertex="1">
          <mxGeometry x="661.25" y="1070" width="370" height="400" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.533;entryY=0.013;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="0vVxcxslvsv8Diaj_jdv-114" target="0vVxcxslvsv8Diaj_jdv-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-117" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="0vVxcxslvsv8Diaj_jdv-100" target="0vVxcxslvsv8Diaj_jdv-96" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="420" y="1190" as="sourcePoint" />
            <mxPoint x="470" y="1140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-119" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="444.83" y="1360" as="sourcePoint" />
            <mxPoint x="444.83" y="1320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-123" value="" style="verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.smiley;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1930" y="1860" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-124" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;&quot;&gt;ССЫЛКИ&lt;/font&gt;&lt;/b&gt;:&lt;br&gt;&lt;/font&gt;Официальная документация:&amp;nbsp;&lt;a href=&quot;https://docs.spring.io/spring-security/reference/servlet/architecture.html&quot;&gt;docs.spring.io&lt;/a&gt;&lt;div&gt;Video:&amp;nbsp;&lt;span style=&quot;&quot;&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=_GSHvvken2k&quot;&gt;Spring Security From Beginner to Pro&lt;br&gt;&lt;/a&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Video,&amp;nbsp;&lt;/span&gt;плей-лист:&amp;nbsp;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;a href=&quot;https://www.youtube.com/playlist?list=PLs_aLxm3VDLu9ghcQhTHOT84zmqLgAwdL&quot;&gt;Spring Security в деталях&lt;/a&gt; &lt;i&gt;(&lt;/i&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;i&gt;17 видео)&lt;/i&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#EAFFE9;" parent="1" vertex="1">
          <mxGeometry y="1562.5" width="340" height="110" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-128" value="&lt;span style=&quot;font-size: 10px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;UPAT&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="215.63" y="225" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-129" value="PasswordEncoder&amp;nbsp;&lt;div&gt;&lt;b&gt;шифрует &lt;/b&gt;пароль и&amp;nbsp;&lt;b style=&quot;background-color: light-dark(rgb(255, 255, 204), rgb(24, 24, 0)); color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;сравнивает его&lt;/b&gt;&lt;span style=&quot;background-color: light-dark(rgb(255, 255, 204), rgb(24, 24, 0)); color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: light-dark(rgb(255, 255, 204), rgb(24, 24, 0)); color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;с хранимым хешем. В&lt;/span&gt;&lt;span style=&quot;background-color: light-dark(rgb(255, 255, 204), rgb(24, 24, 0)); color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;недряется в &lt;b&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;DaoAuthenticationProvider&lt;/font&gt;&lt;/b&gt;, а не в провайдеры напрямую.&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="690" y="657.5" width="116" height="120" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-130" value="&lt;h3 style=&quot;font-weight: 500; font-size: 18.288px; line-height: 1.5; margin: 18.288px 0px 13.716px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong&gt;🔑 1.&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;UsernamePasswordAuthenticationToken&lt;/code&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;ul style=&quot;margin: 13.716px 0px; padding-left: 27.432px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;li&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Это объект, который создается при аутентификации через логин и пароль.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin: 0px 0px 4px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Содержит:&lt;/p&gt;&lt;ul style=&quot;margin: 4px 0px 0px; padding-left: 27.432px;&quot;&gt;&lt;li&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;strong&gt;Principal&lt;/strong&gt;&amp;nbsp;— имя пользователя (логин).&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;strong&gt;Credentials&lt;/strong&gt;&amp;nbsp;— пароль (обычно удаляется после аутентификации).&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin: 0px 0px 4px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Пример:&lt;/p&gt;&lt;div style=&quot;--ds-md-code-block-border-color: #e5e5e5; --ds-md-code-block-banner-wrap-background-color: white; --ds-md-code-banner-background-color: #f5f5f5; color: rgb(73, 73, 73); background: rgb(250, 250, 250); --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); border-radius: 12px; font-size: 12.573px; line-height: 20.1168px; margin-bottom: 0px;&quot; class=&quot;md-code-block md-code-block-light&quot;&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); z-index: 6; position: sticky; top: 0px;&quot; class=&quot;md-code-block-banner-wrap&quot;&gt;&lt;div style=&quot;background: none 0% 0% / auto repeat scroll padding-box border-box rgb(245, 245, 245); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;&quot; class=&quot;md-code-block-banner md-code-block-banner-lite&quot;&gt;&lt;div style=&quot;justify-content: space-between; align-items: center; width: 704.578px; padding: 6px 14px 6px 6px; display: flex;&quot; class=&quot;_121d384&quot;&gt;&lt;div style=&quot;flex-shrink: 0;&quot; class=&quot;d2a24f03&quot;&gt;&lt;span style=&quot;color: rgb(82, 82, 82); margin-left: 8px; font-size: 12px; line-height: 18px;&quot; class=&quot;d813de27&quot;&gt;java&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;flex-shrink: 0;&quot; class=&quot;d2a24f03&quot;&gt;&lt;div style=&quot;height: 28px; align-items: center; display: flex;&quot; class=&quot;efa13877&quot;&gt;&lt;div style=&quot;--ds-rgb-error-hover: 218 54 54; --ds-button-color: transparent; --button-ring-color: rgb(59 130 246); height: 28px; line-height: 25px; font-size: 13px; border-radius: 10px; padding: 0px 4px; user-select: none; cursor: pointer; text-wrap-mode: nowrap; box-sizing: border-box; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1); font-variant-numeric: tabular-nums; outline: none; align-items: center; display: inline-flex; position: relative; background-color: rgba(0, 0, 0, 0); color: rgb(82, 82, 82); --button-height: 34px; --button-font-size: 14px; --button-line-height: 25px; --button-border-radius: 10px; --button-padding: 0 14px; --button-icon-size: 18px; --button-icon-margin: 0 8px 0 0; margin-right: 8px; --button-text-color: rgb(82 82 82);&quot; tabindex=&quot;0&quot; class=&quot;ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914&quot; role=&quot;button&quot;&gt;&lt;div style=&quot;line-height: 0; font-size: 18px; width: 18px; height: 18px; margin: 0px 4px 0px 0px; flex-grow: 0; flex-shrink: 0; justify-content: center; align-items: center; display: flex;&quot; class=&quot;ds-button__icon&quot;&gt;&lt;div style=&quot;line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;&quot; class=&quot;ds-icon&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; height=&quot;24&quot; width=&quot;24&quot;&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;/div&gt;Copy&lt;/div&gt;&lt;div style=&quot;--ds-rgb-error-hover: 218 54 54; --ds-button-color: transparent; --button-ring-color: rgb(59 130 246); height: 28px; line-height: 21px; font-size: 13px; border-radius: 10px; padding: 0px 4px; user-select: none; cursor: pointer; text-wrap-mode: nowrap; box-sizing: border-box; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1); font-variant-numeric: tabular-nums; outline: none; align-items: center; display: inline-flex; position: relative; background-color: rgba(0, 0, 0, 0); color: rgb(82, 82, 82); --button-height: 30px; --button-font-size: 13px; --button-line-height: 21px; --button-border-radius: 10px; --button-padding: 0 14px; --button-icon-size: 18px; --button-icon-margin: 0 8px 0 0; --button-text-color: rgb(82 82 82);&quot; tabindex=&quot;0&quot; class=&quot;ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914&quot; role=&quot;button&quot;&gt;&lt;div style=&quot;line-height: 0; font-size: 18px; width: 18px; height: 18px; margin: 0px 4px 0px 0px; flex-grow: 0; flex-shrink: 0; justify-content: center; align-items: center; display: flex;&quot; class=&quot;ds-button__icon&quot;&gt;&lt;div style=&quot;line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;&quot; class=&quot;ds-icon&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; height=&quot;24&quot; width=&quot;24&quot;&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;/div&gt;Download&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;pre style=&quot;font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; overflow: auto; padding: 9.144px 13.716px; text-wrap-mode: wrap; word-break: break-all; margin-top: 0px !important; margin-bottom: 0px !important;&quot;&gt;&lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;Authentication&lt;/span&gt; authRequest &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;UsernamePasswordAuthenticationToken&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;username&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; password&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr style=&quot;height: 1px; margin: 32px 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgb(229, 229, 229); border: none; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start;&quot;&gt;&lt;h3 style=&quot;font-weight: 500; font-size: 18.288px; line-height: 1.5; margin: 18.288px 0px 13.716px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong&gt;👤 2.&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;UserDetails&lt;/code&gt;&amp;nbsp;и Authorities&lt;/strong&gt;&lt;/h3&gt;&lt;ul style=&quot;margin: 13.716px 0px; padding-left: 27.432px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;li&gt;&lt;p style=&quot;margin: 0px 0px 4px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;strong&gt;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;UserDetails&lt;/code&gt;&lt;/strong&gt;&amp;nbsp;— интерфейс, предоставляющий данные пользователя:&lt;/p&gt;&lt;ul style=&quot;margin: 4px 0px 0px; padding-left: 27.432px;&quot;&gt;&lt;li&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;getUsername()&lt;/code&gt;&amp;nbsp;— логин.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;getPassword()&lt;/code&gt;&amp;nbsp;— пароль.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;getAuthorities()&lt;/code&gt;&amp;nbsp;— список прав/ролей (например,&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;ROLE_ADMIN&lt;/code&gt;).&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Реализуется в классе, который загружает данные пользователя (например, из БД).&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr style=&quot;height: 1px; margin: 32px 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgb(229, 229, 229); border: none; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start;&quot;&gt;&lt;h3 style=&quot;font-weight: 500; font-size: 18.288px; line-height: 1.5; margin: 18.288px 0px 13.716px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong&gt;🛠 3.&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;AuthenticationManager&lt;/code&gt;&amp;nbsp;и&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;ProviderManager&lt;/code&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;ul style=&quot;margin: 13.716px 0px; padding-left: 27.432px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;li&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;strong&gt;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;AuthenticationManager&lt;/code&gt;&lt;/strong&gt;&amp;nbsp;— главный интерфейс для проверки аутентификации.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;strong&gt;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;ProviderManager&lt;/code&gt;&lt;/strong&gt;&amp;nbsp;— стандартная реализация, которая делегирует проверку&amp;nbsp;&lt;strong&gt;AuthenticationProvider&lt;/strong&gt;-ам.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Пример провайдера:&amp;nbsp;&lt;strong&gt;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;DaoAuthenticationProvider&lt;/code&gt;&lt;/strong&gt;&amp;nbsp;(проверяет логин/пароль через&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;UserDetailsService&lt;/code&gt;).&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr style=&quot;height: 1px; margin: 32px 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgb(229, 229, 229); border: none; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start;&quot;&gt;&lt;h3 style=&quot;font-weight: 500; font-size: 18.288px; line-height: 1.5; margin: 18.288px 0px 13.716px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong&gt;🔐 4.&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;UserDetailsService&lt;/code&gt;&amp;nbsp;и&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;PasswordEncoder&lt;/code&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;ul style=&quot;margin: 13.716px 0px; padding-left: 27.432px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;li&gt;&lt;p style=&quot;margin: 0px 0px 4px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;strong&gt;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;UserDetailsService&lt;/code&gt;&lt;/strong&gt;&amp;nbsp;— загружает данные пользователя по логину (например, из БД):&lt;/p&gt;&lt;div style=&quot;--ds-md-code-block-border-color: #e5e5e5; --ds-md-code-block-banner-wrap-background-color: white; --ds-md-code-banner-background-color: #f5f5f5; color: rgb(73, 73, 73); background: rgb(250, 250, 250); --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); border-radius: 12px; font-size: 12.573px; line-height: 20.1168px; margin-bottom: 0px;&quot; class=&quot;md-code-block md-code-block-light&quot;&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); z-index: 6; position: sticky; top: 0px;&quot; class=&quot;md-code-block-banner-wrap&quot;&gt;&lt;div style=&quot;background: none 0% 0% / auto repeat scroll padding-box border-box rgb(245, 245, 245); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;&quot; class=&quot;md-code-block-banner md-code-block-banner-lite&quot;&gt;&lt;div style=&quot;justify-content: space-between; align-items: center; width: 704.578px; padding: 6px 14px 6px 6px; display: flex;&quot; class=&quot;_121d384&quot;&gt;&lt;div style=&quot;flex-shrink: 0;&quot; class=&quot;d2a24f03&quot;&gt;&lt;span style=&quot;color: rgb(82, 82, 82); margin-left: 8px; font-size: 12px; line-height: 18px;&quot; class=&quot;d813de27&quot;&gt;java&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;flex-shrink: 0;&quot; class=&quot;d2a24f03&quot;&gt;&lt;div style=&quot;height: 28px; align-items: center; display: flex;&quot; class=&quot;efa13877&quot;&gt;&lt;div style=&quot;--ds-rgb-error-hover: 218 54 54; --ds-button-color: transparent; --button-ring-color: rgb(59 130 246); height: 28px; line-height: 25px; font-size: 13px; border-radius: 10px; padding: 0px 4px; user-select: none; cursor: pointer; text-wrap-mode: nowrap; box-sizing: border-box; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1); font-variant-numeric: tabular-nums; outline: none; align-items: center; display: inline-flex; position: relative; background-color: rgba(0, 0, 0, 0); color: rgb(82, 82, 82); --button-height: 34px; --button-font-size: 14px; --button-line-height: 25px; --button-border-radius: 10px; --button-padding: 0 14px; --button-icon-size: 18px; --button-icon-margin: 0 8px 0 0; margin-right: 8px; --button-text-color: rgb(82 82 82);&quot; tabindex=&quot;0&quot; class=&quot;ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914&quot; role=&quot;button&quot;&gt;&lt;div style=&quot;line-height: 0; font-size: 18px; width: 18px; height: 18px; margin: 0px 4px 0px 0px; flex-grow: 0; flex-shrink: 0; justify-content: center; align-items: center; display: flex;&quot; class=&quot;ds-button__icon&quot;&gt;&lt;div style=&quot;line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;&quot; class=&quot;ds-icon&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; height=&quot;24&quot; width=&quot;24&quot;&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;/div&gt;Copy&lt;/div&gt;&lt;div style=&quot;--ds-rgb-error-hover: 218 54 54; --ds-button-color: transparent; --button-ring-color: rgb(59 130 246); height: 28px; line-height: 21px; font-size: 13px; border-radius: 10px; padding: 0px 4px; user-select: none; cursor: pointer; text-wrap-mode: nowrap; box-sizing: border-box; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1); font-variant-numeric: tabular-nums; outline: none; align-items: center; display: inline-flex; position: relative; background-color: rgba(0, 0, 0, 0); color: rgb(82, 82, 82); --button-height: 30px; --button-font-size: 13px; --button-line-height: 21px; --button-border-radius: 10px; --button-padding: 0 14px; --button-icon-size: 18px; --button-icon-margin: 0 8px 0 0; --button-text-color: rgb(82 82 82);&quot; tabindex=&quot;0&quot; class=&quot;ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914&quot; role=&quot;button&quot;&gt;&lt;div style=&quot;line-height: 0; font-size: 18px; width: 18px; height: 18px; margin: 0px 4px 0px 0px; flex-grow: 0; flex-shrink: 0; justify-content: center; align-items: center; display: flex;&quot; class=&quot;ds-button__icon&quot;&gt;&lt;div style=&quot;line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;&quot; class=&quot;ds-icon&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; height=&quot;24&quot; width=&quot;24&quot;&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;/div&gt;Download&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;pre style=&quot;font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; overflow: auto; padding: 9.144px 13.716px; text-wrap-mode: wrap; word-break: break-all; margin-top: 0px !important; margin-bottom: 0px !important;&quot;&gt;&lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;UserDetails&lt;/span&gt; user &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token operator&quot;&gt;=&lt;/span&gt; userDetailsService&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;loadUserByUsername&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;username&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;strong&gt;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;PasswordEncoder&lt;/code&gt;&lt;/strong&gt;&amp;nbsp;— шифрует пароль и сравнивает его с хранимым хешем (например,&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;BCryptPasswordEncoder&lt;/code&gt;).&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr style=&quot;height: 1px; margin: 32px 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgb(229, 229, 229); border: none; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start;&quot;&gt;&lt;h3 style=&quot;font-weight: 500; font-size: 18.288px; line-height: 1.5; margin: 18.288px 0px 13.716px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong&gt;🔗 Пример взаимодействия&lt;/strong&gt;&lt;/h3&gt;&lt;ol style=&quot;margin: 13.716px 0px; padding-left: 27.432px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start; background-color: rgb(255, 255, 255);&quot; start=&quot;1&quot;&gt;&lt;li&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Пользователь отправляет логин и пароль.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Создается&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;UsernamePasswordAuthenticationToken&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;AuthenticationManager&lt;/code&gt;&amp;nbsp;(через&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;ProviderManager&lt;/code&gt;) передает токен провайдеру (например,&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;DaoAuthenticationProvider&lt;/code&gt;).&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Провайдер использует&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;UserDetailsService&lt;/code&gt;&amp;nbsp;для загрузки данных пользователя.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;PasswordEncoder&lt;/code&gt;&amp;nbsp;проверяет совпадение паролей.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Если успешно — возвращается аутентифицированный объект&amp;nbsp;&lt;code style=&quot;font-size: 0.875em; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;Authentication&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;hr style=&quot;height: 1px; margin: 32px 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgb(229, 229, 229); border: none; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start;&quot;&gt;&lt;h3 style=&quot;font-weight: 500; font-size: 18.288px; line-height: 1.5; margin: 18.288px 0px 13.716px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong&gt;⚙️ Кастомизация&lt;/strong&gt;&lt;/h3&gt;&lt;ul style=&quot;margin: 13.716px 0px; padding-left: 27.432px; color: rgb(64, 64, 64); font-family: DeepSeek-CJK-patch, Inter, system-ui, -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Noto Sans&amp;quot;, Ubuntu, Cantarell, &amp;quot;Helvetica Neue&amp;quot;, Oxygen, &amp;quot;Open Sans&amp;quot;, sans-serif; font-size: 16.002px; text-align: start; background-color: rgb(255, 255, 255);&quot;&gt;&lt;li&gt;&lt;p style=&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px !important; margin-left: 0px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;&lt;strong&gt;&lt;code style=&quot;font-size: 0.875em; font-weight: 500; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; background-color: rgb(236, 236, 236); border-radius: 4px; padding: 0.15rem 0.3rem;&quot;&gt;DaoAuthenticationProvider&lt;/code&gt;&lt;/strong&gt;&amp;nbsp;— может быть вашим кастомным провайдером для нестандартной логики аутентификации.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;margin-top: 4px;&quot;&gt;&lt;p style=&quot;margin: 0px 0px 4px; font-size: 16.002px; line-height: 28.575px;&quot; class=&quot;ds-markdown-paragraph&quot;&gt;Пример конфигурации:&lt;/p&gt;&lt;div style=&quot;--ds-md-code-block-border-color: #e5e5e5; --ds-md-code-block-banner-wrap-background-color: white; --ds-md-code-banner-background-color: #f5f5f5; color: rgb(73, 73, 73); background: rgb(250, 250, 250); --ds-md-code-block-border-radius: 12px; --ds-md-code-block-font-size: calc(1.143*11px); border-radius: 12px; font-size: 12.573px; line-height: 20.1168px; margin-bottom: 0px;&quot; class=&quot;md-code-block md-code-block-light&quot;&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); z-index: 6; position: sticky; top: 0px;&quot; class=&quot;md-code-block-banner-wrap&quot;&gt;&lt;div style=&quot;background: none 0% 0% / auto repeat scroll padding-box border-box rgb(245, 245, 245); padding: 0px; font-size: 12.573px; line-height: 12.573px; justify-content: space-between; display: flex; border-top-left-radius: 12px; border-top-right-radius: 12px;&quot; class=&quot;md-code-block-banner md-code-block-banner-lite&quot;&gt;&lt;div style=&quot;justify-content: space-between; align-items: center; width: 704.578px; padding: 6px 14px 6px 6px; display: flex;&quot; class=&quot;_121d384&quot;&gt;&lt;div style=&quot;flex-shrink: 0;&quot; class=&quot;d2a24f03&quot;&gt;&lt;span style=&quot;color: rgb(82, 82, 82); margin-left: 8px; font-size: 12px; line-height: 18px;&quot; class=&quot;d813de27&quot;&gt;java&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;flex-shrink: 0;&quot; class=&quot;d2a24f03&quot;&gt;&lt;div style=&quot;height: 28px; align-items: center; display: flex;&quot; class=&quot;efa13877&quot;&gt;&lt;div style=&quot;--ds-rgb-error-hover: 218 54 54; --ds-button-color: transparent; --button-ring-color: rgb(59 130 246); height: 28px; line-height: 25px; font-size: 13px; border-radius: 10px; padding: 0px 4px; user-select: none; cursor: pointer; text-wrap-mode: nowrap; box-sizing: border-box; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1); font-variant-numeric: tabular-nums; outline: none; align-items: center; display: inline-flex; position: relative; background-color: rgba(0, 0, 0, 0); color: rgb(82, 82, 82); --button-height: 34px; --button-font-size: 14px; --button-line-height: 25px; --button-border-radius: 10px; --button-padding: 0 14px; --button-icon-size: 18px; --button-icon-margin: 0 8px 0 0; margin-right: 8px; --button-text-color: rgb(82 82 82);&quot; tabindex=&quot;0&quot; class=&quot;ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--m _7db3914&quot; role=&quot;button&quot;&gt;&lt;div style=&quot;line-height: 0; font-size: 18px; width: 18px; height: 18px; margin: 0px 4px 0px 0px; flex-grow: 0; flex-shrink: 0; justify-content: center; align-items: center; display: flex;&quot; class=&quot;ds-button__icon&quot;&gt;&lt;div style=&quot;line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;&quot; class=&quot;ds-icon&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; height=&quot;24&quot; width=&quot;24&quot;&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M3.65169 12.9243C3.68173 13.1045 3.74181 13.2748 3.80189 13.445C3.87198 13.6052 3.96211 13.7654 4.06225 13.9156C4.16238 14.0658 4.27253 14.206 4.4027 14.3362C4.52286 14.4663 4.66306 14.5765 4.81326 14.6766C4.96346 14.7768 5.11366 14.8569 5.28389 14.927C5.44411 14.9971 5.61434 15.0571 5.79459 15.0872C5.97483 15.1272 6.14506 15.1373 6.3253 15.1373V16.9196C6.30739 16.9196 6.28949 16.9195 6.27159 16.9193C5.9991 16.9158 5.72659 16.8859 5.4541 16.8295C5.16371 16.7694 4.88334 16.6893 4.61298 16.5692C4.3326 16.459 4.08226 16.3188 3.83193 16.1586C3.59161 15.9884 3.3613 15.7981 3.15102 15.5878C2.94074 15.3776 2.7605 15.1473 2.59027 14.9069C2.43006 14.6566 2.28986 14.3962 2.17972 14.1259C2.06957 13.8455 1.97944 13.5651 1.91936 13.2747C1.86929 12.9843 1.83926 12.684 1.83926 12.3936V6.26532C1.83926 5.96492 1.86929 5.67456 1.91936 5.38417C1.97944 5.09378 2.06957 4.80338 2.17972 4.53302C2.28986 4.26265 2.43006 4.0023 2.59027 3.75197C2.7605 3.50163 2.94074 3.27132 3.15102 3.06104C3.3613 2.85076 3.59161 2.67052 3.83193 2.50029C4.08226 2.33006 4.3326 2.19987 4.61298 2.07971C4.88334 1.96956 5.16371 1.87943 5.4541 1.81935C5.74449 1.75927 6.03491 1.73926 6.3253 1.73926H12.3934C12.6838 1.73926 12.9842 1.75927 13.2746 1.81935C13.555 1.87943 13.8354 1.96956 14.1158 2.07971C14.3861 2.19987 14.6465 2.33006 14.8868 2.50029C15.1371 2.67052 15.3574 2.85076 15.5677 3.06104C15.778 3.27132 15.9582 3.50163 16.1284 3.75197C16.2887 4.0023 16.4288 4.26265 16.539 4.53302C16.6592 4.80338 16.7393 5.09378 16.7994 5.38417C16.8558 5.65722 16.8858 5.93024 16.8892 6.21161C16.8894 6.22948 16.8895 6.24739 16.8895 6.26532H15.1271C15.1271 6.08508 15.1071 5.90486 15.067 5.72462C15.037 5.55439 14.9869 5.38415 14.9168 5.21392C14.8467 5.04369 14.7566 4.88347 14.6665 4.73327C14.5664 4.58307 14.4462 4.45289 14.326 4.32271C14.1959 4.19254 14.0557 4.08239 13.9055 3.98226C13.7553 3.88212 13.6051 3.79202 13.4348 3.72193C13.2746 3.65184 13.1044 3.60174 12.9242 3.5717C12.7539 3.53165 12.5737 3.51163 12.3934 3.51163H6.3253C6.14506 3.51163 5.97483 3.53165 5.79459 3.5717C5.61434 3.60174 5.44411 3.65184 5.28389 3.72193C5.11366 3.79202 4.96346 3.88212 4.81326 3.98226C4.66306 4.08239 4.52286 4.19254 4.4027 4.32271C4.27253 4.45289 4.16238 4.58307 4.06225 4.73327C3.96211 4.88347 3.87198 5.04369 3.80189 5.21392C3.74181 5.38415 3.68173 5.55439 3.65169 5.72462C3.61164 5.90486 3.60164 6.08508 3.60164 6.26532V12.3936C3.60164 12.5638 3.61164 12.744 3.65169 12.9243Z&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M9.66972 21.6772C9.39936 21.567 9.13902 21.4268 8.8987 21.2566C8.64836 21.0964 8.42804 20.9061 8.21776 20.6959C8.00748 20.4856 7.81723 20.2553 7.65701 20.015C7.4968 19.7646 7.3566 19.5043 7.24646 19.2239C7.12629 18.9535 7.04621 18.6731 6.98613 18.3727C6.92605 18.0823 6.89601 17.792 6.89601 17.4915V11.3733C6.89601 11.0729 6.92605 10.7825 6.98613 10.4922C7.04621 10.1918 7.12629 9.91137 7.24646 9.64101C7.3566 9.36063 7.4968 9.10028 7.65701 8.85996C7.81723 8.60962 8.00748 8.37931 8.21776 8.16903C8.42804 7.95875 8.64836 7.76849 8.8987 7.60828C9.13902 7.43805 9.39936 7.29785 9.66972 7.1877C9.94009 7.07755 10.2205 6.98745 10.5108 6.92737C10.8012 6.86729 11.0916 6.83725 11.392 6.83725H17.4602C17.7506 6.83725 18.041 6.86729 18.3313 6.92737C18.6217 6.98745 18.9021 7.07755 19.1725 7.1877C19.4529 7.29785 19.7032 7.43805 19.9535 7.60828C20.1938 7.76849 20.4242 7.95875 20.6345 8.16903C20.8447 8.37931 21.025 8.60962 21.1952 8.85996C21.3554 9.10028 21.4956 9.36063 21.6058 9.64101C21.7159 9.91137 21.806 10.1918 21.8661 10.4922C21.9162 10.7825 21.9462 11.0729 21.9462 11.3733V17.4915C21.9462 17.792 21.9162 18.0823 21.8661 18.3727C21.806 18.6731 21.7159 18.9535 21.6058 19.2239C21.4956 19.5043 21.3554 19.7646 21.1952 20.015C21.025 20.2553 20.8447 20.4856 20.6345 20.6959C20.4242 20.9061 20.1938 21.0964 19.9535 21.2566C19.7032 21.4268 19.4529 21.567 19.1725 21.6772C18.9021 21.7973 18.6217 21.8774 18.3313 21.9375C18.041 21.9976 17.7506 22.0276 17.4602 22.0276H11.392C11.0916 22.0276 10.8012 21.9976 10.5108 21.9375C10.2205 21.8774 9.94009 21.7973 9.66972 21.6772ZM10.8613 8.6697C11.0316 8.63966 11.2118 8.61965 11.392 8.61965H17.4602C17.6404 8.61965 17.8107 8.63966 17.9909 8.6697C18.1611 8.70975 18.3314 8.75983 18.5016 8.82992C18.6618 8.90001 18.822 8.98012 18.9722 9.08026C19.1224 9.18039 19.2626 9.30055 19.3828 9.42071C19.513 9.55088 19.6231 9.69109 19.7232 9.84129C19.8234 9.99149 19.9035 10.1517 19.9736 10.3219C20.0437 10.4821 20.0937 10.6624 20.1338 10.8326C20.1638 11.0129 20.1838 11.1931 20.1838 11.3733V17.4915C20.1838 17.6718 20.1638 17.852 20.1338 18.0323C20.0937 18.2125 20.0437 18.3828 19.9736 18.543C19.9035 18.7132 19.8234 18.8734 19.7232 19.0236C19.6231 19.1738 19.513 19.314 19.3828 19.4342C19.2626 19.5643 19.1224 19.6845 18.9722 19.7846C18.822 19.8848 18.6618 19.9649 18.5016 20.035C18.3314 20.1051 18.1611 20.1551 17.9909 20.1952C17.8107 20.2252 17.6404 20.2452 17.4602 20.2452H11.392C11.2118 20.2452 11.0316 20.2252 10.8613 20.1952C10.6811 20.1551 10.5108 20.1051 10.3506 20.035C10.1804 19.9649 10.0202 19.8848 9.87 19.7846C9.72982 19.6845 9.58962 19.5643 9.45945 19.4342C9.33929 19.314 9.21913 19.1738 9.119 19.0236C9.01886 18.8734 8.93875 18.7132 8.86866 18.543C8.79857 18.3828 8.74847 18.2125 8.71843 18.0323C8.67838 17.852 8.65836 17.6718 8.65836 17.4915V11.3733C8.65836 11.1931 8.67838 11.0129 8.71843 10.8326C8.74847 10.6624 8.79857 10.4821 8.86866 10.3219C8.93875 10.1517 9.01886 9.99149 9.119 9.84129C9.21913 9.69109 9.33929 9.55088 9.45945 9.42071C9.58962 9.30055 9.72982 9.18039 9.87 9.08026C10.0202 8.98012 10.1804 8.90001 10.3506 8.82992C10.5108 8.75983 10.6811 8.70975 10.8613 8.6697Z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;/div&gt;Copy&lt;/div&gt;&lt;div style=&quot;--ds-rgb-error-hover: 218 54 54; --ds-button-color: transparent; --button-ring-color: rgb(59 130 246); height: 28px; line-height: 21px; font-size: 13px; border-radius: 10px; padding: 0px 4px; user-select: none; cursor: pointer; text-wrap-mode: nowrap; box-sizing: border-box; transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1); font-variant-numeric: tabular-nums; outline: none; align-items: center; display: inline-flex; position: relative; background-color: rgba(0, 0, 0, 0); color: rgb(82, 82, 82); --button-height: 30px; --button-font-size: 13px; --button-line-height: 21px; --button-border-radius: 10px; --button-padding: 0 14px; --button-icon-size: 18px; --button-icon-margin: 0 8px 0 0; --button-text-color: rgb(82 82 82);&quot; tabindex=&quot;0&quot; class=&quot;ds-button ds-button--secondary ds-button--borderless ds-button--rect ds-button--s _7db3914&quot; role=&quot;button&quot;&gt;&lt;div style=&quot;line-height: 0; font-size: 18px; width: 18px; height: 18px; margin: 0px 4px 0px 0px; flex-grow: 0; flex-shrink: 0; justify-content: center; align-items: center; display: flex;&quot; class=&quot;ds-button__icon&quot;&gt;&lt;div style=&quot;line-height: 0; display: inline-flex; font-size: 16px; width: 16px; height: 16px;&quot; class=&quot;ds-icon&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; fill=&quot;none&quot; viewBox=&quot;0 0 24 24&quot; height=&quot;24&quot; width=&quot;24&quot;&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M12 2.55a.97.97 0 0 1 .982.956v13.04a.97.97 0 0 1-.982.957.97.97 0 0 1-.982-.956V3.507A.97.97 0 0 1 12 2.55z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M19.418 9.808c.382.375.37.971-.027 1.332l-6.7 6.085a1.04 1.04 0 0 1-1.41-.025.905.905 0 0 1 .027-1.332l6.7-6.085a1.04 1.04 0 0 1 1.41.025z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M4.582 9.808a1.04 1.04 0 0 1 1.41-.025l6.7 6.085c.397.361.409.957.027 1.332a1.04 1.04 0 0 1-1.41.025l-6.7-6.085a.905.905 0 0 1-.027-1.332z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;currentColor&quot; d=&quot;M3.068 16.46a.97.97 0 0 1 .983.956v1.739c0 .432.36.782.803.782h14.291c.445 0 .804-.35.804-.782v-1.739a.97.97 0 0 1 .983-.956.97.97 0 0 1 .982.956v1.739c0 1.488-1.24 2.695-2.769 2.695H4.855c-1.53 0-2.77-1.207-2.77-2.695v-1.739a.97.97 0 0 1 .983-.956z&quot; clip-rule=&quot;evenodd&quot; fill-rule=&quot;evenodd&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;/div&gt;Download&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;pre style=&quot;font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; overflow: auto; padding: 9.144px 13.716px; text-wrap-mode: wrap; word-break: break-all; margin-top: 0px !important; margin-bottom: 0px !important;&quot;&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;AuthenticationProvider&lt;/span&gt; &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;customAuthProvider&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;DaoAuthenticationProvider&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userDetailsService&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; passwordEncoder&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fillColor=#EAFFE9;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="1120" y="-220" width="960" height="1670" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-132" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font&gt;&amp;nbsp;SecurityContextHolder → SecurityContext → Authentication → Principal (UserDetails)&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=0" parent="1" vertex="1">
          <mxGeometry x="41.879999999999995" y="655" width="416.25" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-134" value="&lt;b&gt;ProviderManager &lt;/b&gt;использует метод &lt;b&gt;supports()&lt;/b&gt; каждого провайдера, чтобы определить, может ли тот обработать токен." style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFCC;" parent="1" vertex="1">
          <mxGeometry x="279.37" y="412.5" width="188.75" height="57.5" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-136" value="&lt;b&gt;ТОКЕН&lt;/b&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#999999;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="360" y="727.5" width="45" height="22.5" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-137" value="&lt;div&gt;&lt;b&gt;SecurityContextHolder &lt;/b&gt;(хранилище)&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; └── &lt;b&gt;SecurityContext &lt;/b&gt;(контейнер)&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; └── &lt;b&gt;Authentication &lt;/b&gt;(токен)&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ├── &lt;b&gt;Principal &lt;/b&gt;(UserDetails)&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; ├──&amp;nbsp;&lt;b&gt;Credentials&lt;/b&gt;:&amp;nbsp;&lt;span style=&quot;background-color: light-dark(rgb(255, 255, 204), rgb(24, 24, 0));&quot;&gt;null (после аутентификации)&lt;/span&gt;&lt;b&gt;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; └── &lt;b&gt;Authorities&lt;/b&gt;:&amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: light-dark(rgb(255, 255, 204), rgb(24, 24, 0));&quot;&gt;ROLE_USER, ROLE_ADMIN&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: light-dark(rgb(255, 255, 204), rgb(24, 24, 0));&quot;&gt;&lt;div&gt;&lt;font style=&quot;color: rgb(0, 0, 255);&quot;&gt;Как сохраняется:&amp;nbsp;&lt;span style=&quot;background-color: light-dark(rgb(255, 255, 204), rgb(24, 24, 0));&quot;&gt;По умолчанию используется ThreadLocal, но можно настроить хранение в сессии.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFCC;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="40" y="885" width="262.5" height="72.5" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-138" value="&lt;pre style=&quot;overflow: auto; padding: 9.144px 13.716px; word-break: break-all; text-align: start; margin-top: 0px !important; margin-bottom: 0px !important; color: rgb(73, 73, 73);&quot;&gt;&lt;b&gt;&lt;span style=&quot;font-size: 12.573px; text-wrap-mode: wrap; color: rgb(56, 58, 66);&quot; class=&quot;token annotation punctuation&quot;&gt;&lt;font face=&quot;Menlo, Roboto Mono, Courier New, Courier, monospace, Inter, sans-serif&quot; color=&quot;#383a42&quot;&gt;// Пример конфигурации&lt;/font&gt;&lt;/span&gt;&lt;/b&gt;&lt;/pre&gt;&lt;pre style=&quot;font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; overflow: auto; padding: 9.144px 13.716px; text-wrap-mode: wrap; word-break: break-all; color: rgb(73, 73, 73); font-size: 12.573px; text-align: start; margin-top: 0px !important; margin-bottom: 0px !important;&quot;&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token annotation punctuation&quot;&gt;@EnableWebSecurity&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;SecurityConfig&lt;/span&gt; &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;SecurityFilterChain&lt;/span&gt; &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;securityFilterChain&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;HttpSecurity&lt;/span&gt; http&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        http&lt;br&gt;            &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;cors&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;Customizer&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;withDefaults&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;            &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;csrf&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;csrf &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; csrf&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;disable&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot; class=&quot;token comment&quot;&gt;// Не для продакшена!&lt;/span&gt;&lt;br&gt;            &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;authorizeHttpRequests&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;auth &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; auth&lt;br&gt;                &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;requestMatchers&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(80, 161, 79);&quot; class=&quot;token string&quot;&gt;&quot;/login&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;permitAll&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;                &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;anyRequest&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;authenticated&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;            &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;            &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;addFilterBefore&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;JwtAuthFilter&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;UsernamePasswordAuthenticationFilter&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        &lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;return&lt;/span&gt; http&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;UserDetailsService&lt;/span&gt; &lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;userDetailsService&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        &lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(166, 38, 164);&quot; class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;InMemoryUserDetailsManager&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br&gt;            &lt;span style=&quot;color: rgb(183, 107, 1);&quot; class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;                &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;username&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(80, 161, 79);&quot; class=&quot;token string&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;                &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;password&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(80, 161, 79);&quot; class=&quot;token string&quot;&gt;&quot;{bcrypt}...&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;                &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;roles&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(80, 161, 79);&quot; class=&quot;token string&quot;&gt;&quot;USER&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;                &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(64, 120, 242);&quot; class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;        &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;pre style=&quot;font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; overflow: auto; padding: 9.144px 13.716px; text-wrap-mode: wrap; word-break: break-all; color: rgb(73, 73, 73); font-size: 12.573px; text-align: start; margin-top: 0px !important; margin-bottom: 0px !important;&quot;&gt;&lt;span style=&quot;color: rgb(56, 58, 66);&quot; class=&quot;token punctuation&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1140" y="1490" width="740" height="460" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-140" value="&lt;pre style=&quot;margin: 0px !important; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; overflow: auto; padding: 9.144px 13.716px; white-space: pre-wrap; word-break: break-all; color: rgb(73, 73, 73); font-size: 12.573px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;@Bean&lt;/span&gt;&#xa;&lt;span class=&quot;token keyword&quot; style=&quot;color: rgb(166, 38, 164);&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot; style=&quot;color: rgb(183, 107, 1);&quot;&gt;PasswordEncoder&lt;/span&gt; &lt;span class=&quot;token function&quot; style=&quot;color: rgb(64, 120, 242);&quot;&gt;passwordEncoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;{&lt;/span&gt;&#xa;    &lt;span class=&quot;token keyword&quot; style=&quot;color: rgb(166, 38, 164);&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot; style=&quot;color: rgb(166, 38, 164);&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot; style=&quot;color: rgb(183, 107, 1);&quot;&gt;BCryptPasswordEncoder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&#xa;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="630" y="1725.5" width="380" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-141" value="&lt;pre style=&quot;margin: 0px !important; font-family: Menlo, &amp;quot;Roboto Mono&amp;quot;, &amp;quot;Courier New&amp;quot;, Courier, monospace, Inter, sans-serif; overflow: auto; padding: 9.144px 13.716px; white-space: pre-wrap; word-break: break-all; color: rgb(73, 73, 73); font-size: 12.573px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot;&gt;&lt;span class=&quot;token keyword&quot; style=&quot;color: rgb(166, 38, 164);&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot; style=&quot;color: rgb(166, 38, 164);&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot; style=&quot;color: rgb(183, 107, 1);&quot;&gt;UserDetails&lt;/span&gt; &lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;{&lt;/span&gt;&#xa;    &lt;span class=&quot;token class-name&quot; style=&quot;color: rgb(183, 107, 1);&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot; style=&quot;color: rgb(64, 120, 242);&quot;&gt;getUsername&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&#xa;    &lt;span class=&quot;token class-name&quot; style=&quot;color: rgb(183, 107, 1);&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot; style=&quot;color: rgb(64, 120, 242);&quot;&gt;getPassword&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&#xa;    &lt;span class=&quot;token class-name&quot; style=&quot;color: rgb(183, 107, 1);&quot;&gt;Collection&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot; style=&quot;color: rgb(183, 107, 1);&quot;&gt;GrantedAuthority&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot; style=&quot;color: rgb(64, 120, 242);&quot;&gt;getAuthorities&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt;&#xa;    &lt;span class=&quot;token keyword&quot; style=&quot;color: rgb(166, 38, 164);&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token function&quot; style=&quot;color: rgb(64, 120, 242);&quot;&gt;isAccountNonExpired&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot; style=&quot;color: rgb(160, 161, 167); font-style: italic;&quot;&gt;// и другие флаги&lt;/span&gt;&#xa;&lt;span class=&quot;token punctuation&quot; style=&quot;color: rgb(56, 58, 66);&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="630" y="1524.5" width="450" height="130" as="geometry" />
        </mxCell>
        <mxCell id="0vVxcxslvsv8Diaj_jdv-114" value="Client" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;labelBackgroundColor=#E8FFE7;" parent="1" vertex="1">
          <mxGeometry x="110" y="1020" width="15" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-5" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Интерфейс, представляющий контекст безопасности &lt;b&gt;текущего потока выполнения&lt;/b&gt;.&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;Содержит объект Authentication&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=0;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="59.99999999999999" y="815" width="373.12" height="20" as="geometry" />
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-6" value="&lt;div&gt;Интерфейс, определяющий API&amp;nbsp;&lt;/div&gt;&lt;div&gt;для процесса аутентификации.&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontStyle=2;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="277.5" y="275" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-7" value="&lt;b&gt;loadUserByUsername (...)&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#67AB9F;" vertex="1" parent="1">
          <mxGeometry x="1491.5" y="775" width="130" height="22.5" as="geometry" />
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-8" value="Интерфейс, используемый &lt;b&gt;AuthenticationProvider &lt;/b&gt;для загрузки информации о пользователе &lt;font style=&quot;font-size: 7px;&quot;&gt;(Principal и Authorities)&lt;/font&gt;." style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontStyle=2;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="880" y="480" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-19" value=". . ." style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="300" y="435" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-20" value="Интерфейс, реализующий &lt;b&gt;конкретные механизмы аутентификации&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#666666;fontStyle=2;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="570" y="470" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-22" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=1;entryY=0.727;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryPerimeter=0;" edge="1" parent="1" source="xT-c-EVdMDdMauQ4JP2Y-38" target="lrduzPoeeq-9IfDoq5pU-25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="170" y="750" as="sourcePoint" />
            <mxPoint x="-17.5" y="780.0000000000005" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-25" value="&lt;h3 dir=&quot;auto&quot;&gt;1. &lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;Principal &lt;/font&gt;(Идентификатор пользователя)&lt;/h3&gt;&lt;ul dir=&quot;auto&quot;&gt;&lt;li&gt;&lt;strong&gt;Что&lt;/strong&gt;: Уникальный идентификатор пользователя &lt;i&gt;(обычно объект UserDetails или строка с логином&lt;/i&gt;).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Тип&lt;/strong&gt;: Object &lt;i&gt;(часто UserDetails, реже String)&lt;/i&gt;.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Роль&lt;/strong&gt;: Определяет, кто аутентифицирован; используется для получения данных пользователя &lt;i&gt;(логин, ID, email)&lt;/i&gt;.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Поведение&lt;/strong&gt;: Устанавливается при аутентификации, не зануляется до logout.&lt;/li&gt;&lt;/ul&gt;&lt;hr&gt;&lt;h3 dir=&quot;auto&quot;&gt;2. &lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;Credentials &lt;/font&gt;(Пароль или секрет)&lt;/h3&gt;&lt;ul dir=&quot;auto&quot;&gt;&lt;li&gt;&lt;strong&gt;Что&lt;/strong&gt;: Данные для проверки подлинности &lt;i&gt;(обычно пароль)&lt;/i&gt;.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Тип&lt;/strong&gt;: Object &lt;i&gt;(часто String, иногда токен/сертификат)&lt;/i&gt;.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Роль&lt;/strong&gt;: Используется для проверки при аутентификации.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Поведение&lt;/strong&gt;: Зануляется &lt;i&gt;(null)&lt;/i&gt; после аутентификации, если eraseCredentials(true) &lt;i&gt;(по умолчанию)&lt;/i&gt;.&lt;/li&gt;&lt;/ul&gt;&lt;hr&gt;&lt;h3 dir=&quot;auto&quot;&gt;3. &lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;Authorities &lt;/font&gt;(Права доступа)&lt;/h3&gt;&lt;ul dir=&quot;auto&quot;&gt;&lt;li&gt;&lt;strong&gt;Что&lt;/strong&gt;: Список ролей/разрешений пользователя &lt;i&gt;(например, ROLE_USER, ROLE_ADMIN)&lt;/i&gt;.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Тип&lt;/strong&gt;: Collection&amp;lt;? extends GrantedAuthority&amp;gt;.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Роль&lt;/strong&gt;: Определяет права для авторизации &lt;i&gt;(проверка через hasRole(), @PreAuthorize)&lt;/i&gt;.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Поведение&lt;/strong&gt;: Устанавливается из UserDetails.getAuthorities(), не зануляется.&lt;/li&gt;&lt;/ul&gt;&lt;hr&gt;&lt;h3 dir=&quot;auto&quot;&gt;4. &lt;font style=&quot;color: rgb(51, 51, 255);&quot;&gt;Details &lt;/font&gt;(Дополнительные данные)&lt;/h3&gt;&lt;ul dir=&quot;auto&quot;&gt;&lt;li&gt;&lt;strong&gt;Что&lt;/strong&gt;: Контекстные метаданные &lt;i&gt;(IP, сессия, кастомные данные)&lt;/i&gt;.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Тип&lt;/strong&gt;: Object &lt;i&gt;(часто WebAuthenticationDetails, может быть кастомным)&lt;/i&gt;.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Роль&lt;/strong&gt;: Хранит информацию для аудита/логики &lt;i&gt;(например, IP-адрес, время входа)&lt;/i&gt;.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Поведение&lt;/strong&gt;: Устанавливается фильтрами &lt;i&gt;(например, UsernamePasswordAuthenticationFilter)&lt;/i&gt;, не зануляется.&lt;/li&gt;&lt;/ul&gt;&lt;hr&gt;&lt;h3 dir=&quot;auto&quot;&gt;Ключевые моменты&lt;/h3&gt;&lt;ul dir=&quot;auto&quot;&gt;&lt;li&gt;&lt;strong&gt;Создание&lt;/strong&gt;: Authentication &lt;i&gt;(обычно UsernamePasswordAuthenticationToken)&lt;/i&gt; формируется при аутентификации, сохраняется в SecurityContextHolder.&lt;/li&gt;&lt;br&gt;&lt;li&gt;&lt;strong&gt;Очистка&lt;/strong&gt;:&lt;br&gt;&lt;ul dir=&quot;auto&quot;&gt;&lt;li&gt;Credentials зануляется, если eraseCredentials(true).&lt;/li&gt;&lt;li&gt;При logout SecurityContext очищается, Authentication становится null.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;br&gt;&lt;li&gt;&lt;strong&gt;Кастомизация&lt;/strong&gt;:&lt;br&gt;&lt;ul dir=&quot;auto&quot;&gt;&lt;li&gt;Principal: Реализуйте UserDetails для кастомных данных.&lt;/li&gt;&lt;li&gt;Details: Устанавливайте кастомный объект &lt;i&gt;(например, устройство, геолокация)&lt;/i&gt;.&lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;/li&gt;&lt;br&gt;&lt;li&gt;&lt;strong&gt;Безопасность&lt;/strong&gt;: Включайте eraseCredentials(true) для очистки пароля.&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=#FFFFCC;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="-460" y="275" width="410" height="695" as="geometry" />
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-27" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="0vVxcxslvsv8Diaj_jdv-134" target="xT-c-EVdMDdMauQ4JP2Y-47">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="450" as="sourcePoint" />
            <mxPoint x="370" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lrduzPoeeq-9IfDoq5pU-28" value="&lt;font face=&quot;Comic Sans MS&quot;&gt;Выполнил:&lt;br&gt;Лапицкий Ю.А.&lt;/font&gt;" style="label;whiteSpace=wrap;html=1;image=img/clipart/Gear_128x128.png;fontColor=#999999;fontSize=10;fontStyle=0;strokeColor=#CCCCCC;align=right;" vertex="1" parent="1">
          <mxGeometry x="1925" y="1490" width="130" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
