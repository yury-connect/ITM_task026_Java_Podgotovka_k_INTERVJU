# –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ –ø–∞—Ç—Ç–µ—Ä–Ω –ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å (`Proxy`).

---
## üéØ `Proxy`: –°—É—Ç—å

**–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω**, –∫–æ—Ç–æ—Ä—ã–π:


* –°–æ–∑–¥–∞–µ—Ç **–æ–±—ä–µ–∫—Ç-–∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å**, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—â–∏–π –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É.


* –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–∑–æ–≤—ã, –¥–æ–±–∞–≤–ª—è—è **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É** (_–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä–∫–∏, –ª–µ–Ω–∏–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é_).


* –°–æ—Ö—Ä–∞–Ω—è–µ—Ç **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –æ—Å—Ç–∞–≤–∞—è—Å—å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞.

> –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–æ–±—ä–µ–∫—Ç - –∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å**, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É/ –±–∞–∑–æ–≤–æ–º—É –æ–±—ä–µ–∫—Ç—É.
> _(–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—è –∏—Å–ø. —Ä–µ—Å—É—Ä—Å–æ–≤ –∏–ª–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)_ 

---
## üìå `Proxy`: –ì–ª—É–±–æ–∫–∏–π —Ä–∞–∑–±–æ—Ä

### 1. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω?
* **–ü—Ä–æ–±–ª–µ–º–∞:**  
   –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É –Ω–µ—É–¥–æ–±–µ–Ω –∏–ª–∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–µ–Ω:

```java
Database realDB = new RealDatabase();  
realDB.query("SELECT * FROM users"); // ‚ùå –ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞/–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è  
```

* **–†–µ—à–µ–Ω–∏–µ:**

```java
Database proxyDB = new DatabaseProxy();  
proxyDB.query("SELECT * FROM users"); // ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å + –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
```

### 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç                            | 	–†–æ–ª—å                                                                    |
|:-------------------------------------|:-------------------------------------------------------------------------|
| **–°—É–±—ä–µ–∫—Ç** (`Database`)             | 	–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –æ–±—â–∏–π –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∏ –∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª—è.                   |
| **–†–µ–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç** (`RealDatabase`) | 	–ö–ª–∞—Å—Å, –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π –æ—Å–Ω–æ–≤–Ω—É—é —Ä–∞–±–æ—Ç—É.                                     |
| **–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å** (`DatabaseProxy`)    | 	–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É, –¥–æ–±–∞–≤–ª—è—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é –ª–æ–≥–∏–∫—É. |

### 3. –¢–∏–ø—ã –ø—Ä–æ–∫—Å–∏
1. **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π** (_–ª–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è_):

<details>
        <summary>–ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ üîΩ</summary>

```java
public class ImageProxy implements Image {
   private RealImage realImage;
   @Override
   public void display() {
      if (realImage == null) {
         realImage = new RealImage(); // –°–æ–∑–¥–∞—ë–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏  
      }
      realImage.display();
   }
}  
```
</details>



2. **–ó–∞—â–∏—Ç–Ω—ã–π** (_–∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞_):

<details>
        <summary>–ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ üîΩ</summary>

```java
public class SecureDatabaseProxy implements Database {
   private RealDatabase realDB;
   private String userRole;

   public SecureDatabaseProxy(String userRole) {
      this.userRole = userRole;
   }

   @Override
   public void query(String sql) {
      if (userRole.equals("ADMIN")) {
         realDB.query(sql); // –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤  
      }
   }
}
```
</details>



3. **–ö–µ—à–∏—Ä—É—é—â–∏–π:**

<details>
        <summary>–ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ üîΩ</summary>

```java
public class CachedYouTubeProxy implements YouTubeService {
   private YouTubeService realService;
   private Map<String, Video> cache = new HashMap<>();

   @Override
   public Video getVideo(String id) {
      if (!cache.containsKey(id)) {
         cache.put(id, realService.getVideo(id)); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫–µ—à  
      }
      return cache.get(id);
   }
}
```
</details>



### 4. –ü–ª—é—Å—ã  
   ‚úî **–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞**: –ó–∞—â–∏—Ç–∞, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ.  
   ‚úî **–õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ—ë–º–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é.  
   ‚úî **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –ö–ª–∏–µ–Ω—Ç –Ω–µ –∑–Ω–∞–µ—Ç –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–∫—Å–∏.  

### 5. –ú–∏–Ω—É—Å—ã  
   ‚ùå **–ó–∞–¥–µ—Ä–∂–∫–∏**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏/–æ–ø–µ—Ä–∞—Ü–∏–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞.  
   ‚ùå **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: –í–≤–µ–¥–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.  

### 6. –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
* –ù—É–∂–µ–Ω **—É–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø** (_RPC, REST-–∫–ª–∏–µ–Ω—Ç—ã_).  
* –¢—Ä–µ–±—É–µ—Ç—Å—è **–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏–ª–∏ **–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—ã–∑–æ–≤–æ–≤.
* –ù–µ–æ–±—Ö–æ–¥–∏–º–æ **–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å** –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É (–ø—Ä–∞–≤–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å).

### 7. –ü—Ä–∏–º–µ—Ä

<details>
        <summary>–ø—Ä–∏–º–µ—Ä üîΩ</summary>

```java
   interface Database {  
   void query(String sql);  
   }

class RealDatabase implements Database {  
@Override  
public void query(String sql) {  
System.out.println("Executing: " + sql);  
}  
}

class DatabaseProxy implements Database {  
private RealDatabase realDB;

    @Override  
    public void query(String sql) {  
        if (realDB == null) {  
            realDB = new RealDatabase(); // –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è  
        }  
        System.out.println("Log query: " + sql); // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ  
        realDB.query(sql);  
    }  
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:  
Database db = new DatabaseProxy();  
db.query("SELECT * FROM users");
```

</details>

### 8. –û—Ç–ª–∏—á–∏–µ –æ—Ç _–¥—Ä—É–≥–∏—Ö_ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

| –ü–∞—Ç—Ç–µ—Ä–Ω     | 	–û—Ç–ª–∏—á–∏–µ                                               |
|:------------|:-------------------------------------------------------|
| `Decorator` | 	–î–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –∞ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø. |
| `Facade`    | 	–£–ø—Ä–æ—â–∞–µ—Ç —Å–ª–æ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É, –∞ –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–∑–æ–≤—ã.  |

> **‚ö° –ò—Ç–æ–≥:**  
> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Proxy` –¥–ª—è:  
> * **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** (_–∫–µ—à, –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞_).  
> * **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** (_–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤_).  
> * **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** (_–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞_). 

**–ü—Ä–∏–º–µ—Ä—ã –≤ Java:**
* `java.lang.reflect.Proxy` (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–∫—Å–∏).
* Hibernate (_–ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π_).
* Spring AOP (_–∞—Å–ø–µ–∫—Ç—ã –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è/—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π_).



<details>
        <summary>üìù –ú–∞—Ç–µ—Ä–∏–∞–ª –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏ üîΩ</summary>

```text
–°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ 
—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã-–∑–∞–º–µ–Ω–∏—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –≤—ã–∑–æ–≤—ã –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É, 
–ø–æ–∑–≤–æ–ª—è—è —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–¥–∞—á–∏ –≤—ã–∑–æ–≤–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—É.

–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å-–¥—É–±–ª—ë—Ä, –∏–º–µ—é—â–∏–π —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, 
—á—Ç–æ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–ª—É–∂–µ–±–Ω—ã–π –æ–±—ä–µ–∫—Ç. 
–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –æ–±—ä–µ–∫—Ç-–∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å —Å–∞–º –±—ã —Å–æ–∑–¥–∞–≤–∞–ª —ç–∫–∑–µ–º–ø–ª—è—Ä —Å–ª—É–∂–µ–±–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, 
–≤—ã–ø–æ–ª–Ω—è—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å –±—ã –¥–æ (–∏–ª–∏ –ø–æ—Å–ª–µ) –≤—ã–∑–æ–≤–æ–≤ —ç—Ç–∏—Ö –∂–µ –º–µ—Ç–æ–¥–æ–≤ 
–≤ –Ω–∞—Å—Ç–æ—è—â–µ–º –æ–±—ä–µ–∫—Ç–µ.

+: –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –æ–±—ä–µ–∫—Ç –Ω–µ–∑–∞–º–µ—Ç–Ω–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞.
- : –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –æ—Ç —Å–µ—Ä–≤–∏—Å–∞.
```
</details>

---

[üîô _–∫ —Å–ø–∏—Å–∫—É –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —Ç–µ–º–µ_ **Patterns** üîô](/_ITM_old_version_FOR_DELETE/ITM07_Patterns/patterns.md)
