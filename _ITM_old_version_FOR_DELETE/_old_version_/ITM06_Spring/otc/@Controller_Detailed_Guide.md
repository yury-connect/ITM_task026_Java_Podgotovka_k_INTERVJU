# –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Controller` –≤ Spring üåü

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è **`@Controller`** ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤–∞—è —á–∞—Å—Ç—å Spring MVC, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—Ç–≤–µ—Ç—ã. –û–Ω–∞ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –¥–µ–ª–∞—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–¥—É–ª—å–Ω—ã–º–∏ –∏ —É–¥–æ–±–Ω—ã–º–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º –≤—Å—ë –ø–æ –ø–æ–ª–æ—á–∫–∞–º, —á—Ç–æ–±—ã –±—ã–ª–æ –ø–æ–Ω—è—Ç–Ω–æ –∏ –Ω–∞–≥–ª—è–¥–Ω–æ! üõ†Ô∏è

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ `@Controller`? ü§î

`@Controller` ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è Spring, –∫–æ—Ç–æ—Ä–∞—è:
- –ü–æ–º–µ—á–∞–µ—Ç –∫–ª–∞—Å—Å –∫–∞–∫ **–≤–µ–±-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**, —Å–ø–æ—Å–æ–±–Ω—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å—ã (GET, POST, PUT, DELETE –∏ –¥—Ä.).
- –Ø–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º `@Component`, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–ª–∞—Å—Å –±–∏–Ω–æ–º, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º—ã–º –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å **Spring MVC**, –ø–æ–∑–≤–æ–ª—è—è –º–∞–ø–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –º–µ—Ç–æ–¥—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

**–û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ**:
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å—ã –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ (–±—Ä–∞—É–∑–µ—Ä–æ–≤, API-–∫–ª–∏–µ–Ω—Ç–æ–≤).
- –í—ã–∑—ã–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–∏—Å—ã).
- –§–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã: HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã, JSON, XML –∏–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã.

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `@Controller`? üîÑ

`@Controller` –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π Spring MVC, –∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–µ–±-–∑–∞–ø—Ä–æ—Å—ã. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞**:
   - Spring —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å—ã —Å `@Controller` (—á–µ—Ä–µ–∑ `@ComponentScan`).
   - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∏—Ö –∫–∞–∫ –±–∏–Ω—ã –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

2. **–ú–∞–ø–ø–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤**:
   - –ú–µ—Ç–æ–¥—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ `@GetMapping`, `@PostMapping`, –∫–æ—Ç–æ—Ä—ã–µ —Å–≤—è–∑—ã–≤–∞—é—Ç –∏—Ö —Å URL –∏ HTTP-–º–µ—Ç–æ–¥–∞–º–∏.
   - Spring —Å–æ–∑–¥–∞—ë—Ç **HandlerMapping**, —á—Ç–æ–±—ã –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –Ω—É–∂–Ω—ã–º –º–µ—Ç–æ–¥–∞–º.

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞**:
   - –ö–æ–≥–¥–∞ –ø–æ—Å—Ç—É–ø–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å, Spring MVC:
     - –ù–∞—Ö–æ–¥–∏—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π –º–µ—Ç–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.
     - –ò–∑–≤–ª–µ–∫–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query params, path variables, body).
     - –í—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥, –ø–µ—Ä–µ–¥–∞–≤–∞—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.
   - –ú–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—è —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏.

4. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞**:
   - –ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
     - –°—Ç—Ä–æ–∫—É (–∏–º—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, Thymeleaf-—à–∞–±–ª–æ–Ω–∞).
     - –û–±—ä–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, JSON –¥–ª—è REST API).
     - `ResponseEntity` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –æ—Ç–≤–µ—Ç–∞.
   - Spring MVC –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **ViewResolver** (–¥–ª—è HTML) –∏–ª–∏ `HttpMessageConverter` (–¥–ª—è JSON/XML) –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞.

5. **–í–æ–∑–≤—Ä–∞—Ç –æ—Ç–≤–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É**:
   - –û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É (–±—Ä–∞—É–∑–µ—Ä—É, API-–∫–ª–∏–µ–Ω—Ç—É) –≤ –Ω—É–∂–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç             | –†–æ–ª—å                                                                     |
|:----------------------|:-------------------------------------------------------------------------|
| `DispatcherServlet`   | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–ª–µ—Ç, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –∑–∞–ø—Ä–æ—Å—ã –∏ –Ω–∞–ø—Ä–∞–≤–ª—è—é—â–∏–π –∏—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º. |
| `HandlerMapping`      | –°–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç URL –∏ HTTP-–º–µ—Ç–æ–¥—ã —Å –º–µ—Ç–æ–¥–∞–º–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.                   |
| `ViewResolver`        | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–º–µ–Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π –≤ —à–∞–±–ª–æ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Thymeleaf, JSP).    |
| `HttpMessageConverter`| –°–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ (JSON, XML).                            |

---

## –û—Ç–ª–∏—á–∏–µ `@Controller` –æ—Ç `@RestController` üåê

| –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è             | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                   |
|:----------------------|:-------------------------------------------------------------------------------------------|
| **`@Controller`**     | –î–ª—è —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (HTML, JSP).                   |
| **`@RestController`** | –î–ª—è REST API, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç `@ResponseBody` –∫–æ –≤—Å–µ–º –º–µ—Ç–æ–¥–∞–º, –≤–æ–∑–≤—Ä–∞—â–∞—è JSON/XML. |

**–ü–æ—è—Å–Ω–µ–Ω–∏–µ**:
- `@Controller` –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å —Å–µ—Ä–≤–µ—Ä–Ω—ã–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Thymeleaf-—à–∞–±–ª–æ–Ω—ã).
- `@RestController` ‚Äî –¥–ª—è API, –≥–¥–µ –æ—Ç–≤–µ—Ç—ã —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ JSON/XML.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ `@Controller` üìã

–ú–µ—Ç–æ–¥—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

| –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                     | –ü—Ä–∏–º–µ—Ä                                                     |
|:------------------|:-----------------------------------------------|:-----------------------------------------------------------|
| `@GetMapping`     | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç GET-–∑–∞–ø—Ä–æ—Å—ã                       | `@GetMapping("/users")`                                    |
| `@PostMapping`    | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç POST-–∑–∞–ø—Ä–æ—Å—ã                      | `@PostMapping("/users")`                                   |
| `@PutMapping`     | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç PUT-–∑–∞–ø—Ä–æ—Å—ã                       | `@PutMapping("/users/{id}")`                               |
| `@DeleteMapping`  | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç DELETE-–∑–∞–ø—Ä–æ—Å—ã                    | `@DeleteMapping("/users/{id}")`                            |
| `@RequestMapping` | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è –ª—é–±–æ–≥–æ HTTP-–º–µ—Ç–æ–¥–∞ | `@RequestMapping(path="/users", method=RequestMethod.GET)` |
| `@PathVariable`   | –ò–∑–≤–ª–µ–∫–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ URL                    | `@PathVariable("id") Long id`                              |
| `@RequestParam`   | –ò–∑–≤–ª–µ–∫–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (query params)     | `@RequestParam("name") String name`                        |
| `@RequestBody`    | –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON/XML) –≤ –æ–±—ä–µ–∫—Ç | `@RequestBody User user`                                   |
| `@ResponseBody`   | –°–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –≤ JSON/XML     | `@ResponseBody User getUser()`                             |
| `@ModelAttribute` | –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –∫ –æ–±—ä–µ–∫—Ç—É             | `@ModelAttribute User user`                                |

---

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `@Controller` üéØ

### 1. –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –≤–µ–±-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (HTML-–æ—Ç–≤–µ—Ç—ã)
```java
@Controller
@RequestMapping("/users")
public class UserController {
    @Autowired
    private UserService userService;

    @GetMapping
    public String getUsers(Model model) {
        List<User> users = userService.findAll();
        model.addAttribute("users", users);
        return "user-list"; // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Thymeleaf-—à–∞–±–ª–æ–Ω user-list.html
    }

    @PostMapping
    public String createUser(@ModelAttribute User user) {
        userService.save(user);
        return "redirect:/users"; // –†–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
    }
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**:
- `@GetMapping` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –¥–æ–±–∞–≤–ª—è—è –∏—Ö –≤ –º–æ–¥–µ–ª—å –¥–ª—è Thymeleaf.
- `@PostMapping` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç.

### 2. REST-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (JSON-–æ—Ç–≤–µ—Ç—ã)
```java
@RestController
@RequestMapping("/api/users")
public class UserRestController {
    @Autowired
    private UserService userService;

    @GetMapping("/{id}")
    public ResponseEntity<User> getUser(@PathVariable Long id) {
        User user = userService.findById(id);
        return ResponseEntity.ok(user);
    }

    @PostMapping
    public ResponseEntity<User> createUser(@RequestBody User user) {
        User savedUser = userService.save(user);
        return ResponseEntity.status(HttpStatus.CREATED).body(savedUser);
    }
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**:
- `@RestController` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –≤ JSON.
- `ResponseEntity` –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å HTTP-—Å—Ç–∞—Ç—É—Å –∏ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞.

---

## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ `@Controller` üîç

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ**:
   - `@Controller` ‚Äî —ç—Ç–æ `@Component`, –ø–æ—ç—Ç–æ–º—É –∫–ª–∞—Å—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –±–∏–Ω—ã –ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º `@ComponentScan`.
   - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
     ```java
     @Configuration
     @ComponentScan("com.example")
     public class AppConfig {}
     ```

2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**:
   - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –æ–±—ã—á–Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç `@Transactional`, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ª—É—á—à–µ —Ä–∞–∑–º–µ—â–∞—Ç—å –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö.
   - –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `@Transactional` –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@ExceptionHandler` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ.
   - –ü—Ä–∏–º–µ—Ä:
     ```java
     @Controller
     public class UserController {
         @ExceptionHandler(UserNotFoundException.class)
         public String handleNotFound(UserNotFoundException ex, Model model) {
             model.addAttribute("error", ex.getMessage());
             return "error";
         }
     }
     ```

4. **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@ControllerAdvice` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
   - –ü—Ä–∏–º–µ—Ä:
     ```java
     @ControllerAdvice
     public class GlobalExceptionHandler {
         @ExceptionHandler(Exception.class)
         public ResponseEntity<String> handleAllExceptions(Exception ex) {
             return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body("Error: " + ex.getMessage());
         }
     }
     ```

5. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**:
   - –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Valid` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `@RequestBody`).
   - –ü—Ä–∏–º–µ—Ä:
     ```java
     @PostMapping
     public ResponseEntity<User> createUser(@Valid @RequestBody User user, BindingResult result) {
         if (result.hasErrors()) {
             return ResponseEntity.badRequest().build();
         }
         return ResponseEntity.ok(userService.save(user));
     }
     ```

6. **–†–µ–¥–∏—Ä–µ–∫—Ç—ã –∏ flash-–∞—Ç—Ä–∏–±—É—Ç—ã**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `RedirectAttributes` –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–µ.
   - –ü—Ä–∏–º–µ—Ä:
     ```java
     @PostMapping
     public String createUser(@ModelAttribute User user, RedirectAttributes redirectAttributes) {
         userService.save(user);
         redirectAttributes.addFlashAttribute("message", "User created!");
         return "redirect:/users";
     }
     ```

---

## –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ ‚ö†Ô∏è

1. **–ò–∑–±–µ–≥–∞–π—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö** üö´:
   - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å "—Ç–æ–Ω–∫–∏–º–∏", –ø–µ—Ä–µ–¥–∞–≤–∞—è –ª–æ–≥–∏–∫—É –≤ —Å–µ—Ä–≤–∏—Å—ã.
   - –ü–ª–æ—Ö–æ:
     ```java
     @GetMapping("/users")
     public String getUsers(Model model) {
         // –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö: –ø—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ë–î
         List<User> users = entityManager.createQuery("SELECT u FROM User u", User.class).getResultList();
         model.addAttribute("users", users);
         return "user-list";
     }
     ```
   - –•–æ—Ä–æ—à–æ:
     ```java
     @GetMapping("/users")
     public String getUsers(Model model) {
         model.addAttribute("users", userService.findAll());
         return "user-list";
     }
     ```

2. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@Transactional` –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö** ‚ö†Ô∏è:
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ª—É—á—à–µ —Ä–∞–∑–º–µ—â–∞—Ç—å –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö, —á—Ç–æ–±—ã:
     - –£–º–µ–Ω—å—à–∏—Ç—å –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
     - –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞.
   - –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: —Ä–µ–¥–∫–∏–µ —Å–ª—É—á–∞–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –∞—Ç–æ–º–∞—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞.

3. **–û—Å—Ç–æ—Ä–æ–∂–Ω–æ —Å –±–æ–ª—å—à–∏–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏** üìâ:
   - –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ `@RestController` –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –æ—Ç–≤–µ—Ç.
   - –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏–ª–∏ DTO:
     ```java
     @GetMapping
     public ResponseEntity<List<UserDTO>> getUsers(@RequestParam int page, @RequestParam int size) {
         return ResponseEntity.ok(userService.findAllPaged(page, size));
     }
     ```

4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** üõ°Ô∏è:
   - –í—Å–µ–≥–¥–∞ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ `@ExceptionHandler` –∏–ª–∏ `@ControllerAdvice`.
   - –≠—Ç–æ —É–ª—É—á—à–∞–µ—Ç UX –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤** üß™:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `MockMvc` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
     ```java
     @SpringBootTest
     @AutoConfigureMockMvc
     public class UserControllerTest {
         @Autowired
         private MockMvc mockMvc;

         @Test
         public void testGetUsers() throws Exception {
             mockMvc.perform(get("/users"))
                    .andExpect(status().isOk())
                    .andExpect(view().name("user-list"));
         }
     }
     ```

6. **CORS –¥–ª—è REST API** üåç:
   - –ï—Å–ª–∏ `@RestController` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è API, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ CORS:
     ```java
     @CrossOrigin(origins = "http://localhost:3000")
     @RestController
     public class UserRestController {
         // –ú–µ—Ç–æ–¥—ã
     }
     ```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é `@Controller` üåü

1. **–†–∞–∑–¥–µ–ª—è–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**:
   - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã ‚Äî –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP, —Å–µ—Ä–≤–∏—Å—ã ‚Äî –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏.

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@RestController` –¥–ª—è API**:
   - –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON/XML, `@RestController` —É–ø—Ä–æ—â–∞–µ—Ç –∫–æ–¥.

3. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@Valid` –∏ Bean Validation (`@NotNull`, `@Size`) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

4. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ**:
   - `@ControllerAdvice` –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

5. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –æ—Ç–≤–µ—Ç—ã**:
   - –î–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é, DTO –∏ —Å–∂–∞—Ç–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä,`Gzip`).

6. **–õ–æ–≥–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã**:
   - –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ AOP –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
     ```java
     @Aspect
     @Component
     public class LoggingAspect {
         @Before("execution(* com.example.UserController.*(..))")
         public void logRequest() {
             System.out.println("–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞");
         }
     }
     ```

7. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ResponseEntity` –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏**:
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å, –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞:
     ```java
     return ResponseEntity.status(HttpStatus.CREATED)
                         .header("Custom-Header", "Value")
                         .body(user);
     ```

---

## –ò—Ç–æ–≥–∏ üéâ

`@Controller` ‚Äî —ç—Ç–æ —Å–µ—Ä–¥—Ü–µ Spring MVC, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–æ—â–Ω—ã–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ REST API. –û–Ω–∞:
- **–£–ø—Ä–æ—â–∞–µ—Ç –º–∞–ø–ø–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤** —á–µ—Ä–µ–∑ `@GetMapping`, `@PostMapping` –∏ –¥—Ä—É–≥–∏–µ.
- **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏**, –ø–µ—Ä–µ–¥–∞–≤–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —Å–µ—Ä–≤–∏—Å–æ–≤.
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–∏–±–∫–∏–µ –æ—Ç–≤–µ—Ç—ã**: –æ—Ç HTML-—à–∞–±–ª–æ–Ω–æ–≤ –¥–æ JSON.
- **–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫** —á–µ—Ä–µ–∑ `@ExceptionHandler` –∏ `@ControllerAdvice`.

**–ì–ª–∞–≤–Ω–æ–µ**:
- –î–µ—Ä–∂–∏—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã "—Ç–æ–Ω–∫–∏–º–∏", –¥–µ–ª–µ–≥–∏—Ä—É—è –ª–æ–≥–∏–∫—É —Å–µ—Ä–≤–∏—Å–∞–º.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ (`@RestController` –¥–ª—è API, `@Controller` –¥–ª—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü).
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏, —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—ã–ª–æ –Ω–∞–¥—ë–∂–Ω—ã–º.

---
_–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –º–æ–¥–µ–ª—å—å—é grok.com_

[üîô _–∫ —Å–ø–∏—Å–∫—É –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —Ç–µ–º–µ_ **Spring** üîô](/_ITM_old_version_FOR_DELETE/ITM06_Spring/Spring.md)
